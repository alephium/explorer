import{c as Ae,a as Qi,r as qt,j as vo}from"./index-728ea92d.js";var Tn={},Pn={},Or={},Le={},Cn={},un={},hn={};function mo(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var o=0;o<t.length;o++){var p=t.charAt(o),i=p.charCodeAt(0);if(e[i]!==255)throw new TypeError(p+" is ambiguous");e[i]=o}var a=t.length,s=t.charAt(0),M=Math.log(a)/Math.log(256),A=Math.log(256)/Math.log(a);function I($){if($ instanceof Uint8Array||(ArrayBuffer.isView($)?$=new Uint8Array($.buffer,$.byteOffset,$.byteLength):Array.isArray($)&&($=Uint8Array.from($))),!($ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($.length===0)return"";for(var re=0,oe=0,ae=0,ue=$.length;ae!==ue&&$[ae]===0;)ae++,re++;for(var he=(ue-ae)*A+1>>>0,de=new Uint8Array(he);ae!==ue;){for(var Ee=$[ae],ye=0,T=he-1;(Ee!==0||ye<oe)&&T!==-1;T--,ye++)Ee+=256*de[T]>>>0,de[T]=Ee%a>>>0,Ee=Ee/a>>>0;if(Ee!==0)throw new Error("Non-zero carry");oe=ye,ae++}for(var L=he-oe;L!==he&&de[L]===0;)L++;for(var ee=s.repeat(re);L<he;++L)ee+=t.charAt(de[L]);return ee}function R($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return new Uint8Array;for(var re=0,oe=0,ae=0;$[re]===s;)oe++,re++;for(var ue=($.length-re)*M+1>>>0,he=new Uint8Array(ue);$[re];){var de=e[$.charCodeAt(re)];if(de===255)return;for(var Ee=0,ye=ue-1;(de!==0||Ee<ae)&&ye!==-1;ye--,Ee++)de+=a*he[ye]>>>0,he[ye]=de%256>>>0,de=de/256>>>0;if(de!==0)throw new Error("Non-zero carry");ae=Ee,re++}for(var T=ue-ae;T!==ue&&he[T]===0;)T++;for(var L=new Uint8Array(oe+(ue-T)),ee=oe;T!==ue;)L[ee++]=he[T++];return L}function Y($){var re=R($);if(re)return re;throw new Error("Non-base"+a+" character")}return{encode:I,decodeUnsafe:R,decode:Y}}var go=mo;(function(t){var e=Ae&&Ae.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0}),t.isBase58=t.bs58=void 0;const r=e(go),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.bs58=(0,r.default)(o);function p(i){if(i===""||i.trim()==="")return!1;try{return t.bs58.encode(t.bs58.decode(i))===i}catch{return!1}}t.isBase58=p,t.default=t.bs58})(hn);var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});function yo(t){let e=5381;for(let r=0;r<t.length;r++)e=(e<<5)+e+(t[`${r}`]&255);return e}Wr.default=yo;var es=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(un,"__esModule",{value:!0});un.addressToGroup=void 0;const wo=es(hn),xo=es(Wr);function Mo(t,e){const r=wo.default.decode(t).slice(1),o=(0,xo.default)(r)|1;return _o(Ao(o))%e}un.addressToGroup=Mo;function Ao(t){const e=t>>24,r=t>>16,o=t>>8;return e^r^o^t}function _o(t){return t&255}var ke={},Qn={};const So="elliptic",Eo="6.5.4",Io="EC cryptography",Bo="lib/elliptic.js",To=["lib"],Po={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Co={type:"git",url:"git@github.com:indutny/elliptic"},Ro=["EC","Elliptic","curve","Cryptography"],Oo="Fedor Indutny <fedor@indutny.com>",No="MIT",Fo={url:"https://github.com/indutny/elliptic/issues"},qo="https://github.com/indutny/elliptic",Uo={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},ko={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Ho={name:So,version:Eo,description:Io,main:Bo,files:To,scripts:Po,repository:Co,keywords:Ro,author:Oo,license:No,bugs:Fo,homepage:qo,devDependencies:Uo,dependencies:ko};var vt={},ei={exports:{}};const $o={},Do=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),It=Qi(Do);ei.exports;(function(t){(function(e,r){function o(B,l){if(!B)throw new Error(l||"Assertion failed")}function p(B,l){B.super_=l;var u=function(){};u.prototype=l.prototype,B.prototype=new u,B.prototype.constructor=B}function i(B,l,u){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((l==="le"||l==="be")&&(u=l,l=10),this._init(B||0,l||10,u||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=It.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,u){return l.cmp(u)>0?l:u},i.min=function(l,u){return l.cmp(u)<0?l:u},i.prototype._init=function(l,u,n){if(typeof l=="number")return this._initNumber(l,u,n);if(typeof l=="object")return this._initArray(l,u,n);u==="hex"&&(u=16),o(u===(u|0)&&u>=2&&u<=36),l=l.toString().replace(/\s+/g,"");var f=0;l[0]==="-"&&(f++,this.negative=1),f<l.length&&(u===16?this._parseHex(l,f,n):(this._parseBase(l,u,f),n==="le"&&this._initArray(this.toArray(),u,n)))},i.prototype._initNumber=function(l,u,n){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(o(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),u,n)},i.prototype._initArray=function(l,u,n){if(o(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d,m,x=0;if(n==="be")for(f=l.length-1,d=0;f>=0;f-=3)m=l[f]|l[f-1]<<8|l[f-2]<<16,this.words[d]|=m<<x&67108863,this.words[d+1]=m>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);else if(n==="le")for(f=0,d=0;f<l.length;f+=3)m=l[f]|l[f+1]<<8|l[f+2]<<16,this.words[d]|=m<<x&67108863,this.words[d+1]=m>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);return this.strip()};function s(B,l){var u=B.charCodeAt(l);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function M(B,l,u){var n=s(B,u);return u-1>=l&&(n|=s(B,u-1)<<4),n}i.prototype._parseHex=function(l,u,n){this.length=Math.ceil((l.length-u)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d=0,m=0,x;if(n==="be")for(f=l.length-1;f>=u;f-=2)x=M(l,u,f)<<d,this.words[m]|=x&67108863,d>=18?(d-=18,m+=1,this.words[m]|=x>>>26):d+=8;else{var w=l.length-u;for(f=w%2===0?u+1:u;f<l.length;f+=2)x=M(l,u,f)<<d,this.words[m]|=x&67108863,d>=18?(d-=18,m+=1,this.words[m]|=x>>>26):d+=8}this.strip()};function A(B,l,u,n){for(var f=0,d=Math.min(B.length,u),m=l;m<d;m++){var x=B.charCodeAt(m)-48;f*=n,x>=49?f+=x-49+10:x>=17?f+=x-17+10:f+=x}return f}i.prototype._parseBase=function(l,u,n){this.words=[0],this.length=1;for(var f=0,d=1;d<=67108863;d*=u)f++;f--,d=d/u|0;for(var m=l.length-n,x=m%f,w=Math.min(m,m-x)+n,h=0,g=n;g<w;g+=f)h=A(l,g,g+f,u),this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(x!==0){var v=1;for(h=A(l,g,l.length,u),g=0;g<x;g++)v*=u;this.imuln(v),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var u=0;u<this.length;u++)l.words[u]=this.words[u];l.length=this.length,l.negative=this.negative,l.red=this.red},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,u){l=l||10,u=u|0||1;var n;if(l===16||l==="hex"){n="";for(var f=0,d=0,m=0;m<this.length;m++){var x=this.words[m],w=((x<<f|d)&16777215).toString(16);d=x>>>24-f&16777215,d!==0||m!==this.length-1?n=I[6-w.length]+w+n:n=w+n,f+=2,f>=26&&(f-=26,m--)}for(d!==0&&(n=d.toString(16)+n);n.length%u!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(l===(l|0)&&l>=2&&l<=36){var h=R[l],g=Y[l];n="";var v=this.clone();for(v.negative=0;!v.isZero();){var _=v.modn(g).toString(l);v=v.idivn(g),v.isZero()?n=_+n:n=I[h-_.length]+_+n}for(this.isZero()&&(n="0"+n);n.length%u!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(l,u){return o(typeof a<"u"),this.toArrayLike(a,l,u)},i.prototype.toArray=function(l,u){return this.toArrayLike(Array,l,u)},i.prototype.toArrayLike=function(l,u,n){var f=this.byteLength(),d=n||Math.max(1,f);o(f<=d,"byte array longer than desired length"),o(d>0,"Requested array length <= 0"),this.strip();var m=u==="le",x=new l(d),w,h,g=this.clone();if(m){for(h=0;!g.isZero();h++)w=g.andln(255),g.iushrn(8),x[h]=w;for(;h<d;h++)x[h]=0}else{for(h=0;h<d-f;h++)x[h]=0;for(h=0;!g.isZero();h++)w=g.andln(255),g.iushrn(8),x[d-h-1]=w}return x},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var u=l,n=0;return u>=4096&&(n+=13,u>>>=13),u>=64&&(n+=7,u>>>=7),u>=8&&(n+=4,u>>>=4),u>=2&&(n+=2,u>>>=2),n+u},i.prototype._zeroBits=function(l){if(l===0)return 26;var u=l,n=0;return u&8191||(n+=13,u>>>=13),u&127||(n+=7,u>>>=7),u&15||(n+=4,u>>>=4),u&3||(n+=2,u>>>=2),u&1||n++,n},i.prototype.bitLength=function(){var l=this.words[this.length-1],u=this._countBits(l);return(this.length-1)*26+u};function $(B){for(var l=new Array(B.bitLength()),u=0;u<l.length;u++){var n=u/26|0,f=u%26;l[u]=(B.words[n]&1<<f)>>>f}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,u=0;u<this.length;u++){var n=this._zeroBits(this.words[u]);if(l+=n,n!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var u=0;u<l.length;u++)this.words[u]=this.words[u]|l.words[u];return this.strip()},i.prototype.ior=function(l){return o((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var u;this.length>l.length?u=l:u=this;for(var n=0;n<u.length;n++)this.words[n]=this.words[n]&l.words[n];return this.length=u.length,this.strip()},i.prototype.iand=function(l){return o((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var u,n;this.length>l.length?(u=this,n=l):(u=l,n=this);for(var f=0;f<n.length;f++)this.words[f]=u.words[f]^n.words[f];if(this!==u)for(;f<u.length;f++)this.words[f]=u.words[f];return this.length=u.length,this.strip()},i.prototype.ixor=function(l){return o((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){o(typeof l=="number"&&l>=0);var u=Math.ceil(l/26)|0,n=l%26;this._expand(u),n>0&&u--;for(var f=0;f<u;f++)this.words[f]=~this.words[f]&67108863;return n>0&&(this.words[f]=~this.words[f]&67108863>>26-n),this.strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,u){o(typeof l=="number"&&l>=0);var n=l/26|0,f=l%26;return this._expand(n+1),u?this.words[n]=this.words[n]|1<<f:this.words[n]=this.words[n]&~(1<<f),this.strip()},i.prototype.iadd=function(l){var u;if(this.negative!==0&&l.negative===0)return this.negative=0,u=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,u=this.isub(l),l.negative=1,u._normSign();var n,f;this.length>l.length?(n=this,f=l):(n=l,f=this);for(var d=0,m=0;m<f.length;m++)u=(n.words[m]|0)+(f.words[m]|0)+d,this.words[m]=u&67108863,d=u>>>26;for(;d!==0&&m<n.length;m++)u=(n.words[m]|0)+d,this.words[m]=u&67108863,d=u>>>26;if(this.length=n.length,d!==0)this.words[this.length]=d,this.length++;else if(n!==this)for(;m<n.length;m++)this.words[m]=n.words[m];return this},i.prototype.add=function(l){var u;return l.negative!==0&&this.negative===0?(l.negative=0,u=this.sub(l),l.negative^=1,u):l.negative===0&&this.negative!==0?(this.negative=0,u=l.sub(this),this.negative=1,u):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var u=this.iadd(l);return l.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var n=this.cmp(l);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,d;n>0?(f=this,d=l):(f=l,d=this);for(var m=0,x=0;x<d.length;x++)u=(f.words[x]|0)-(d.words[x]|0)+m,m=u>>26,this.words[x]=u&67108863;for(;m!==0&&x<f.length;x++)u=(f.words[x]|0)+m,m=u>>26,this.words[x]=u&67108863;if(m===0&&x<f.length&&f!==this)for(;x<f.length;x++)this.words[x]=f.words[x];return this.length=Math.max(this.length,x),f!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function re(B,l,u){u.negative=l.negative^B.negative;var n=B.length+l.length|0;u.length=n,n=n-1|0;var f=B.words[0]|0,d=l.words[0]|0,m=f*d,x=m&67108863,w=m/67108864|0;u.words[0]=x;for(var h=1;h<n;h++){for(var g=w>>>26,v=w&67108863,_=Math.min(h,l.length-1),V=Math.max(0,h-B.length+1);V<=_;V++){var be=h-V|0;f=B.words[be]|0,d=l.words[V]|0,m=f*d+v,g+=m/67108864|0,v=m&67108863}u.words[h]=v|0,w=g|0}return w!==0?u.words[h]=w|0:u.length--,u.strip()}var oe=function(l,u,n){var f=l.words,d=u.words,m=n.words,x=0,w,h,g,v=f[0]|0,_=v&8191,V=v>>>13,be=f[1]|0,Me=be&8191,qe=be>>>13,Ne=f[2]|0,Te=Ne&8191,P=Ne>>>13,F=f[3]|0,q=F&8191,te=F>>>13,Z=f[4]|0,J=Z&8191,se=Z>>>13,z=f[5]|0,K=z&8191,ie=z>>>13,ne=f[6]|0,ce=ne&8191,we=ne>>>13,D=f[7]|0,S=D&8191,O=D>>>13,Q=f[8]|0,y=Q&8191,c=Q>>>13,b=f[9]|0,E=b&8191,N=b>>>13,W=d[0]|0,X=W&8191,ve=W>>>13,_e=d[1]|0,xe=_e&8191,Se=_e>>>13,Ce=d[2]|0,Oe=Ce&8191,je=Ce>>>13,Ge=d[3]|0,Re=Ge&8191,We=Ge>>>13,Xe=d[4]|0,U=Xe&8191,C=Xe>>>13,k=d[5]|0,j=k&8191,fe=k>>>13,le=d[6]|0,pe=le&8191,me=le>>>13,Be=d[7]|0,ge=Be&8191,Pe=Be>>>13,Fe=d[8]|0,Ie=Fe&8191,$e=Fe>>>13,He=d[9]|0,Ue=He&8191,Je=He>>>13;n.negative=l.negative^u.negative,n.length=19,w=Math.imul(_,X),h=Math.imul(_,ve),h=h+Math.imul(V,X)|0,g=Math.imul(V,ve);var Ke=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,w=Math.imul(Me,X),h=Math.imul(Me,ve),h=h+Math.imul(qe,X)|0,g=Math.imul(qe,ve),w=w+Math.imul(_,xe)|0,h=h+Math.imul(_,Se)|0,h=h+Math.imul(V,xe)|0,g=g+Math.imul(V,Se)|0;var Ze=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,w=Math.imul(Te,X),h=Math.imul(Te,ve),h=h+Math.imul(P,X)|0,g=Math.imul(P,ve),w=w+Math.imul(Me,xe)|0,h=h+Math.imul(Me,Se)|0,h=h+Math.imul(qe,xe)|0,g=g+Math.imul(qe,Se)|0,w=w+Math.imul(_,Oe)|0,h=h+Math.imul(_,je)|0,h=h+Math.imul(V,Oe)|0,g=g+Math.imul(V,je)|0;var mt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(q,X),h=Math.imul(q,ve),h=h+Math.imul(te,X)|0,g=Math.imul(te,ve),w=w+Math.imul(Te,xe)|0,h=h+Math.imul(Te,Se)|0,h=h+Math.imul(P,xe)|0,g=g+Math.imul(P,Se)|0,w=w+Math.imul(Me,Oe)|0,h=h+Math.imul(Me,je)|0,h=h+Math.imul(qe,Oe)|0,g=g+Math.imul(qe,je)|0,w=w+Math.imul(_,Re)|0,h=h+Math.imul(_,We)|0,h=h+Math.imul(V,Re)|0,g=g+Math.imul(V,We)|0;var Mt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(J,X),h=Math.imul(J,ve),h=h+Math.imul(se,X)|0,g=Math.imul(se,ve),w=w+Math.imul(q,xe)|0,h=h+Math.imul(q,Se)|0,h=h+Math.imul(te,xe)|0,g=g+Math.imul(te,Se)|0,w=w+Math.imul(Te,Oe)|0,h=h+Math.imul(Te,je)|0,h=h+Math.imul(P,Oe)|0,g=g+Math.imul(P,je)|0,w=w+Math.imul(Me,Re)|0,h=h+Math.imul(Me,We)|0,h=h+Math.imul(qe,Re)|0,g=g+Math.imul(qe,We)|0,w=w+Math.imul(_,U)|0,h=h+Math.imul(_,C)|0,h=h+Math.imul(V,U)|0,g=g+Math.imul(V,C)|0;var bt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(K,X),h=Math.imul(K,ve),h=h+Math.imul(ie,X)|0,g=Math.imul(ie,ve),w=w+Math.imul(J,xe)|0,h=h+Math.imul(J,Se)|0,h=h+Math.imul(se,xe)|0,g=g+Math.imul(se,Se)|0,w=w+Math.imul(q,Oe)|0,h=h+Math.imul(q,je)|0,h=h+Math.imul(te,Oe)|0,g=g+Math.imul(te,je)|0,w=w+Math.imul(Te,Re)|0,h=h+Math.imul(Te,We)|0,h=h+Math.imul(P,Re)|0,g=g+Math.imul(P,We)|0,w=w+Math.imul(Me,U)|0,h=h+Math.imul(Me,C)|0,h=h+Math.imul(qe,U)|0,g=g+Math.imul(qe,C)|0,w=w+Math.imul(_,j)|0,h=h+Math.imul(_,fe)|0,h=h+Math.imul(V,j)|0,g=g+Math.imul(V,fe)|0;var Lt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,w=Math.imul(ce,X),h=Math.imul(ce,ve),h=h+Math.imul(we,X)|0,g=Math.imul(we,ve),w=w+Math.imul(K,xe)|0,h=h+Math.imul(K,Se)|0,h=h+Math.imul(ie,xe)|0,g=g+Math.imul(ie,Se)|0,w=w+Math.imul(J,Oe)|0,h=h+Math.imul(J,je)|0,h=h+Math.imul(se,Oe)|0,g=g+Math.imul(se,je)|0,w=w+Math.imul(q,Re)|0,h=h+Math.imul(q,We)|0,h=h+Math.imul(te,Re)|0,g=g+Math.imul(te,We)|0,w=w+Math.imul(Te,U)|0,h=h+Math.imul(Te,C)|0,h=h+Math.imul(P,U)|0,g=g+Math.imul(P,C)|0,w=w+Math.imul(Me,j)|0,h=h+Math.imul(Me,fe)|0,h=h+Math.imul(qe,j)|0,g=g+Math.imul(qe,fe)|0,w=w+Math.imul(_,pe)|0,h=h+Math.imul(_,me)|0,h=h+Math.imul(V,pe)|0,g=g+Math.imul(V,me)|0;var Xt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(S,X),h=Math.imul(S,ve),h=h+Math.imul(O,X)|0,g=Math.imul(O,ve),w=w+Math.imul(ce,xe)|0,h=h+Math.imul(ce,Se)|0,h=h+Math.imul(we,xe)|0,g=g+Math.imul(we,Se)|0,w=w+Math.imul(K,Oe)|0,h=h+Math.imul(K,je)|0,h=h+Math.imul(ie,Oe)|0,g=g+Math.imul(ie,je)|0,w=w+Math.imul(J,Re)|0,h=h+Math.imul(J,We)|0,h=h+Math.imul(se,Re)|0,g=g+Math.imul(se,We)|0,w=w+Math.imul(q,U)|0,h=h+Math.imul(q,C)|0,h=h+Math.imul(te,U)|0,g=g+Math.imul(te,C)|0,w=w+Math.imul(Te,j)|0,h=h+Math.imul(Te,fe)|0,h=h+Math.imul(P,j)|0,g=g+Math.imul(P,fe)|0,w=w+Math.imul(Me,pe)|0,h=h+Math.imul(Me,me)|0,h=h+Math.imul(qe,pe)|0,g=g+Math.imul(qe,me)|0,w=w+Math.imul(_,ge)|0,h=h+Math.imul(_,Pe)|0,h=h+Math.imul(V,ge)|0,g=g+Math.imul(V,Pe)|0;var Yt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,w=Math.imul(y,X),h=Math.imul(y,ve),h=h+Math.imul(c,X)|0,g=Math.imul(c,ve),w=w+Math.imul(S,xe)|0,h=h+Math.imul(S,Se)|0,h=h+Math.imul(O,xe)|0,g=g+Math.imul(O,Se)|0,w=w+Math.imul(ce,Oe)|0,h=h+Math.imul(ce,je)|0,h=h+Math.imul(we,Oe)|0,g=g+Math.imul(we,je)|0,w=w+Math.imul(K,Re)|0,h=h+Math.imul(K,We)|0,h=h+Math.imul(ie,Re)|0,g=g+Math.imul(ie,We)|0,w=w+Math.imul(J,U)|0,h=h+Math.imul(J,C)|0,h=h+Math.imul(se,U)|0,g=g+Math.imul(se,C)|0,w=w+Math.imul(q,j)|0,h=h+Math.imul(q,fe)|0,h=h+Math.imul(te,j)|0,g=g+Math.imul(te,fe)|0,w=w+Math.imul(Te,pe)|0,h=h+Math.imul(Te,me)|0,h=h+Math.imul(P,pe)|0,g=g+Math.imul(P,me)|0,w=w+Math.imul(Me,ge)|0,h=h+Math.imul(Me,Pe)|0,h=h+Math.imul(qe,ge)|0,g=g+Math.imul(qe,Pe)|0,w=w+Math.imul(_,Ie)|0,h=h+Math.imul(_,$e)|0,h=h+Math.imul(V,Ie)|0,g=g+Math.imul(V,$e)|0;var Qt=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(E,X),h=Math.imul(E,ve),h=h+Math.imul(N,X)|0,g=Math.imul(N,ve),w=w+Math.imul(y,xe)|0,h=h+Math.imul(y,Se)|0,h=h+Math.imul(c,xe)|0,g=g+Math.imul(c,Se)|0,w=w+Math.imul(S,Oe)|0,h=h+Math.imul(S,je)|0,h=h+Math.imul(O,Oe)|0,g=g+Math.imul(O,je)|0,w=w+Math.imul(ce,Re)|0,h=h+Math.imul(ce,We)|0,h=h+Math.imul(we,Re)|0,g=g+Math.imul(we,We)|0,w=w+Math.imul(K,U)|0,h=h+Math.imul(K,C)|0,h=h+Math.imul(ie,U)|0,g=g+Math.imul(ie,C)|0,w=w+Math.imul(J,j)|0,h=h+Math.imul(J,fe)|0,h=h+Math.imul(se,j)|0,g=g+Math.imul(se,fe)|0,w=w+Math.imul(q,pe)|0,h=h+Math.imul(q,me)|0,h=h+Math.imul(te,pe)|0,g=g+Math.imul(te,me)|0,w=w+Math.imul(Te,ge)|0,h=h+Math.imul(Te,Pe)|0,h=h+Math.imul(P,ge)|0,g=g+Math.imul(P,Pe)|0,w=w+Math.imul(Me,Ie)|0,h=h+Math.imul(Me,$e)|0,h=h+Math.imul(qe,Ie)|0,g=g+Math.imul(qe,$e)|0,w=w+Math.imul(_,Ue)|0,h=h+Math.imul(_,Je)|0,h=h+Math.imul(V,Ue)|0,g=g+Math.imul(V,Je)|0;var er=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(E,xe),h=Math.imul(E,Se),h=h+Math.imul(N,xe)|0,g=Math.imul(N,Se),w=w+Math.imul(y,Oe)|0,h=h+Math.imul(y,je)|0,h=h+Math.imul(c,Oe)|0,g=g+Math.imul(c,je)|0,w=w+Math.imul(S,Re)|0,h=h+Math.imul(S,We)|0,h=h+Math.imul(O,Re)|0,g=g+Math.imul(O,We)|0,w=w+Math.imul(ce,U)|0,h=h+Math.imul(ce,C)|0,h=h+Math.imul(we,U)|0,g=g+Math.imul(we,C)|0,w=w+Math.imul(K,j)|0,h=h+Math.imul(K,fe)|0,h=h+Math.imul(ie,j)|0,g=g+Math.imul(ie,fe)|0,w=w+Math.imul(J,pe)|0,h=h+Math.imul(J,me)|0,h=h+Math.imul(se,pe)|0,g=g+Math.imul(se,me)|0,w=w+Math.imul(q,ge)|0,h=h+Math.imul(q,Pe)|0,h=h+Math.imul(te,ge)|0,g=g+Math.imul(te,Pe)|0,w=w+Math.imul(Te,Ie)|0,h=h+Math.imul(Te,$e)|0,h=h+Math.imul(P,Ie)|0,g=g+Math.imul(P,$e)|0,w=w+Math.imul(Me,Ue)|0,h=h+Math.imul(Me,Je)|0,h=h+Math.imul(qe,Ue)|0,g=g+Math.imul(qe,Je)|0;var tr=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,w=Math.imul(E,Oe),h=Math.imul(E,je),h=h+Math.imul(N,Oe)|0,g=Math.imul(N,je),w=w+Math.imul(y,Re)|0,h=h+Math.imul(y,We)|0,h=h+Math.imul(c,Re)|0,g=g+Math.imul(c,We)|0,w=w+Math.imul(S,U)|0,h=h+Math.imul(S,C)|0,h=h+Math.imul(O,U)|0,g=g+Math.imul(O,C)|0,w=w+Math.imul(ce,j)|0,h=h+Math.imul(ce,fe)|0,h=h+Math.imul(we,j)|0,g=g+Math.imul(we,fe)|0,w=w+Math.imul(K,pe)|0,h=h+Math.imul(K,me)|0,h=h+Math.imul(ie,pe)|0,g=g+Math.imul(ie,me)|0,w=w+Math.imul(J,ge)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul(se,ge)|0,g=g+Math.imul(se,Pe)|0,w=w+Math.imul(q,Ie)|0,h=h+Math.imul(q,$e)|0,h=h+Math.imul(te,Ie)|0,g=g+Math.imul(te,$e)|0,w=w+Math.imul(Te,Ue)|0,h=h+Math.imul(Te,Je)|0,h=h+Math.imul(P,Ue)|0,g=g+Math.imul(P,Je)|0;var rr=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(E,Re),h=Math.imul(E,We),h=h+Math.imul(N,Re)|0,g=Math.imul(N,We),w=w+Math.imul(y,U)|0,h=h+Math.imul(y,C)|0,h=h+Math.imul(c,U)|0,g=g+Math.imul(c,C)|0,w=w+Math.imul(S,j)|0,h=h+Math.imul(S,fe)|0,h=h+Math.imul(O,j)|0,g=g+Math.imul(O,fe)|0,w=w+Math.imul(ce,pe)|0,h=h+Math.imul(ce,me)|0,h=h+Math.imul(we,pe)|0,g=g+Math.imul(we,me)|0,w=w+Math.imul(K,ge)|0,h=h+Math.imul(K,Pe)|0,h=h+Math.imul(ie,ge)|0,g=g+Math.imul(ie,Pe)|0,w=w+Math.imul(J,Ie)|0,h=h+Math.imul(J,$e)|0,h=h+Math.imul(se,Ie)|0,g=g+Math.imul(se,$e)|0,w=w+Math.imul(q,Ue)|0,h=h+Math.imul(q,Je)|0,h=h+Math.imul(te,Ue)|0,g=g+Math.imul(te,Je)|0;var nr=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(E,U),h=Math.imul(E,C),h=h+Math.imul(N,U)|0,g=Math.imul(N,C),w=w+Math.imul(y,j)|0,h=h+Math.imul(y,fe)|0,h=h+Math.imul(c,j)|0,g=g+Math.imul(c,fe)|0,w=w+Math.imul(S,pe)|0,h=h+Math.imul(S,me)|0,h=h+Math.imul(O,pe)|0,g=g+Math.imul(O,me)|0,w=w+Math.imul(ce,ge)|0,h=h+Math.imul(ce,Pe)|0,h=h+Math.imul(we,ge)|0,g=g+Math.imul(we,Pe)|0,w=w+Math.imul(K,Ie)|0,h=h+Math.imul(K,$e)|0,h=h+Math.imul(ie,Ie)|0,g=g+Math.imul(ie,$e)|0,w=w+Math.imul(J,Ue)|0,h=h+Math.imul(J,Je)|0,h=h+Math.imul(se,Ue)|0,g=g+Math.imul(se,Je)|0;var ir=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(E,j),h=Math.imul(E,fe),h=h+Math.imul(N,j)|0,g=Math.imul(N,fe),w=w+Math.imul(y,pe)|0,h=h+Math.imul(y,me)|0,h=h+Math.imul(c,pe)|0,g=g+Math.imul(c,me)|0,w=w+Math.imul(S,ge)|0,h=h+Math.imul(S,Pe)|0,h=h+Math.imul(O,ge)|0,g=g+Math.imul(O,Pe)|0,w=w+Math.imul(ce,Ie)|0,h=h+Math.imul(ce,$e)|0,h=h+Math.imul(we,Ie)|0,g=g+Math.imul(we,$e)|0,w=w+Math.imul(K,Ue)|0,h=h+Math.imul(K,Je)|0,h=h+Math.imul(ie,Ue)|0,g=g+Math.imul(ie,Je)|0;var sr=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(E,pe),h=Math.imul(E,me),h=h+Math.imul(N,pe)|0,g=Math.imul(N,me),w=w+Math.imul(y,ge)|0,h=h+Math.imul(y,Pe)|0,h=h+Math.imul(c,ge)|0,g=g+Math.imul(c,Pe)|0,w=w+Math.imul(S,Ie)|0,h=h+Math.imul(S,$e)|0,h=h+Math.imul(O,Ie)|0,g=g+Math.imul(O,$e)|0,w=w+Math.imul(ce,Ue)|0,h=h+Math.imul(ce,Je)|0,h=h+Math.imul(we,Ue)|0,g=g+Math.imul(we,Je)|0;var or=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(or>>>26)|0,or&=67108863,w=Math.imul(E,ge),h=Math.imul(E,Pe),h=h+Math.imul(N,ge)|0,g=Math.imul(N,Pe),w=w+Math.imul(y,Ie)|0,h=h+Math.imul(y,$e)|0,h=h+Math.imul(c,Ie)|0,g=g+Math.imul(c,$e)|0,w=w+Math.imul(S,Ue)|0,h=h+Math.imul(S,Je)|0,h=h+Math.imul(O,Ue)|0,g=g+Math.imul(O,Je)|0;var ar=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,w=Math.imul(E,Ie),h=Math.imul(E,$e),h=h+Math.imul(N,Ie)|0,g=Math.imul(N,$e),w=w+Math.imul(y,Ue)|0,h=h+Math.imul(y,Je)|0,h=h+Math.imul(c,Ue)|0,g=g+Math.imul(c,Je)|0;var fr=(x+w|0)+((h&8191)<<13)|0;x=(g+(h>>>13)|0)+(fr>>>26)|0,fr&=67108863,w=Math.imul(E,Ue),h=Math.imul(E,Je),h=h+Math.imul(N,Ue)|0,g=Math.imul(N,Je);var cr=(x+w|0)+((h&8191)<<13)|0;return x=(g+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,m[0]=Ke,m[1]=Ze,m[2]=mt,m[3]=Mt,m[4]=bt,m[5]=Lt,m[6]=Xt,m[7]=Yt,m[8]=Qt,m[9]=er,m[10]=tr,m[11]=rr,m[12]=nr,m[13]=ir,m[14]=sr,m[15]=or,m[16]=ar,m[17]=fr,m[18]=cr,x!==0&&(m[19]=x,n.length++),n};Math.imul||(oe=re);function ae(B,l,u){u.negative=l.negative^B.negative,u.length=B.length+l.length;for(var n=0,f=0,d=0;d<u.length-1;d++){var m=f;f=0;for(var x=n&67108863,w=Math.min(d,l.length-1),h=Math.max(0,d-B.length+1);h<=w;h++){var g=d-h,v=B.words[g]|0,_=l.words[h]|0,V=v*_,be=V&67108863;m=m+(V/67108864|0)|0,be=be+x|0,x=be&67108863,m=m+(be>>>26)|0,f+=m>>>26,m&=67108863}u.words[d]=x,n=m,m=f}return n!==0?u.words[d]=n:u.length--,u.strip()}function ue(B,l,u){var n=new he;return n.mulp(B,l,u)}i.prototype.mulTo=function(l,u){var n,f=this.length+l.length;return this.length===10&&l.length===10?n=oe(this,l,u):f<63?n=re(this,l,u):f<1024?n=ae(this,l,u):n=ue(this,l,u),n};function he(B,l){this.x=B,this.y=l}he.prototype.makeRBT=function(l){for(var u=new Array(l),n=i.prototype._countBits(l)-1,f=0;f<l;f++)u[f]=this.revBin(f,n,l);return u},he.prototype.revBin=function(l,u,n){if(l===0||l===n-1)return l;for(var f=0,d=0;d<u;d++)f|=(l&1)<<u-d-1,l>>=1;return f},he.prototype.permute=function(l,u,n,f,d,m){for(var x=0;x<m;x++)f[x]=u[l[x]],d[x]=n[l[x]]},he.prototype.transform=function(l,u,n,f,d,m){this.permute(m,l,u,n,f,d);for(var x=1;x<d;x<<=1)for(var w=x<<1,h=Math.cos(2*Math.PI/w),g=Math.sin(2*Math.PI/w),v=0;v<d;v+=w)for(var _=h,V=g,be=0;be<x;be++){var Me=n[v+be],qe=f[v+be],Ne=n[v+be+x],Te=f[v+be+x],P=_*Ne-V*Te;Te=_*Te+V*Ne,Ne=P,n[v+be]=Me+Ne,f[v+be]=qe+Te,n[v+be+x]=Me-Ne,f[v+be+x]=qe-Te,be!==w&&(P=h*_-g*V,V=h*V+g*_,_=P)}},he.prototype.guessLen13b=function(l,u){var n=Math.max(u,l)|1,f=n&1,d=0;for(n=n/2|0;n;n=n>>>1)d++;return 1<<d+1+f},he.prototype.conjugate=function(l,u,n){if(!(n<=1))for(var f=0;f<n/2;f++){var d=l[f];l[f]=l[n-f-1],l[n-f-1]=d,d=u[f],u[f]=-u[n-f-1],u[n-f-1]=-d}},he.prototype.normalize13b=function(l,u){for(var n=0,f=0;f<u/2;f++){var d=Math.round(l[2*f+1]/u)*8192+Math.round(l[2*f]/u)+n;l[f]=d&67108863,d<67108864?n=0:n=d/67108864|0}return l},he.prototype.convert13b=function(l,u,n,f){for(var d=0,m=0;m<u;m++)d=d+(l[m]|0),n[2*m]=d&8191,d=d>>>13,n[2*m+1]=d&8191,d=d>>>13;for(m=2*u;m<f;++m)n[m]=0;o(d===0),o((d&-8192)===0)},he.prototype.stub=function(l){for(var u=new Array(l),n=0;n<l;n++)u[n]=0;return u},he.prototype.mulp=function(l,u,n){var f=2*this.guessLen13b(l.length,u.length),d=this.makeRBT(f),m=this.stub(f),x=new Array(f),w=new Array(f),h=new Array(f),g=new Array(f),v=new Array(f),_=new Array(f),V=n.words;V.length=f,this.convert13b(l.words,l.length,x,f),this.convert13b(u.words,u.length,g,f),this.transform(x,m,w,h,f,d),this.transform(g,m,v,_,f,d);for(var be=0;be<f;be++){var Me=w[be]*v[be]-h[be]*_[be];h[be]=w[be]*_[be]+h[be]*v[be],w[be]=Me}return this.conjugate(w,h,f),this.transform(w,h,V,m,f,d),this.conjugate(V,m,f),this.normalize13b(V,f),n.negative=l.negative^u.negative,n.length=l.length+u.length,n.strip()},i.prototype.mul=function(l){var u=new i(null);return u.words=new Array(this.length+l.length),this.mulTo(l,u)},i.prototype.mulf=function(l){var u=new i(null);return u.words=new Array(this.length+l.length),ue(this,l,u)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){o(typeof l=="number"),o(l<67108864);for(var u=0,n=0;n<this.length;n++){var f=(this.words[n]|0)*l,d=(f&67108863)+(u&67108863);u>>=26,u+=f/67108864|0,u+=d>>>26,this.words[n]=d&67108863}return u!==0&&(this.words[n]=u,this.length++),this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var u=$(l);if(u.length===0)return new i(1);for(var n=this,f=0;f<u.length&&u[f]===0;f++,n=n.sqr());if(++f<u.length)for(var d=n.sqr();f<u.length;f++,d=d.sqr())u[f]!==0&&(n=n.mul(d));return n},i.prototype.iushln=function(l){o(typeof l=="number"&&l>=0);var u=l%26,n=(l-u)/26,f=67108863>>>26-u<<26-u,d;if(u!==0){var m=0;for(d=0;d<this.length;d++){var x=this.words[d]&f,w=(this.words[d]|0)-x<<u;this.words[d]=w|m,m=x>>>26-u}m&&(this.words[d]=m,this.length++)}if(n!==0){for(d=this.length-1;d>=0;d--)this.words[d+n]=this.words[d];for(d=0;d<n;d++)this.words[d]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(l){return o(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,u,n){o(typeof l=="number"&&l>=0);var f;u?f=(u-u%26)/26:f=0;var d=l%26,m=Math.min((l-d)/26,this.length),x=67108863^67108863>>>d<<d,w=n;if(f-=m,f=Math.max(0,f),w){for(var h=0;h<m;h++)w.words[h]=this.words[h];w.length=m}if(m!==0)if(this.length>m)for(this.length-=m,h=0;h<this.length;h++)this.words[h]=this.words[h+m];else this.words[0]=0,this.length=1;var g=0;for(h=this.length-1;h>=0&&(g!==0||h>=f);h--){var v=this.words[h]|0;this.words[h]=g<<26-d|v>>>d,g=v&x}return w&&g!==0&&(w.words[w.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(l,u,n){return o(this.negative===0),this.iushrn(l,u,n)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){o(typeof l=="number"&&l>=0);var u=l%26,n=(l-u)/26,f=1<<u;if(this.length<=n)return!1;var d=this.words[n];return!!(d&f)},i.prototype.imaskn=function(l){o(typeof l=="number"&&l>=0);var u=l%26,n=(l-u)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(u!==0&&n++,this.length=Math.min(n,this.length),u!==0){var f=67108863^67108863>>>u<<u;this.words[this.length-1]&=f}return this.strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return o(typeof l=="number"),o(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(l){if(o(typeof l=="number"),o(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,u,n){var f=l.length+n,d;this._expand(f);var m,x=0;for(d=0;d<l.length;d++){m=(this.words[d+n]|0)+x;var w=(l.words[d]|0)*u;m-=w&67108863,x=(m>>26)-(w/67108864|0),this.words[d+n]=m&67108863}for(;d<this.length-n;d++)m=(this.words[d+n]|0)+x,x=m>>26,this.words[d+n]=m&67108863;if(x===0)return this.strip();for(o(x===-1),x=0,d=0;d<this.length;d++)m=-(this.words[d]|0)+x,x=m>>26,this.words[d]=m&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(l,u){var n=this.length-l.length,f=this.clone(),d=l,m=d.words[d.length-1]|0,x=this._countBits(m);n=26-x,n!==0&&(d=d.ushln(n),f.iushln(n),m=d.words[d.length-1]|0);var w=f.length-d.length,h;if(u!=="mod"){h=new i(null),h.length=w+1,h.words=new Array(h.length);for(var g=0;g<h.length;g++)h.words[g]=0}var v=f.clone()._ishlnsubmul(d,1,w);v.negative===0&&(f=v,h&&(h.words[w]=1));for(var _=w-1;_>=0;_--){var V=(f.words[d.length+_]|0)*67108864+(f.words[d.length+_-1]|0);for(V=Math.min(V/m|0,67108863),f._ishlnsubmul(d,V,_);f.negative!==0;)V--,f.negative=0,f._ishlnsubmul(d,1,_),f.isZero()||(f.negative^=1);h&&(h.words[_]=V)}return h&&h.strip(),f.strip(),u!=="div"&&n!==0&&f.iushrn(n),{div:h||null,mod:f}},i.prototype.divmod=function(l,u,n){if(o(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var f,d,m;return this.negative!==0&&l.negative===0?(m=this.neg().divmod(l,u),u!=="mod"&&(f=m.div.neg()),u!=="div"&&(d=m.mod.neg(),n&&d.negative!==0&&d.iadd(l)),{div:f,mod:d}):this.negative===0&&l.negative!==0?(m=this.divmod(l.neg(),u),u!=="mod"&&(f=m.div.neg()),{div:f,mod:m.mod}):this.negative&l.negative?(m=this.neg().divmod(l.neg(),u),u!=="div"&&(d=m.mod.neg(),n&&d.negative!==0&&d.isub(l)),{div:m.div,mod:d}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?u==="div"?{div:this.divn(l.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modn(l.words[0]))}:this._wordDiv(l,u)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var u=this.divmod(l);if(u.mod.isZero())return u.div;var n=u.div.negative!==0?u.mod.isub(l):u.mod,f=l.ushrn(1),d=l.andln(1),m=n.cmp(f);return m<0||d===1&&m===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(l){o(l<=67108863);for(var u=(1<<26)%l,n=0,f=this.length-1;f>=0;f--)n=(u*n+(this.words[f]|0))%l;return n},i.prototype.idivn=function(l){o(l<=67108863);for(var u=0,n=this.length-1;n>=0;n--){var f=(this.words[n]|0)+u*67108864;this.words[n]=f/l|0,u=f%l}return this.strip()},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){o(l.negative===0),o(!l.isZero());var u=this,n=l.clone();u.negative!==0?u=u.umod(l):u=u.clone();for(var f=new i(1),d=new i(0),m=new i(0),x=new i(1),w=0;u.isEven()&&n.isEven();)u.iushrn(1),n.iushrn(1),++w;for(var h=n.clone(),g=u.clone();!u.isZero();){for(var v=0,_=1;!(u.words[0]&_)&&v<26;++v,_<<=1);if(v>0)for(u.iushrn(v);v-- >0;)(f.isOdd()||d.isOdd())&&(f.iadd(h),d.isub(g)),f.iushrn(1),d.iushrn(1);for(var V=0,be=1;!(n.words[0]&be)&&V<26;++V,be<<=1);if(V>0)for(n.iushrn(V);V-- >0;)(m.isOdd()||x.isOdd())&&(m.iadd(h),x.isub(g)),m.iushrn(1),x.iushrn(1);u.cmp(n)>=0?(u.isub(n),f.isub(m),d.isub(x)):(n.isub(u),m.isub(f),x.isub(d))}return{a:m,b:x,gcd:n.iushln(w)}},i.prototype._invmp=function(l){o(l.negative===0),o(!l.isZero());var u=this,n=l.clone();u.negative!==0?u=u.umod(l):u=u.clone();for(var f=new i(1),d=new i(0),m=n.clone();u.cmpn(1)>0&&n.cmpn(1)>0;){for(var x=0,w=1;!(u.words[0]&w)&&x<26;++x,w<<=1);if(x>0)for(u.iushrn(x);x-- >0;)f.isOdd()&&f.iadd(m),f.iushrn(1);for(var h=0,g=1;!(n.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(n.iushrn(h);h-- >0;)d.isOdd()&&d.iadd(m),d.iushrn(1);u.cmp(n)>=0?(u.isub(n),f.isub(d)):(n.isub(u),d.isub(f))}var v;return u.cmpn(1)===0?v=f:v=d,v.cmpn(0)<0&&v.iadd(l),v},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var u=this.clone(),n=l.clone();u.negative=0,n.negative=0;for(var f=0;u.isEven()&&n.isEven();f++)u.iushrn(1),n.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;n.isEven();)n.iushrn(1);var d=u.cmp(n);if(d<0){var m=u;u=n,n=m}else if(d===0||n.cmpn(1)===0)break;u.isub(n)}while(!0);return n.iushln(f)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){o(typeof l=="number");var u=l%26,n=(l-u)/26,f=1<<u;if(this.length<=n)return this._expand(n+1),this.words[n]|=f,this;for(var d=f,m=n;d!==0&&m<this.length;m++){var x=this.words[m]|0;x+=d,d=x>>>26,x&=67108863,this.words[m]=x}return d!==0&&(this.words[m]=d,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var u=l<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var n;if(this.length>1)n=1;else{u&&(l=-l),o(l<=67108863,"Number is too big");var f=this.words[0]|0;n=f===l?0:f<l?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var u=this.ucmp(l);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var u=0,n=this.length-1;n>=0;n--){var f=this.words[n]|0,d=l.words[n]|0;if(f!==d){f<d?u=-1:f>d&&(u=1);break}}return u},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new H(l)},i.prototype.toRed=function(l){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return o(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return o(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var de={k256:null,p224:null,p192:null,p25519:null};function Ee(B,l){this.name=B,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ee.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},Ee.prototype.ireduce=function(l){var u=l,n;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),n=u.bitLength();while(n>this.n);var f=n<this.n?-1:u.ucmp(this.p);return f===0?(u.words[0]=0,u.length=1):f>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},Ee.prototype.split=function(l,u){l.iushrn(this.n,0,u)},Ee.prototype.imulK=function(l){return l.imul(this.k)};function ye(){Ee.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(ye,Ee),ye.prototype.split=function(l,u){for(var n=4194303,f=Math.min(l.length,9),d=0;d<f;d++)u.words[d]=l.words[d];if(u.length=f,l.length<=9){l.words[0]=0,l.length=1;return}var m=l.words[9];for(u.words[u.length++]=m&n,d=10;d<l.length;d++){var x=l.words[d]|0;l.words[d-10]=(x&n)<<4|m>>>22,m=x}m>>>=22,l.words[d-10]=m,m===0&&l.length>10?l.length-=10:l.length-=9},ye.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var u=0,n=0;n<l.length;n++){var f=l.words[n]|0;u+=f*977,l.words[n]=u&67108863,u=f*64+(u/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function T(){Ee.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(T,Ee);function L(){Ee.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(L,Ee);function ee(){Ee.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(ee,Ee),ee.prototype.imulK=function(l){for(var u=0,n=0;n<l.length;n++){var f=(l.words[n]|0)*19+u,d=f&67108863;f>>>=26,l.words[n]=d,u=f}return u!==0&&(l.words[l.length++]=u),l},i._prime=function(l){if(de[l])return de[l];var u;if(l==="k256")u=new ye;else if(l==="p224")u=new T;else if(l==="p192")u=new L;else if(l==="p25519")u=new ee;else throw new Error("Unknown prime "+l);return de[l]=u,u};function H(B){if(typeof B=="string"){var l=i._prime(B);this.m=l.p,this.prime=l}else o(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}H.prototype._verify1=function(l){o(l.negative===0,"red works only with positives"),o(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,u){o((l.negative|u.negative)===0,"red works only with positives"),o(l.red&&l.red===u.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,u){this._verify2(l,u);var n=l.add(u);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},H.prototype.iadd=function(l,u){this._verify2(l,u);var n=l.iadd(u);return n.cmp(this.m)>=0&&n.isub(this.m),n},H.prototype.sub=function(l,u){this._verify2(l,u);var n=l.sub(u);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},H.prototype.isub=function(l,u){this._verify2(l,u);var n=l.isub(u);return n.cmpn(0)<0&&n.iadd(this.m),n},H.prototype.shl=function(l,u){return this._verify1(l),this.imod(l.ushln(u))},H.prototype.imul=function(l,u){return this._verify2(l,u),this.imod(l.imul(u))},H.prototype.mul=function(l,u){return this._verify2(l,u),this.imod(l.mul(u))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var u=this.m.andln(3);if(o(u%2===1),u===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(l,n)}for(var f=this.m.subn(1),d=0;!f.isZero()&&f.andln(1)===0;)d++,f.iushrn(1);o(!f.isZero());var m=new i(1).toRed(this),x=m.redNeg(),w=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,w).cmp(x)!==0;)h.redIAdd(x);for(var g=this.pow(h,f),v=this.pow(l,f.addn(1).iushrn(1)),_=this.pow(l,f),V=d;_.cmp(m)!==0;){for(var be=_,Me=0;be.cmp(m)!==0;Me++)be=be.redSqr();o(Me<V);var qe=this.pow(g,new i(1).iushln(V-Me-1));v=v.redMul(qe),g=qe.redSqr(),_=_.redMul(g),V=Me}return v},H.prototype.invm=function(l){var u=l._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},H.prototype.pow=function(l,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return l.clone();var n=4,f=new Array(1<<n);f[0]=new i(1).toRed(this),f[1]=l;for(var d=2;d<f.length;d++)f[d]=this.mul(f[d-1],l);var m=f[0],x=0,w=0,h=u.bitLength()%26;for(h===0&&(h=26),d=u.length-1;d>=0;d--){for(var g=u.words[d],v=h-1;v>=0;v--){var _=g>>v&1;if(m!==f[0]&&(m=this.sqr(m)),_===0&&x===0){w=0;continue}x<<=1,x|=_,w++,!(w!==n&&(d!==0||v!==0))&&(m=this.mul(m,f[x]),w=0,x=0)}h=26}return m},H.prototype.convertTo=function(l){var u=l.umod(this.m);return u===l?u.clone():u},H.prototype.convertFrom=function(l){var u=l.clone();return u.red=null,u},i.mont=function(l){return new G(l)};function G(B){H.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(G,H),G.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},G.prototype.convertFrom=function(l){var u=this.imod(l.mul(this.rinv));return u.red=null,u},G.prototype.imul=function(l,u){if(l.isZero()||u.isZero())return l.words[0]=0,l.length=1,l;var n=l.imul(u),f=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=n.isub(f).iushrn(this.shift),m=d;return d.cmp(this.m)>=0?m=d.isub(this.m):d.cmpn(0)<0&&(m=d.iadd(this.m)),m._forceRed(this)},G.prototype.mul=function(l,u){if(l.isZero()||u.isZero())return new i(0)._forceRed(this);var n=l.mul(u),f=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=n.isub(f).iushrn(this.shift),m=d;return d.cmp(this.m)>=0?m=d.isub(this.m):d.cmpn(0)<0&&(m=d.iadd(this.m)),m._forceRed(this)},G.prototype.invm=function(l){var u=this.imod(l._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,Ae)})(ei);var Dt=ei.exports,gr=ts;function ts(t,e){if(!t)throw new Error(e||"Assertion failed")}ts.equal=function(e,r,o){if(e!=r)throw new Error(o||"Assertion failed: "+e+" != "+r)};var ti={};(function(t){var e=t;function r(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var s=[];if(typeof i!="string"){for(var M=0;M<i.length;M++)s[M]=i[M]|0;return s}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var M=0;M<i.length;M+=2)s.push(parseInt(i[M]+i[M+1],16))}else for(var M=0;M<i.length;M++){var A=i.charCodeAt(M),I=A>>8,R=A&255;I?s.push(I,R):s.push(R)}return s}e.toArray=r;function o(i){return i.length===1?"0"+i:i}e.zero2=o;function p(i){for(var a="",s=0;s<i.length;s++)a+=o(i[s].toString(16));return a}e.toHex=p,e.encode=function(a,s){return s==="hex"?p(a):a}})(ti);(function(t){var e=t,r=Dt,o=gr,p=ti;e.assert=o,e.toArray=p.toArray,e.zero2=p.zero2,e.toHex=p.toHex,e.encode=p.encode;function i(I,R,Y){var $=new Array(Math.max(I.bitLength(),Y)+1);$.fill(0);for(var re=1<<R+1,oe=I.clone(),ae=0;ae<$.length;ae++){var ue,he=oe.andln(re-1);oe.isOdd()?(he>(re>>1)-1?ue=(re>>1)-he:ue=he,oe.isubn(ue)):ue=0,$[ae]=ue,oe.iushrn(1)}return $}e.getNAF=i;function a(I,R){var Y=[[],[]];I=I.clone(),R=R.clone();for(var $=0,re=0,oe;I.cmpn(-$)>0||R.cmpn(-re)>0;){var ae=I.andln(3)+$&3,ue=R.andln(3)+re&3;ae===3&&(ae=-1),ue===3&&(ue=-1);var he;ae&1?(oe=I.andln(7)+$&7,(oe===3||oe===5)&&ue===2?he=-ae:he=ae):he=0,Y[0].push(he);var de;ue&1?(oe=R.andln(7)+re&7,(oe===3||oe===5)&&ae===2?de=-ue:de=ue):de=0,Y[1].push(de),2*$===he+1&&($=1-$),2*re===de+1&&(re=1-re),I.iushrn(1),R.iushrn(1)}return Y}e.getJSF=a;function s(I,R,Y){var $="_"+R;I.prototype[R]=function(){return this[$]!==void 0?this[$]:this[$]=Y.call(this)}}e.cachedProperty=s;function M(I){return typeof I=="string"?e.toArray(I,"hex"):I}e.parseBytes=M;function A(I){return new r(I,"hex","le")}e.intFromLE=A})(vt);var ri={exports:{}},Rn;ri.exports=function(e){return Rn||(Rn=new Vt(null)),Rn.generate(e)};function Vt(t){this.rand=t}ri.exports.Rand=Vt;Vt.prototype.generate=function(e){return this._rand(e)};Vt.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),o=0;o<r.length;o++)r[o]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Vt.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Vt.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Vt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var bi=It;if(typeof bi.randomBytes!="function")throw new Error("Not supported");Vt.prototype._rand=function(e){return bi.randomBytes(e)}}catch{}var rs=ri.exports,ni={},ur=Dt,Vr=vt,on=Vr.getNAF,Lo=Vr.getJSF,an=Vr.assert;function Jt(t,e){this.type=t,this.p=new ur(e.p,16),this.red=e.prime?ur.red(e.prime):ur.mont(this.p),this.zero=new ur(0).toRed(this.red),this.one=new ur(1).toRed(this.red),this.two=new ur(2).toRed(this.red),this.n=e.n&&new ur(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var dn=Jt;Jt.prototype.point=function(){throw new Error("Not implemented")};Jt.prototype.validate=function(){throw new Error("Not implemented")};Jt.prototype._fixedNafMul=function(e,r){an(e.precomputed);var o=e._getDoubles(),p=on(r,1,this._bitLength),i=(1<<o.step+1)-(o.step%2===0?2:1);i/=3;var a=[],s,M;for(s=0;s<p.length;s+=o.step){M=0;for(var A=s+o.step-1;A>=s;A--)M=(M<<1)+p[A];a.push(M)}for(var I=this.jpoint(null,null,null),R=this.jpoint(null,null,null),Y=i;Y>0;Y--){for(s=0;s<a.length;s++)M=a[s],M===Y?R=R.mixedAdd(o.points[s]):M===-Y&&(R=R.mixedAdd(o.points[s].neg()));I=I.add(R)}return I.toP()};Jt.prototype._wnafMul=function(e,r){var o=4,p=e._getNAFPoints(o);o=p.wnd;for(var i=p.points,a=on(r,o,this._bitLength),s=this.jpoint(null,null,null),M=a.length-1;M>=0;M--){for(var A=0;M>=0&&a[M]===0;M--)A++;if(M>=0&&A++,s=s.dblp(A),M<0)break;var I=a[M];an(I!==0),e.type==="affine"?I>0?s=s.mixedAdd(i[I-1>>1]):s=s.mixedAdd(i[-I-1>>1].neg()):I>0?s=s.add(i[I-1>>1]):s=s.add(i[-I-1>>1].neg())}return e.type==="affine"?s.toP():s};Jt.prototype._wnafMulAdd=function(e,r,o,p,i){var a=this._wnafT1,s=this._wnafT2,M=this._wnafT3,A=0,I,R,Y;for(I=0;I<p;I++){Y=r[I];var $=Y._getNAFPoints(e);a[I]=$.wnd,s[I]=$.points}for(I=p-1;I>=1;I-=2){var re=I-1,oe=I;if(a[re]!==1||a[oe]!==1){M[re]=on(o[re],a[re],this._bitLength),M[oe]=on(o[oe],a[oe],this._bitLength),A=Math.max(M[re].length,A),A=Math.max(M[oe].length,A);continue}var ae=[r[re],null,null,r[oe]];r[re].y.cmp(r[oe].y)===0?(ae[1]=r[re].add(r[oe]),ae[2]=r[re].toJ().mixedAdd(r[oe].neg())):r[re].y.cmp(r[oe].y.redNeg())===0?(ae[1]=r[re].toJ().mixedAdd(r[oe]),ae[2]=r[re].add(r[oe].neg())):(ae[1]=r[re].toJ().mixedAdd(r[oe]),ae[2]=r[re].toJ().mixedAdd(r[oe].neg()));var ue=[-3,-1,-5,-7,0,7,5,1,3],he=Lo(o[re],o[oe]);for(A=Math.max(he[0].length,A),M[re]=new Array(A),M[oe]=new Array(A),R=0;R<A;R++){var de=he[0][R]|0,Ee=he[1][R]|0;M[re][R]=ue[(de+1)*3+(Ee+1)],M[oe][R]=0,s[re]=ae}}var ye=this.jpoint(null,null,null),T=this._wnafT4;for(I=A;I>=0;I--){for(var L=0;I>=0;){var ee=!0;for(R=0;R<p;R++)T[R]=M[R][I]|0,T[R]!==0&&(ee=!1);if(!ee)break;L++,I--}if(I>=0&&L++,ye=ye.dblp(L),I<0)break;for(R=0;R<p;R++){var H=T[R];H!==0&&(H>0?Y=s[R][H-1>>1]:H<0&&(Y=s[R][-H-1>>1].neg()),Y.type==="affine"?ye=ye.mixedAdd(Y):ye=ye.add(Y))}}for(I=0;I<p;I++)s[I]=null;return i?ye:ye.toP()};function wt(t,e){this.curve=t,this.type=e,this.precomputed=null}Jt.BasePoint=wt;wt.prototype.eq=function(){throw new Error("Not implemented")};wt.prototype.validate=function(){return this.curve.validate(this)};Jt.prototype.decodePoint=function(e,r){e=Vr.toArray(e,r);var o=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*o){e[0]===6?an(e[e.length-1]%2===0):e[0]===7&&an(e[e.length-1]%2===1);var p=this.point(e.slice(1,1+o),e.slice(1+o,1+2*o));return p}else if((e[0]===2||e[0]===3)&&e.length-1===o)return this.pointFromX(e.slice(1,1+o),e[0]===3);throw new Error("Unknown point format")};wt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wt.prototype._encode=function(e){var r=this.curve.p.byteLength(),o=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(o):[4].concat(o,this.getY().toArray("be",r))};wt.prototype.encode=function(e,r){return Vr.encode(this._encode(r),e)};wt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var o=[this],p=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)p=p.dbl();o.push(p)}return{step:e,points:o}};wt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],o=(1<<e)-1,p=o===1?null:this.dbl(),i=1;i<o;i++)r[i]=r[i-1].add(p);return{wnd:e,points:r}};wt.prototype._getBeta=function(){return null};wt.prototype.dblp=function(e){for(var r=this,o=0;o<e;o++)r=r.dbl();return r};var Zn={exports:{}};typeof Object.create=="function"?Zn.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Zn.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}};var ln=Zn.exports,zo=vt,rt=Dt,ii=ln,Ir=dn,jo=zo.assert;function xt(t){Ir.call(this,"short",t),this.a=new rt(t.a,16).toRed(this.red),this.b=new rt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ii(xt,Ir);var Go=xt;xt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,o;if(e.beta)r=new rt(e.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);r=p[0].cmp(p[1])<0?p[0]:p[1],r=r.toRed(this.red)}if(e.lambda)o=new rt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?o=i[0]:(o=i[1],jo(this.g.mul(o).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new rt(s.a,16),b:new rt(s.b,16)}}):a=this._getEndoBasis(o),{beta:r,lambda:o,basis:a}}};xt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:rt.mont(e),o=new rt(2).toRed(r).redInvm(),p=o.redNeg(),i=new rt(3).toRed(r).redNeg().redSqrt().redMul(o),a=p.redAdd(i).fromRed(),s=p.redSub(i).fromRed();return[a,s]};xt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),o=e,p=this.n.clone(),i=new rt(1),a=new rt(0),s=new rt(0),M=new rt(1),A,I,R,Y,$,re,oe,ae=0,ue,he;o.cmpn(0)!==0;){var de=p.div(o);ue=p.sub(de.mul(o)),he=s.sub(de.mul(i));var Ee=M.sub(de.mul(a));if(!R&&ue.cmp(r)<0)A=oe.neg(),I=i,R=ue.neg(),Y=he;else if(R&&++ae===2)break;oe=ue,p=o,o=ue,s=i,i=he,M=a,a=Ee}$=ue.neg(),re=he;var ye=R.sqr().add(Y.sqr()),T=$.sqr().add(re.sqr());return T.cmp(ye)>=0&&($=A,re=I),R.negative&&(R=R.neg(),Y=Y.neg()),$.negative&&($=$.neg(),re=re.neg()),[{a:R,b:Y},{a:$,b:re}]};xt.prototype._endoSplit=function(e){var r=this.endo.basis,o=r[0],p=r[1],i=p.b.mul(e).divRound(this.n),a=o.b.neg().mul(e).divRound(this.n),s=i.mul(o.a),M=a.mul(p.a),A=i.mul(o.b),I=a.mul(p.b),R=e.sub(s).sub(M),Y=A.add(I).neg();return{k1:R,k2:Y}};xt.prototype.pointFromX=function(e,r){e=new rt(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),p=o.redSqrt();if(p.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var i=p.fromRed().isOdd();return(r&&!i||!r&&i)&&(p=p.redNeg()),this.point(e,p)};xt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,o=e.y,p=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(p).redIAdd(this.b);return o.redSqr().redISub(i).cmpn(0)===0};xt.prototype._endoWnafMulAdd=function(e,r,o){for(var p=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(r[a]),M=e[a],A=M._getBeta();s.k1.negative&&(s.k1.ineg(),M=M.neg(!0)),s.k2.negative&&(s.k2.ineg(),A=A.neg(!0)),p[a*2]=M,p[a*2+1]=A,i[a*2]=s.k1,i[a*2+1]=s.k2}for(var I=this._wnafMulAdd(1,p,i,a*2,o),R=0;R<a*2;R++)p[R]=null,i[R]=null;return I};function ot(t,e,r,o){Ir.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rt(e,16),this.y=new rt(r,16),o&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ii(ot,Ir.BasePoint);xt.prototype.point=function(e,r,o){return new ot(this,e,r,o)};xt.prototype.pointFromJSON=function(e,r){return ot.fromJSON(this,e,r)};ot.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var o=this.curve,p=function(i){return o.point(i.x.redMul(o.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(p)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(p)}}}return r}};ot.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ot.fromJSON=function(e,r,o){typeof r=="string"&&(r=JSON.parse(r));var p=e.point(r[0],r[1],o);if(!r[2])return p;function i(s){return e.point(s[0],s[1],o)}var a=r[2];return p.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[p].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[p].concat(a.naf.points.map(i))}},p};ot.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ot.prototype.isInfinity=function(){return this.inf};ot.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var o=r.redSqr().redISub(this.x).redISub(e.x),p=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,p)};ot.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,o=this.x.redSqr(),p=e.redInvm(),i=o.redAdd(o).redIAdd(o).redIAdd(r).redMul(p),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};ot.prototype.getX=function(){return this.x.fromRed()};ot.prototype.getY=function(){return this.y.fromRed()};ot.prototype.mul=function(e){return e=new rt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ot.prototype.mulAdd=function(e,r,o){var p=[this,r],i=[e,o];return this.curve.endo?this.curve._endoWnafMulAdd(p,i):this.curve._wnafMulAdd(1,p,i,2)};ot.prototype.jmulAdd=function(e,r,o){var p=[this,r],i=[e,o];return this.curve.endo?this.curve._endoWnafMulAdd(p,i,!0):this.curve._wnafMulAdd(1,p,i,2,!0)};ot.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ot.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var o=this.precomputed,p=function(i){return i.neg()};r.precomputed={naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(p)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(p)}}}return r};ot.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ft(t,e,r,o){Ir.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&o===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rt(0)):(this.x=new rt(e,16),this.y=new rt(r,16),this.z=new rt(o,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ii(ft,Ir.BasePoint);xt.prototype.jpoint=function(e,r,o){return new ft(this,e,r,o)};ft.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),o=this.x.redMul(r),p=this.y.redMul(r).redMul(e);return this.curve.point(o,p)};ft.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ft.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),o=this.z.redSqr(),p=this.x.redMul(r),i=e.x.redMul(o),a=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(o.redMul(this.z)),M=p.redSub(i),A=a.redSub(s);if(M.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=M.redSqr(),R=I.redMul(M),Y=p.redMul(I),$=A.redSqr().redIAdd(R).redISub(Y).redISub(Y),re=A.redMul(Y.redISub($)).redISub(a.redMul(R)),oe=this.z.redMul(e.z).redMul(M);return this.curve.jpoint($,re,oe)};ft.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),o=this.x,p=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),s=o.redSub(p),M=i.redSub(a);if(s.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=s.redSqr(),I=A.redMul(s),R=o.redMul(A),Y=M.redSqr().redIAdd(I).redISub(R).redISub(R),$=M.redMul(R.redISub(Y)).redISub(i.redMul(I)),re=this.z.redMul(s);return this.curve.jpoint(Y,$,re)};ft.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var o=this;for(r=0;r<e;r++)o=o.dbl();return o}var p=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,M=this.z,A=M.redSqr().redSqr(),I=s.redAdd(s);for(r=0;r<e;r++){var R=a.redSqr(),Y=I.redSqr(),$=Y.redSqr(),re=R.redAdd(R).redIAdd(R).redIAdd(p.redMul(A)),oe=a.redMul(Y),ae=re.redSqr().redISub(oe.redAdd(oe)),ue=oe.redISub(ae),he=re.redMul(ue);he=he.redIAdd(he).redISub($);var de=I.redMul(M);r+1<e&&(A=A.redMul($)),a=ae,M=de,I=he}return this.curve.jpoint(a,I.redMul(i),M)};ft.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ft.prototype._zeroDbl=function(){var e,r,o;if(this.zOne){var p=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(p).redISub(a);s=s.redIAdd(s);var M=p.redAdd(p).redIAdd(p),A=M.redSqr().redISub(s).redISub(s),I=a.redIAdd(a);I=I.redIAdd(I),I=I.redIAdd(I),e=A,r=M.redMul(s.redISub(A)).redISub(I),o=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),Y=this.y.redSqr(),$=Y.redSqr(),re=this.x.redAdd(Y).redSqr().redISub(R).redISub($);re=re.redIAdd(re);var oe=R.redAdd(R).redIAdd(R),ae=oe.redSqr(),ue=$.redIAdd($);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),e=ae.redISub(re).redISub(re),r=oe.redMul(re.redISub(e)).redISub(ue),o=this.y.redMul(this.z),o=o.redIAdd(o)}return this.curve.jpoint(e,r,o)};ft.prototype._threeDbl=function(){var e,r,o;if(this.zOne){var p=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(p).redISub(a);s=s.redIAdd(s);var M=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),A=M.redSqr().redISub(s).redISub(s);e=A;var I=a.redIAdd(a);I=I.redIAdd(I),I=I.redIAdd(I),r=M.redMul(s.redISub(A)).redISub(I),o=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),Y=this.y.redSqr(),$=this.x.redMul(Y),re=this.x.redSub(R).redMul(this.x.redAdd(R));re=re.redAdd(re).redIAdd(re);var oe=$.redIAdd($);oe=oe.redIAdd(oe);var ae=oe.redAdd(oe);e=re.redSqr().redISub(ae),o=this.y.redAdd(this.z).redSqr().redISub(Y).redISub(R);var ue=Y.redSqr();ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),r=re.redMul(oe.redISub(e)).redISub(ue)}return this.curve.jpoint(e,r,o)};ft.prototype._dbl=function(){var e=this.curve.a,r=this.x,o=this.y,p=this.z,i=p.redSqr().redSqr(),a=r.redSqr(),s=o.redSqr(),M=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),A=r.redAdd(r);A=A.redIAdd(A);var I=A.redMul(s),R=M.redSqr().redISub(I.redAdd(I)),Y=I.redISub(R),$=s.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var re=M.redMul(Y).redISub($),oe=o.redAdd(o).redMul(p);return this.curve.jpoint(R,re,oe)};ft.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),o=this.z.redSqr(),p=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(p);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var M=s.redSqr(),A=p.redIAdd(p);A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var I=i.redIAdd(s).redSqr().redISub(a).redISub(M).redISub(A),R=r.redMul(I);R=R.redIAdd(R),R=R.redIAdd(R);var Y=this.x.redMul(M).redISub(R);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var $=this.y.redMul(I.redMul(A.redISub(I)).redISub(s.redMul(M)));$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var re=this.z.redAdd(s).redSqr().redISub(o).redISub(M);return this.curve.jpoint(Y,$,re)};ft.prototype.mul=function(e,r){return e=new rt(e,r),this.curve._wnafMul(this,e)};ft.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),o=e.z.redSqr();if(this.x.redMul(o).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var p=r.redMul(this.z),i=o.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(p)).cmpn(0)===0};ft.prototype.eqXToP=function(e){var r=this.z.redSqr(),o=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(o)===0)return!0;for(var p=e.clone(),i=this.curve.redN.redMul(r);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(o.redIAdd(i),this.x.cmp(o)===0)return!0}};ft.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ft.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var xr=Dt,ns=ln,pn=dn,Wo=vt;function Br(t){pn.call(this,"mont",t),this.a=new xr(t.a,16).toRed(this.red),this.b=new xr(t.b,16).toRed(this.red),this.i4=new xr(4).toRed(this.red).redInvm(),this.two=new xr(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ns(Br,pn);var Vo=Br;Br.prototype.validate=function(e){var r=e.normalize().x,o=r.redSqr(),p=o.redMul(r).redAdd(o.redMul(this.a)).redAdd(r),i=p.redSqrt();return i.redSqr().cmp(p)===0};function st(t,e,r){pn.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new xr(e,16),this.z=new xr(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ns(st,pn.BasePoint);Br.prototype.decodePoint=function(e,r){return this.point(Wo.toArray(e,r),1)};Br.prototype.point=function(e,r){return new st(this,e,r)};Br.prototype.pointFromJSON=function(e){return st.fromJSON(this,e)};st.prototype.precompute=function(){};st.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};st.fromJSON=function(e,r){return new st(e,r[0],r[1]||e.one)};st.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};st.prototype.isInfinity=function(){return this.z.cmpn(0)===0};st.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),o=this.x.redSub(this.z),p=o.redSqr(),i=r.redSub(p),a=r.redMul(p),s=i.redMul(p.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,s)};st.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};st.prototype.diffAdd=function(e,r){var o=this.x.redAdd(this.z),p=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),s=a.redMul(o),M=i.redMul(p),A=r.z.redMul(s.redAdd(M).redSqr()),I=r.x.redMul(s.redISub(M).redSqr());return this.curve.point(A,I)};st.prototype.mul=function(e){for(var r=e.clone(),o=this,p=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var s=a.length-1;s>=0;s--)a[s]===0?(o=o.diffAdd(p,i),p=p.dbl()):(p=o.diffAdd(p,i),o=o.dbl());return p};st.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};st.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};st.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};st.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};st.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Ko=vt,Ut=Dt,is=ln,bn=dn,Zo=Ko.assert;function Nt(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,bn.call(this,"edwards",t),this.a=new Ut(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ut(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ut(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Zo(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}is(Nt,bn);var Jo=Nt;Nt.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Nt.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Nt.prototype.jpoint=function(e,r,o,p){return this.point(e,r,o,p)};Nt.prototype.pointFromX=function(e,r){e=new Ut(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr(),p=this.c2.redSub(this.a.redMul(o)),i=this.one.redSub(this.c2.redMul(this.d).redMul(o)),a=p.redMul(i.redInvm()),s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var M=s.fromRed().isOdd();return(r&&!M||!r&&M)&&(s=s.redNeg()),this.point(e,s)};Nt.prototype.pointFromY=function(e,r){e=new Ut(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr(),p=o.redSub(this.c2),i=o.redMul(this.d).redMul(this.c2).redSub(this.a),a=p.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};Nt.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),o=e.y.redSqr(),p=r.redMul(this.a).redAdd(o),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(o)));return p.cmp(i)===0};function Qe(t,e,r,o,p){bn.BasePoint.call(this,t,"projective"),e===null&&r===null&&o===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ut(e,16),this.y=new Ut(r,16),this.z=o?new Ut(o,16):this.curve.one,this.t=p&&new Ut(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}is(Qe,bn.BasePoint);Nt.prototype.pointFromJSON=function(e){return Qe.fromJSON(this,e)};Nt.prototype.point=function(e,r,o,p){return new Qe(this,e,r,o,p)};Qe.fromJSON=function(e,r){return new Qe(e,r[0],r[1],r[2])};Qe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Qe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Qe.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),o=this.z.redSqr();o=o.redIAdd(o);var p=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=p.redAdd(r),s=a.redSub(o),M=p.redSub(r),A=i.redMul(s),I=a.redMul(M),R=i.redMul(M),Y=s.redMul(a);return this.curve.point(A,I,Y,R)};Qe.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),o=this.y.redSqr(),p,i,a,s,M,A;if(this.curve.twisted){s=this.curve._mulA(r);var I=s.redAdd(o);this.zOne?(p=e.redSub(r).redSub(o).redMul(I.redSub(this.curve.two)),i=I.redMul(s.redSub(o)),a=I.redSqr().redSub(I).redSub(I)):(M=this.z.redSqr(),A=I.redSub(M).redISub(M),p=e.redSub(r).redISub(o).redMul(A),i=I.redMul(s.redSub(o)),a=I.redMul(A))}else s=r.redAdd(o),M=this.curve._mulC(this.z).redSqr(),A=s.redSub(M).redSub(M),p=this.curve._mulC(e.redISub(s)).redMul(A),i=this.curve._mulC(s).redMul(r.redISub(o)),a=s.redMul(A);return this.curve.point(p,i,a)};Qe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Qe.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),o=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),p=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=o.redSub(r),s=i.redSub(p),M=i.redAdd(p),A=o.redAdd(r),I=a.redMul(s),R=M.redMul(A),Y=a.redMul(A),$=s.redMul(M);return this.curve.point(I,R,$,Y)};Qe.prototype._projAdd=function(e){var r=this.z.redMul(e.z),o=r.redSqr(),p=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(p).redMul(i),s=o.redSub(a),M=o.redAdd(a),A=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(p).redISub(i),I=r.redMul(s).redMul(A),R,Y;return this.curve.twisted?(R=r.redMul(M).redMul(i.redSub(this.curve._mulA(p))),Y=s.redMul(M)):(R=r.redMul(M).redMul(i.redSub(p)),Y=this.curve._mulC(s).redMul(M)),this.curve.point(I,R,Y)};Qe.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Qe.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Qe.prototype.mulAdd=function(e,r,o){return this.curve._wnafMulAdd(1,[this,r],[e,o],2,!1)};Qe.prototype.jmulAdd=function(e,r,o){return this.curve._wnafMulAdd(1,[this,r],[e,o],2,!0)};Qe.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Qe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Qe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Qe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Qe.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Qe.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var o=e.clone(),p=this.curve.redN.redMul(this.z);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(p),this.x.cmp(r)===0)return!0}};Qe.prototype.toP=Qe.prototype.normalize;Qe.prototype.mixedAdd=Qe.prototype.add;(function(t){var e=t;e.base=dn,e.short=Go,e.mont=Vo,e.edwards=Jo})(ni);var vn={},mn={},ze={},Xo=gr,Yo=ln;ze.inherits=Yo;function Qo(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function ea(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),p=0;p<t.length;p+=2)r.push(parseInt(t[p]+t[p+1],16))}else for(var o=0,p=0;p<t.length;p++){var i=t.charCodeAt(p);i<128?r[o++]=i:i<2048?(r[o++]=i>>6|192,r[o++]=i&63|128):Qo(t,p)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++p)&1023),r[o++]=i>>18|240,r[o++]=i>>12&63|128,r[o++]=i>>6&63|128,r[o++]=i&63|128):(r[o++]=i>>12|224,r[o++]=i>>6&63|128,r[o++]=i&63|128)}else for(p=0;p<t.length;p++)r[p]=t[p]|0;return r}ze.toArray=ea;function ta(t){for(var e="",r=0;r<t.length;r++)e+=os(t[r].toString(16));return e}ze.toHex=ta;function ss(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ze.htonl=ss;function ra(t,e){for(var r="",o=0;o<t.length;o++){var p=t[o];e==="little"&&(p=ss(p)),r+=as(p.toString(16))}return r}ze.toHex32=ra;function os(t){return t.length===1?"0"+t:t}ze.zero2=os;function as(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ze.zero8=as;function na(t,e,r,o){var p=r-e;Xo(p%4===0);for(var i=new Array(p/4),a=0,s=e;a<i.length;a++,s+=4){var M;o==="big"?M=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:M=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],i[a]=M>>>0}return i}ze.join32=na;function ia(t,e){for(var r=new Array(t.length*4),o=0,p=0;o<t.length;o++,p+=4){var i=t[o];e==="big"?(r[p]=i>>>24,r[p+1]=i>>>16&255,r[p+2]=i>>>8&255,r[p+3]=i&255):(r[p+3]=i>>>24,r[p+2]=i>>>16&255,r[p+1]=i>>>8&255,r[p]=i&255)}return r}ze.split32=ia;function sa(t,e){return t>>>e|t<<32-e}ze.rotr32=sa;function oa(t,e){return t<<e|t>>>32-e}ze.rotl32=oa;function aa(t,e){return t+e>>>0}ze.sum32=aa;function fa(t,e,r){return t+e+r>>>0}ze.sum32_3=fa;function ca(t,e,r,o){return t+e+r+o>>>0}ze.sum32_4=ca;function ua(t,e,r,o,p){return t+e+r+o+p>>>0}ze.sum32_5=ua;function ha(t,e,r,o){var p=t[e],i=t[e+1],a=o+i>>>0,s=(a<o?1:0)+r+p;t[e]=s>>>0,t[e+1]=a}ze.sum64=ha;function da(t,e,r,o){var p=e+o>>>0,i=(p<e?1:0)+t+r;return i>>>0}ze.sum64_hi=da;function la(t,e,r,o){var p=e+o;return p>>>0}ze.sum64_lo=la;function pa(t,e,r,o,p,i,a,s){var M=0,A=e;A=A+o>>>0,M+=A<e?1:0,A=A+i>>>0,M+=A<i?1:0,A=A+s>>>0,M+=A<s?1:0;var I=t+r+p+a+M;return I>>>0}ze.sum64_4_hi=pa;function ba(t,e,r,o,p,i,a,s){var M=e+o+i+s;return M>>>0}ze.sum64_4_lo=ba;function va(t,e,r,o,p,i,a,s,M,A){var I=0,R=e;R=R+o>>>0,I+=R<e?1:0,R=R+i>>>0,I+=R<i?1:0,R=R+s>>>0,I+=R<s?1:0,R=R+A>>>0,I+=R<A?1:0;var Y=t+r+p+a+M+I;return Y>>>0}ze.sum64_5_hi=va;function ma(t,e,r,o,p,i,a,s,M,A){var I=e+o+i+s+A;return I>>>0}ze.sum64_5_lo=ma;function ga(t,e,r){var o=e<<32-r|t>>>r;return o>>>0}ze.rotr64_hi=ga;function ya(t,e,r){var o=t<<32-r|e>>>r;return o>>>0}ze.rotr64_lo=ya;function wa(t,e,r){return t>>>r}ze.shr64_hi=wa;function xa(t,e,r){var o=t<<32-r|e>>>r;return o>>>0}ze.shr64_lo=xa;var Tr={},vi=ze,Ma=gr;function gn(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Tr.BlockHash=gn;gn.prototype.update=function(e,r){if(e=vi.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var o=e.length%this._delta8;this.pending=e.slice(e.length-o,e.length),this.pending.length===0&&(this.pending=null),e=vi.join32(e,0,e.length-o,this.endian);for(var p=0;p<e.length;p+=this._delta32)this._update(e,p,p+this._delta32)}return this};gn.prototype.digest=function(e){return this.update(this._pad()),Ma(this.pending===null),this._digest(e)};gn.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,o=r-(e+this.padLength)%r,p=new Array(o+this.padLength);p[0]=128;for(var i=1;i<o;i++)p[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)p[i++]=0;p[i++]=0,p[i++]=0,p[i++]=0,p[i++]=0,p[i++]=e>>>24&255,p[i++]=e>>>16&255,p[i++]=e>>>8&255,p[i++]=e&255}else for(p[i++]=e&255,p[i++]=e>>>8&255,p[i++]=e>>>16&255,p[i++]=e>>>24&255,p[i++]=0,p[i++]=0,p[i++]=0,p[i++]=0,a=8;a<this.padLength;a++)p[i++]=0;return p};var Pr={},Ft={},Aa=ze,Bt=Aa.rotr32;function _a(t,e,r,o){if(t===0)return fs(e,r,o);if(t===1||t===3)return us(e,r,o);if(t===2)return cs(e,r,o)}Ft.ft_1=_a;function fs(t,e,r){return t&e^~t&r}Ft.ch32=fs;function cs(t,e,r){return t&e^t&r^e&r}Ft.maj32=cs;function us(t,e,r){return t^e^r}Ft.p32=us;function Sa(t){return Bt(t,2)^Bt(t,13)^Bt(t,22)}Ft.s0_256=Sa;function Ea(t){return Bt(t,6)^Bt(t,11)^Bt(t,25)}Ft.s1_256=Ea;function Ia(t){return Bt(t,7)^Bt(t,18)^t>>>3}Ft.g0_256=Ia;function Ba(t){return Bt(t,17)^Bt(t,19)^t>>>10}Ft.g1_256=Ba;var Mr=ze,Ta=Tr,Pa=Ft,On=Mr.rotl32,Nr=Mr.sum32,Ca=Mr.sum32_5,Ra=Pa.ft_1,hs=Ta.BlockHash,Oa=[1518500249,1859775393,2400959708,3395469782];function Ct(){if(!(this instanceof Ct))return new Ct;hs.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Mr.inherits(Ct,hs);var Na=Ct;Ct.blockSize=512;Ct.outSize=160;Ct.hmacStrength=80;Ct.padLength=64;Ct.prototype._update=function(e,r){for(var o=this.W,p=0;p<16;p++)o[p]=e[r+p];for(;p<o.length;p++)o[p]=On(o[p-3]^o[p-8]^o[p-14]^o[p-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],M=this.h[3],A=this.h[4];for(p=0;p<o.length;p++){var I=~~(p/20),R=Ca(On(i,5),Ra(I,a,s,M),A,o[p],Oa[I]);A=M,M=s,s=On(a,30),a=i,i=R}this.h[0]=Nr(this.h[0],i),this.h[1]=Nr(this.h[1],a),this.h[2]=Nr(this.h[2],s),this.h[3]=Nr(this.h[3],M),this.h[4]=Nr(this.h[4],A)};Ct.prototype._digest=function(e){return e==="hex"?Mr.toHex32(this.h,"big"):Mr.split32(this.h,"big")};var Ar=ze,Fa=Tr,Cr=Ft,qa=gr,At=Ar.sum32,Ua=Ar.sum32_4,ka=Ar.sum32_5,Ha=Cr.ch32,$a=Cr.maj32,Da=Cr.s0_256,La=Cr.s1_256,za=Cr.g0_256,ja=Cr.g1_256,ds=Fa.BlockHash,Ga=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rt(){if(!(this instanceof Rt))return new Rt;ds.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ga,this.W=new Array(64)}Ar.inherits(Rt,ds);var ls=Rt;Rt.blockSize=512;Rt.outSize=256;Rt.hmacStrength=192;Rt.padLength=64;Rt.prototype._update=function(e,r){for(var o=this.W,p=0;p<16;p++)o[p]=e[r+p];for(;p<o.length;p++)o[p]=Ua(ja(o[p-2]),o[p-7],za(o[p-15]),o[p-16]);var i=this.h[0],a=this.h[1],s=this.h[2],M=this.h[3],A=this.h[4],I=this.h[5],R=this.h[6],Y=this.h[7];for(qa(this.k.length===o.length),p=0;p<o.length;p++){var $=ka(Y,La(A),Ha(A,I,R),this.k[p],o[p]),re=At(Da(i),$a(i,a,s));Y=R,R=I,I=A,A=At(M,$),M=s,s=a,a=i,i=At($,re)}this.h[0]=At(this.h[0],i),this.h[1]=At(this.h[1],a),this.h[2]=At(this.h[2],s),this.h[3]=At(this.h[3],M),this.h[4]=At(this.h[4],A),this.h[5]=At(this.h[5],I),this.h[6]=At(this.h[6],R),this.h[7]=At(this.h[7],Y)};Rt.prototype._digest=function(e){return e==="hex"?Ar.toHex32(this.h,"big"):Ar.split32(this.h,"big")};var Jn=ze,ps=ls;function Ht(){if(!(this instanceof Ht))return new Ht;ps.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Jn.inherits(Ht,ps);var Wa=Ht;Ht.blockSize=512;Ht.outSize=224;Ht.hmacStrength=192;Ht.padLength=64;Ht.prototype._digest=function(e){return e==="hex"?Jn.toHex32(this.h.slice(0,7),"big"):Jn.split32(this.h.slice(0,7),"big")};var dt=ze,Va=Tr,Ka=gr,Tt=dt.rotr64_hi,Pt=dt.rotr64_lo,bs=dt.shr64_hi,vs=dt.shr64_lo,zt=dt.sum64,Nn=dt.sum64_hi,Fn=dt.sum64_lo,Za=dt.sum64_4_hi,Ja=dt.sum64_4_lo,Xa=dt.sum64_5_hi,Ya=dt.sum64_5_lo,ms=Va.BlockHash,Qa=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function St(){if(!(this instanceof St))return new St;ms.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Qa,this.W=new Array(160)}dt.inherits(St,ms);var gs=St;St.blockSize=1024;St.outSize=512;St.hmacStrength=192;St.padLength=128;St.prototype._prepareBlock=function(e,r){for(var o=this.W,p=0;p<32;p++)o[p]=e[r+p];for(;p<o.length;p+=2){var i=hf(o[p-4],o[p-3]),a=df(o[p-4],o[p-3]),s=o[p-14],M=o[p-13],A=cf(o[p-30],o[p-29]),I=uf(o[p-30],o[p-29]),R=o[p-32],Y=o[p-31];o[p]=Za(i,a,s,M,A,I,R,Y),o[p+1]=Ja(i,a,s,M,A,I,R,Y)}};St.prototype._update=function(e,r){this._prepareBlock(e,r);var o=this.W,p=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],M=this.h[4],A=this.h[5],I=this.h[6],R=this.h[7],Y=this.h[8],$=this.h[9],re=this.h[10],oe=this.h[11],ae=this.h[12],ue=this.h[13],he=this.h[14],de=this.h[15];Ka(this.k.length===o.length);for(var Ee=0;Ee<o.length;Ee+=2){var ye=he,T=de,L=af(Y,$),ee=ff(Y,$),H=ef(Y,$,re,oe,ae),G=tf(Y,$,re,oe,ae,ue),B=this.k[Ee],l=this.k[Ee+1],u=o[Ee],n=o[Ee+1],f=Xa(ye,T,L,ee,H,G,B,l,u,n),d=Ya(ye,T,L,ee,H,G,B,l,u,n);ye=sf(p,i),T=of(p,i),L=rf(p,i,a,s,M),ee=nf(p,i,a,s,M,A);var m=Nn(ye,T,L,ee),x=Fn(ye,T,L,ee);he=ae,de=ue,ae=re,ue=oe,re=Y,oe=$,Y=Nn(I,R,f,d),$=Fn(R,R,f,d),I=M,R=A,M=a,A=s,a=p,s=i,p=Nn(f,d,m,x),i=Fn(f,d,m,x)}zt(this.h,0,p,i),zt(this.h,2,a,s),zt(this.h,4,M,A),zt(this.h,6,I,R),zt(this.h,8,Y,$),zt(this.h,10,re,oe),zt(this.h,12,ae,ue),zt(this.h,14,he,de)};St.prototype._digest=function(e){return e==="hex"?dt.toHex32(this.h,"big"):dt.split32(this.h,"big")};function ef(t,e,r,o,p){var i=t&r^~t&p;return i<0&&(i+=4294967296),i}function tf(t,e,r,o,p,i){var a=e&o^~e&i;return a<0&&(a+=4294967296),a}function rf(t,e,r,o,p){var i=t&r^t&p^r&p;return i<0&&(i+=4294967296),i}function nf(t,e,r,o,p,i){var a=e&o^e&i^o&i;return a<0&&(a+=4294967296),a}function sf(t,e){var r=Tt(t,e,28),o=Tt(e,t,2),p=Tt(e,t,7),i=r^o^p;return i<0&&(i+=4294967296),i}function of(t,e){var r=Pt(t,e,28),o=Pt(e,t,2),p=Pt(e,t,7),i=r^o^p;return i<0&&(i+=4294967296),i}function af(t,e){var r=Tt(t,e,14),o=Tt(t,e,18),p=Tt(e,t,9),i=r^o^p;return i<0&&(i+=4294967296),i}function ff(t,e){var r=Pt(t,e,14),o=Pt(t,e,18),p=Pt(e,t,9),i=r^o^p;return i<0&&(i+=4294967296),i}function cf(t,e){var r=Tt(t,e,1),o=Tt(t,e,8),p=bs(t,e,7),i=r^o^p;return i<0&&(i+=4294967296),i}function uf(t,e){var r=Pt(t,e,1),o=Pt(t,e,8),p=vs(t,e,7),i=r^o^p;return i<0&&(i+=4294967296),i}function hf(t,e){var r=Tt(t,e,19),o=Tt(e,t,29),p=bs(t,e,6),i=r^o^p;return i<0&&(i+=4294967296),i}function df(t,e){var r=Pt(t,e,19),o=Pt(e,t,29),p=vs(t,e,6),i=r^o^p;return i<0&&(i+=4294967296),i}var Xn=ze,ys=gs;function $t(){if(!(this instanceof $t))return new $t;ys.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xn.inherits($t,ys);var lf=$t;$t.blockSize=1024;$t.outSize=384;$t.hmacStrength=192;$t.padLength=128;$t.prototype._digest=function(e){return e==="hex"?Xn.toHex32(this.h.slice(0,12),"big"):Xn.split32(this.h.slice(0,12),"big")};Pr.sha1=Na;Pr.sha224=Wa;Pr.sha256=ls;Pr.sha384=lf;Pr.sha512=gs;var ws={},mr=ze,pf=Tr,en=mr.rotl32,mi=mr.sum32,Fr=mr.sum32_3,gi=mr.sum32_4,xs=pf.BlockHash;function Ot(){if(!(this instanceof Ot))return new Ot;xs.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}mr.inherits(Ot,xs);ws.ripemd160=Ot;Ot.blockSize=512;Ot.outSize=160;Ot.hmacStrength=192;Ot.padLength=64;Ot.prototype._update=function(e,r){for(var o=this.h[0],p=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],M=o,A=p,I=i,R=a,Y=s,$=0;$<80;$++){var re=mi(en(gi(o,yi($,p,i,a),e[mf[$]+r],bf($)),yf[$]),s);o=s,s=a,a=en(i,10),i=p,p=re,re=mi(en(gi(M,yi(79-$,A,I,R),e[gf[$]+r],vf($)),wf[$]),Y),M=Y,Y=R,R=en(I,10),I=A,A=re}re=Fr(this.h[1],i,R),this.h[1]=Fr(this.h[2],a,Y),this.h[2]=Fr(this.h[3],s,M),this.h[3]=Fr(this.h[4],o,A),this.h[4]=Fr(this.h[0],p,I),this.h[0]=re};Ot.prototype._digest=function(e){return e==="hex"?mr.toHex32(this.h,"little"):mr.split32(this.h,"little")};function yi(t,e,r,o){return t<=15?e^r^o:t<=31?e&r|~e&o:t<=47?(e|~r)^o:t<=63?e&o|r&~o:e^(r|~o)}function bf(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function vf(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var mf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],wf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],xf=ze,Mf=gr;function _r(t,e,r){if(!(this instanceof _r))return new _r(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(xf.toArray(e,r))}var Af=_r;_r.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Mf(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};_r.prototype.update=function(e,r){return this.inner.update(e,r),this};_r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ze,e.common=Tr,e.sha=Pr,e.ripemd=ws,e.hmac=Af,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(mn);var qn,wi;function _f(){return wi||(wi=1,qn={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),qn}(function(t){var e=t,r=mn,o=ni,p=vt,i=p.assert;function a(A){A.type==="short"?this.curve=new o.short(A):A.type==="edwards"?this.curve=new o.edwards(A):this.curve=new o.mont(A),this.g=this.curve.g,this.n=this.curve.n,this.hash=A.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function s(A,I){Object.defineProperty(e,A,{configurable:!0,enumerable:!0,get:function(){var R=new a(I);return Object.defineProperty(e,A,{configurable:!0,enumerable:!0,value:R}),R}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var M;try{M=_f()}catch{M=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",M]})})(vn);var Sf=mn,br=ti,Ms=gr;function Zt(t){if(!(this instanceof Zt))return new Zt(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=br.toArray(t.entropy,t.entropyEnc||"hex"),r=br.toArray(t.nonce,t.nonceEnc||"hex"),o=br.toArray(t.pers,t.persEnc||"hex");Ms(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,o)}var Ef=Zt;Zt.prototype._init=function(e,r,o){var p=e.concat(r).concat(o);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(p),this._reseed=1,this.reseedInterval=281474976710656};Zt.prototype._hmac=function(){return new Sf.hmac(this.hash,this.K)};Zt.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Zt.prototype.reseed=function(e,r,o,p){typeof r!="string"&&(p=o,o=r,r=null),e=br.toArray(e,r),o=br.toArray(o,p),Ms(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(o||[])),this._reseed=1};Zt.prototype.generate=function(e,r,o,p){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(p=o,o=r,r=null),o&&(o=br.toArray(o,p||"hex"),this._update(o));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(o),this._reseed++,br.encode(a,r)};var If=Dt,Bf=vt,Yn=Bf.assert;function ht(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Tf=ht;ht.fromPublic=function(e,r,o){return r instanceof ht?r:new ht(e,{pub:r,pubEnc:o})};ht.fromPrivate=function(e,r,o){return r instanceof ht?r:new ht(e,{priv:r,privEnc:o})};ht.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ht.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ht.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ht.prototype._importPrivate=function(e,r){this.priv=new If(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ht.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Yn(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Yn(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ht.prototype.derive=function(e){return e.validate()||Yn(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ht.prototype.sign=function(e,r,o){return this.ec.sign(e,this,r,o)};ht.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ht.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var fn=Dt,si=vt,Pf=si.assert;function yn(t,e){if(t instanceof yn)return t;this._importDER(t,e)||(Pf(t.r&&t.s,"Signature without r or s"),this.r=new fn(t.r,16),this.s=new fn(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Cf=yn;function Rf(){this.place=0}function Un(t,e){var r=t[e.place++];if(!(r&128))return r;var o=r&15;if(o===0||o>4)return!1;for(var p=0,i=0,a=e.place;i<o;i++,a++)p<<=8,p|=t[a],p>>>=0;return p<=127?!1:(e.place=a,p)}function xi(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}yn.prototype._importDER=function(e,r){e=si.toArray(e,r);var o=new Rf;if(e[o.place++]!==48)return!1;var p=Un(e,o);if(p===!1||p+o.place!==e.length||e[o.place++]!==2)return!1;var i=Un(e,o);if(i===!1)return!1;var a=e.slice(o.place,i+o.place);if(o.place+=i,e[o.place++]!==2)return!1;var s=Un(e,o);if(s===!1||e.length!==s+o.place)return!1;var M=e.slice(o.place,s+o.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;return this.r=new fn(a),this.s=new fn(M),this.recoveryParam=null,!0};function kn(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}yn.prototype.toDER=function(e){var r=this.r.toArray(),o=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),o[0]&128&&(o=[0].concat(o)),r=xi(r),o=xi(o);!o[0]&&!(o[1]&128);)o=o.slice(1);var p=[2];kn(p,r.length),p=p.concat(r),p.push(2),kn(p,o.length);var i=p.concat(o),a=[48];return kn(a,i.length),a=a.concat(i),si.encode(a,e)};var vr=Dt,As=Ef,Of=vt,Hn=vn,Nf=rs,_s=Of.assert,oi=Tf,wn=Cf;function yt(t){if(!(this instanceof yt))return new yt(t);typeof t=="string"&&(_s(Object.prototype.hasOwnProperty.call(Hn,t),"Unknown curve "+t),t=Hn[t]),t instanceof Hn.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ff=yt;yt.prototype.keyPair=function(e){return new oi(this,e)};yt.prototype.keyFromPrivate=function(e,r){return oi.fromPrivate(this,e,r)};yt.prototype.keyFromPublic=function(e,r){return oi.fromPublic(this,e,r)};yt.prototype.genKeyPair=function(e){e||(e={});for(var r=new As({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Nf(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),o=this.n.byteLength(),p=this.n.sub(new vr(2));;){var i=new vr(r.generate(o));if(!(i.cmp(p)>0))return i.iaddn(1),this.keyFromPrivate(i)}};yt.prototype._truncateToN=function(e,r){var o=e.byteLength()*8-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yt.prototype.sign=function(e,r,o,p){typeof o=="object"&&(p=o,o=null),p||(p={}),r=this.keyFromPrivate(r,o),e=this._truncateToN(new vr(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),s=e.toArray("be",i),M=new As({hash:this.hash,entropy:a,nonce:s,pers:p.pers,persEnc:p.persEnc||"utf8"}),A=this.n.sub(new vr(1)),I=0;;I++){var R=p.k?p.k(I):new vr(M.generate(this.n.byteLength()));if(R=this._truncateToN(R,!0),!(R.cmpn(1)<=0||R.cmp(A)>=0)){var Y=this.g.mul(R);if(!Y.isInfinity()){var $=Y.getX(),re=$.umod(this.n);if(re.cmpn(0)!==0){var oe=R.invm(this.n).mul(re.mul(r.getPrivate()).iadd(e));if(oe=oe.umod(this.n),oe.cmpn(0)!==0){var ae=(Y.getY().isOdd()?1:0)|($.cmp(re)!==0?2:0);return p.canonical&&oe.cmp(this.nh)>0&&(oe=this.n.sub(oe),ae^=1),new wn({r:re,s:oe,recoveryParam:ae})}}}}}};yt.prototype.verify=function(e,r,o,p){e=this._truncateToN(new vr(e,16)),o=this.keyFromPublic(o,p),r=new wn(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),M=s.mul(e).umod(this.n),A=s.mul(i).umod(this.n),I;return this.curve._maxwellTrick?(I=this.g.jmulAdd(M,o.getPublic(),A),I.isInfinity()?!1:I.eqXToP(i)):(I=this.g.mulAdd(M,o.getPublic(),A),I.isInfinity()?!1:I.getX().umod(this.n).cmp(i)===0)};yt.prototype.recoverPubKey=function(t,e,r,o){_s((3&r)===r,"The recovery param is more than two bits"),e=new wn(e,o);var p=this.n,i=new vr(t),a=e.r,s=e.s,M=r&1,A=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?a=this.curve.pointFromX(a.add(this.curve.n),M):a=this.curve.pointFromX(a,M);var I=e.r.invm(p),R=p.sub(i).mul(I).umod(p),Y=s.mul(I).umod(p);return this.g.mulAdd(R,a,Y)};yt.prototype.getKeyRecoveryParam=function(t,e,r,o){if(e=new wn(e,o),e.recoveryParam!==null)return e.recoveryParam;for(var p=0;p<4;p++){var i;try{i=this.recoverPubKey(t,e,p)}catch{continue}if(i.eq(r))return p}throw new Error("Unable to find valid recovery factor")};var Kr=vt,Ss=Kr.assert,Mi=Kr.parseBytes,Rr=Kr.cachedProperty;function it(t,e){this.eddsa=t,this._secret=Mi(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Mi(e.pub)}it.fromPublic=function(e,r){return r instanceof it?r:new it(e,{pub:r})};it.fromSecret=function(e,r){return r instanceof it?r:new it(e,{secret:r})};it.prototype.secret=function(){return this._secret};Rr(it,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Rr(it,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Rr(it,"privBytes",function(){var e=this.eddsa,r=this.hash(),o=e.encodingLength-1,p=r.slice(0,e.encodingLength);return p[0]&=248,p[o]&=127,p[o]|=64,p});Rr(it,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Rr(it,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Rr(it,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});it.prototype.sign=function(e){return Ss(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};it.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};it.prototype.getSecret=function(e){return Ss(this._secret,"KeyPair is public only"),Kr.encode(this.secret(),e)};it.prototype.getPublic=function(e){return Kr.encode(this.pubBytes(),e)};var qf=it,Uf=Dt,xn=vt,kf=xn.assert,Mn=xn.cachedProperty,Hf=xn.parseBytes;function yr(t,e){this.eddsa=t,typeof e!="object"&&(e=Hf(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),kf(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Uf&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Mn(yr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Mn(yr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Mn(yr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Mn(yr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});yr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};yr.prototype.toHex=function(){return xn.encode(this.toBytes(),"hex").toUpperCase()};var $f=yr,Df=mn,Lf=vn,Sr=vt,zf=Sr.assert,Es=Sr.parseBytes,Is=qf,Ai=$f;function lt(t){if(zf(t==="ed25519","only tested with ed25519 so far"),!(this instanceof lt))return new lt(t);t=Lf[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Df.sha512}var jf=lt;lt.prototype.sign=function(e,r){e=Es(e);var o=this.keyFromSecret(r),p=this.hashInt(o.messagePrefix(),e),i=this.g.mul(p),a=this.encodePoint(i),s=this.hashInt(a,o.pubBytes(),e).mul(o.priv()),M=p.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:M,Rencoded:a})};lt.prototype.verify=function(e,r,o){e=Es(e),r=this.makeSignature(r);var p=this.keyFromPublic(o),i=this.hashInt(r.Rencoded(),p.pubBytes(),e),a=this.g.mul(r.S()),s=r.R().add(p.pub().mul(i));return s.eq(a)};lt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Sr.intFromLE(e.digest()).umod(this.curve.n)};lt.prototype.keyFromPublic=function(e){return Is.fromPublic(this,e)};lt.prototype.keyFromSecret=function(e){return Is.fromSecret(this,e)};lt.prototype.makeSignature=function(e){return e instanceof Ai?e:new Ai(this,e)};lt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};lt.prototype.decodePoint=function(e){e=Sr.parseBytes(e);var r=e.length-1,o=e.slice(0,r).concat(e[r]&-129),p=(e[r]&128)!==0,i=Sr.intFromLE(o);return this.curve.pointFromY(i,p)};lt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};lt.prototype.decodeInt=function(e){return Sr.intFromLE(e)};lt.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Ho.version,e.utils=vt,e.rand=rs,e.curve=ni,e.curves=vn,e.ec=Ff,e.eddsa=jf})(Qn);var ai={exports:{}};ai.exports;(function(t){(function(e,r){function o(u,n){if(!u)throw new Error(n||"Assertion failed")}function p(u,n){u.super_=n;var f=function(){};f.prototype=n.prototype,u.prototype=new f,u.prototype.constructor=u}function i(u,n,f){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((n==="le"||n==="be")&&(f=n,n=10),this._init(u||0,n||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=It.Buffer}catch{}i.isBN=function(n){return n instanceof i?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===i.wordSize&&Array.isArray(n.words)},i.max=function(n,f){return n.cmp(f)>0?n:f},i.min=function(n,f){return n.cmp(f)<0?n:f},i.prototype._init=function(n,f,d){if(typeof n=="number")return this._initNumber(n,f,d);if(typeof n=="object")return this._initArray(n,f,d);f==="hex"&&(f=16),o(f===(f|0)&&f>=2&&f<=36),n=n.toString().replace(/\s+/g,"");var m=0;n[0]==="-"&&(m++,this.negative=1),m<n.length&&(f===16?this._parseHex(n,m,d):(this._parseBase(n,f,m),d==="le"&&this._initArray(this.toArray(),f,d)))},i.prototype._initNumber=function(n,f,d){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(o(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),f,d)},i.prototype._initArray=function(n,f,d){if(o(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x,w,h=0;if(d==="be")for(m=n.length-1,x=0;m>=0;m-=3)w=n[m]|n[m-1]<<8|n[m-2]<<16,this.words[x]|=w<<h&67108863,this.words[x+1]=w>>>26-h&67108863,h+=24,h>=26&&(h-=26,x++);else if(d==="le")for(m=0,x=0;m<n.length;m+=3)w=n[m]|n[m+1]<<8|n[m+2]<<16,this.words[x]|=w<<h&67108863,this.words[x+1]=w>>>26-h&67108863,h+=24,h>=26&&(h-=26,x++);return this._strip()};function s(u,n){var f=u.charCodeAt(n);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;o(!1,"Invalid character in "+u)}function M(u,n,f){var d=s(u,f);return f-1>=n&&(d|=s(u,f-1)<<4),d}i.prototype._parseHex=function(n,f,d){this.length=Math.ceil((n.length-f)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x=0,w=0,h;if(d==="be")for(m=n.length-1;m>=f;m-=2)h=M(n,f,m)<<x,this.words[w]|=h&67108863,x>=18?(x-=18,w+=1,this.words[w]|=h>>>26):x+=8;else{var g=n.length-f;for(m=g%2===0?f+1:f;m<n.length;m+=2)h=M(n,f,m)<<x,this.words[w]|=h&67108863,x>=18?(x-=18,w+=1,this.words[w]|=h>>>26):x+=8}this._strip()};function A(u,n,f,d){for(var m=0,x=0,w=Math.min(u.length,f),h=n;h<w;h++){var g=u.charCodeAt(h)-48;m*=d,g>=49?x=g-49+10:g>=17?x=g-17+10:x=g,o(g>=0&&x<d,"Invalid character"),m+=x}return m}i.prototype._parseBase=function(n,f,d){this.words=[0],this.length=1;for(var m=0,x=1;x<=67108863;x*=f)m++;m--,x=x/f|0;for(var w=n.length-d,h=w%m,g=Math.min(w,w-h)+d,v=0,_=d;_<g;_+=m)v=A(n,_,_+m,f),this.imuln(x),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(h!==0){var V=1;for(v=A(n,_,n.length,f),_=0;_<h;_++)V*=f;this.imuln(V),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this._strip()},i.prototype.copy=function(n){n.words=new Array(this.length);for(var f=0;f<this.length;f++)n.words[f]=this.words[f];n.length=this.length,n.negative=this.negative,n.red=this.red};function I(u,n){u.words=n.words,u.length=n.length,u.negative=n.negative,u.red=n.red}if(i.prototype._move=function(n){I(n,this)},i.prototype.clone=function(){var n=new i(null);return this.copy(n),n},i.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{i.prototype.inspect=R}else i.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],re=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(n,f){n=n||10,f=f|0||1;var d;if(n===16||n==="hex"){d="";for(var m=0,x=0,w=0;w<this.length;w++){var h=this.words[w],g=((h<<m|x)&16777215).toString(16);x=h>>>24-m&16777215,m+=2,m>=26&&(m-=26,w--),x!==0||w!==this.length-1?d=Y[6-g.length]+g+d:d=g+d}for(x!==0&&(d=x.toString(16)+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(n===(n|0)&&n>=2&&n<=36){var v=$[n],_=re[n];d="";var V=this.clone();for(V.negative=0;!V.isZero();){var be=V.modrn(_).toString(n);V=V.idivn(_),V.isZero()?d=be+d:d=Y[v-be.length]+be+d}for(this.isZero()&&(d="0"+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(n,f){return this.toArrayLike(a,n,f)}),i.prototype.toArray=function(n,f){return this.toArrayLike(Array,n,f)};var oe=function(n,f){return n.allocUnsafe?n.allocUnsafe(f):new n(f)};i.prototype.toArrayLike=function(n,f,d){this._strip();var m=this.byteLength(),x=d||Math.max(1,m);o(m<=x,"byte array longer than desired length"),o(x>0,"Requested array length <= 0");var w=oe(n,x),h=f==="le"?"LE":"BE";return this["_toArrayLike"+h](w,m),w},i.prototype._toArrayLikeLE=function(n,f){for(var d=0,m=0,x=0,w=0;x<this.length;x++){var h=this.words[x]<<w|m;n[d++]=h&255,d<n.length&&(n[d++]=h>>8&255),d<n.length&&(n[d++]=h>>16&255),w===6?(d<n.length&&(n[d++]=h>>24&255),m=0,w=0):(m=h>>>24,w+=2)}if(d<n.length)for(n[d++]=m;d<n.length;)n[d++]=0},i.prototype._toArrayLikeBE=function(n,f){for(var d=n.length-1,m=0,x=0,w=0;x<this.length;x++){var h=this.words[x]<<w|m;n[d--]=h&255,d>=0&&(n[d--]=h>>8&255),d>=0&&(n[d--]=h>>16&255),w===6?(d>=0&&(n[d--]=h>>24&255),m=0,w=0):(m=h>>>24,w+=2)}if(d>=0)for(n[d--]=m;d>=0;)n[d--]=0},Math.clz32?i.prototype._countBits=function(n){return 32-Math.clz32(n)}:i.prototype._countBits=function(n){var f=n,d=0;return f>=4096&&(d+=13,f>>>=13),f>=64&&(d+=7,f>>>=7),f>=8&&(d+=4,f>>>=4),f>=2&&(d+=2,f>>>=2),d+f},i.prototype._zeroBits=function(n){if(n===0)return 26;var f=n,d=0;return f&8191||(d+=13,f>>>=13),f&127||(d+=7,f>>>=7),f&15||(d+=4,f>>>=4),f&3||(d+=2,f>>>=2),f&1||d++,d},i.prototype.bitLength=function(){var n=this.words[this.length-1],f=this._countBits(n);return(this.length-1)*26+f};function ae(u){for(var n=new Array(u.bitLength()),f=0;f<n.length;f++){var d=f/26|0,m=f%26;n[f]=u.words[d]>>>m&1}return n}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,f=0;f<this.length;f++){var d=this._zeroBits(this.words[f]);if(n+=d,d!==26)break}return n},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},i.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var f=0;f<n.length;f++)this.words[f]=this.words[f]|n.words[f];return this._strip()},i.prototype.ior=function(n){return o((this.negative|n.negative)===0),this.iuor(n)},i.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},i.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},i.prototype.iuand=function(n){var f;this.length>n.length?f=n:f=this;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]&n.words[d];return this.length=f.length,this._strip()},i.prototype.iand=function(n){return o((this.negative|n.negative)===0),this.iuand(n)},i.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},i.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},i.prototype.iuxor=function(n){var f,d;this.length>n.length?(f=this,d=n):(f=n,d=this);for(var m=0;m<d.length;m++)this.words[m]=f.words[m]^d.words[m];if(this!==f)for(;m<f.length;m++)this.words[m]=f.words[m];return this.length=f.length,this._strip()},i.prototype.ixor=function(n){return o((this.negative|n.negative)===0),this.iuxor(n)},i.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},i.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},i.prototype.inotn=function(n){o(typeof n=="number"&&n>=0);var f=Math.ceil(n/26)|0,d=n%26;this._expand(f),d>0&&f--;for(var m=0;m<f;m++)this.words[m]=~this.words[m]&67108863;return d>0&&(this.words[m]=~this.words[m]&67108863>>26-d),this._strip()},i.prototype.notn=function(n){return this.clone().inotn(n)},i.prototype.setn=function(n,f){o(typeof n=="number"&&n>=0);var d=n/26|0,m=n%26;return this._expand(d+1),f?this.words[d]=this.words[d]|1<<m:this.words[d]=this.words[d]&~(1<<m),this._strip()},i.prototype.iadd=function(n){var f;if(this.negative!==0&&n.negative===0)return this.negative=0,f=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,f=this.isub(n),n.negative=1,f._normSign();var d,m;this.length>n.length?(d=this,m=n):(d=n,m=this);for(var x=0,w=0;w<m.length;w++)f=(d.words[w]|0)+(m.words[w]|0)+x,this.words[w]=f&67108863,x=f>>>26;for(;x!==0&&w<d.length;w++)f=(d.words[w]|0)+x,this.words[w]=f&67108863,x=f>>>26;if(this.length=d.length,x!==0)this.words[this.length]=x,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},i.prototype.add=function(n){var f;return n.negative!==0&&this.negative===0?(n.negative=0,f=this.sub(n),n.negative^=1,f):n.negative===0&&this.negative!==0?(this.negative=0,f=n.sub(this),this.negative=1,f):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},i.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var f=this.iadd(n);return n.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var d=this.cmp(n);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,x;d>0?(m=this,x=n):(m=n,x=this);for(var w=0,h=0;h<x.length;h++)f=(m.words[h]|0)-(x.words[h]|0)+w,w=f>>26,this.words[h]=f&67108863;for(;w!==0&&h<m.length;h++)f=(m.words[h]|0)+w,w=f>>26,this.words[h]=f&67108863;if(w===0&&h<m.length&&m!==this)for(;h<m.length;h++)this.words[h]=m.words[h];return this.length=Math.max(this.length,h),m!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(n){return this.clone().isub(n)};function ue(u,n,f){f.negative=n.negative^u.negative;var d=u.length+n.length|0;f.length=d,d=d-1|0;var m=u.words[0]|0,x=n.words[0]|0,w=m*x,h=w&67108863,g=w/67108864|0;f.words[0]=h;for(var v=1;v<d;v++){for(var _=g>>>26,V=g&67108863,be=Math.min(v,n.length-1),Me=Math.max(0,v-u.length+1);Me<=be;Me++){var qe=v-Me|0;m=u.words[qe]|0,x=n.words[Me]|0,w=m*x+V,_+=w/67108864|0,V=w&67108863}f.words[v]=V|0,g=_|0}return g!==0?f.words[v]=g|0:f.length--,f._strip()}var he=function(n,f,d){var m=n.words,x=f.words,w=d.words,h=0,g,v,_,V=m[0]|0,be=V&8191,Me=V>>>13,qe=m[1]|0,Ne=qe&8191,Te=qe>>>13,P=m[2]|0,F=P&8191,q=P>>>13,te=m[3]|0,Z=te&8191,J=te>>>13,se=m[4]|0,z=se&8191,K=se>>>13,ie=m[5]|0,ne=ie&8191,ce=ie>>>13,we=m[6]|0,D=we&8191,S=we>>>13,O=m[7]|0,Q=O&8191,y=O>>>13,c=m[8]|0,b=c&8191,E=c>>>13,N=m[9]|0,W=N&8191,X=N>>>13,ve=x[0]|0,_e=ve&8191,xe=ve>>>13,Se=x[1]|0,Ce=Se&8191,Oe=Se>>>13,je=x[2]|0,Ge=je&8191,Re=je>>>13,We=x[3]|0,Xe=We&8191,U=We>>>13,C=x[4]|0,k=C&8191,j=C>>>13,fe=x[5]|0,le=fe&8191,pe=fe>>>13,me=x[6]|0,Be=me&8191,ge=me>>>13,Pe=x[7]|0,Fe=Pe&8191,Ie=Pe>>>13,$e=x[8]|0,He=$e&8191,Ue=$e>>>13,Je=x[9]|0,Ke=Je&8191,Ze=Je>>>13;d.negative=n.negative^f.negative,d.length=19,g=Math.imul(be,_e),v=Math.imul(be,xe),v=v+Math.imul(Me,_e)|0,_=Math.imul(Me,xe);var mt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(mt>>>26)|0,mt&=67108863,g=Math.imul(Ne,_e),v=Math.imul(Ne,xe),v=v+Math.imul(Te,_e)|0,_=Math.imul(Te,xe),g=g+Math.imul(be,Ce)|0,v=v+Math.imul(be,Oe)|0,v=v+Math.imul(Me,Ce)|0,_=_+Math.imul(Me,Oe)|0;var Mt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(F,_e),v=Math.imul(F,xe),v=v+Math.imul(q,_e)|0,_=Math.imul(q,xe),g=g+Math.imul(Ne,Ce)|0,v=v+Math.imul(Ne,Oe)|0,v=v+Math.imul(Te,Ce)|0,_=_+Math.imul(Te,Oe)|0,g=g+Math.imul(be,Ge)|0,v=v+Math.imul(be,Re)|0,v=v+Math.imul(Me,Ge)|0,_=_+Math.imul(Me,Re)|0;var bt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(Z,_e),v=Math.imul(Z,xe),v=v+Math.imul(J,_e)|0,_=Math.imul(J,xe),g=g+Math.imul(F,Ce)|0,v=v+Math.imul(F,Oe)|0,v=v+Math.imul(q,Ce)|0,_=_+Math.imul(q,Oe)|0,g=g+Math.imul(Ne,Ge)|0,v=v+Math.imul(Ne,Re)|0,v=v+Math.imul(Te,Ge)|0,_=_+Math.imul(Te,Re)|0,g=g+Math.imul(be,Xe)|0,v=v+Math.imul(be,U)|0,v=v+Math.imul(Me,Xe)|0,_=_+Math.imul(Me,U)|0;var Lt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,g=Math.imul(z,_e),v=Math.imul(z,xe),v=v+Math.imul(K,_e)|0,_=Math.imul(K,xe),g=g+Math.imul(Z,Ce)|0,v=v+Math.imul(Z,Oe)|0,v=v+Math.imul(J,Ce)|0,_=_+Math.imul(J,Oe)|0,g=g+Math.imul(F,Ge)|0,v=v+Math.imul(F,Re)|0,v=v+Math.imul(q,Ge)|0,_=_+Math.imul(q,Re)|0,g=g+Math.imul(Ne,Xe)|0,v=v+Math.imul(Ne,U)|0,v=v+Math.imul(Te,Xe)|0,_=_+Math.imul(Te,U)|0,g=g+Math.imul(be,k)|0,v=v+Math.imul(be,j)|0,v=v+Math.imul(Me,k)|0,_=_+Math.imul(Me,j)|0;var Xt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,g=Math.imul(ne,_e),v=Math.imul(ne,xe),v=v+Math.imul(ce,_e)|0,_=Math.imul(ce,xe),g=g+Math.imul(z,Ce)|0,v=v+Math.imul(z,Oe)|0,v=v+Math.imul(K,Ce)|0,_=_+Math.imul(K,Oe)|0,g=g+Math.imul(Z,Ge)|0,v=v+Math.imul(Z,Re)|0,v=v+Math.imul(J,Ge)|0,_=_+Math.imul(J,Re)|0,g=g+Math.imul(F,Xe)|0,v=v+Math.imul(F,U)|0,v=v+Math.imul(q,Xe)|0,_=_+Math.imul(q,U)|0,g=g+Math.imul(Ne,k)|0,v=v+Math.imul(Ne,j)|0,v=v+Math.imul(Te,k)|0,_=_+Math.imul(Te,j)|0,g=g+Math.imul(be,le)|0,v=v+Math.imul(be,pe)|0,v=v+Math.imul(Me,le)|0,_=_+Math.imul(Me,pe)|0;var Yt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(D,_e),v=Math.imul(D,xe),v=v+Math.imul(S,_e)|0,_=Math.imul(S,xe),g=g+Math.imul(ne,Ce)|0,v=v+Math.imul(ne,Oe)|0,v=v+Math.imul(ce,Ce)|0,_=_+Math.imul(ce,Oe)|0,g=g+Math.imul(z,Ge)|0,v=v+Math.imul(z,Re)|0,v=v+Math.imul(K,Ge)|0,_=_+Math.imul(K,Re)|0,g=g+Math.imul(Z,Xe)|0,v=v+Math.imul(Z,U)|0,v=v+Math.imul(J,Xe)|0,_=_+Math.imul(J,U)|0,g=g+Math.imul(F,k)|0,v=v+Math.imul(F,j)|0,v=v+Math.imul(q,k)|0,_=_+Math.imul(q,j)|0,g=g+Math.imul(Ne,le)|0,v=v+Math.imul(Ne,pe)|0,v=v+Math.imul(Te,le)|0,_=_+Math.imul(Te,pe)|0,g=g+Math.imul(be,Be)|0,v=v+Math.imul(be,ge)|0,v=v+Math.imul(Me,Be)|0,_=_+Math.imul(Me,ge)|0;var Qt=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,g=Math.imul(Q,_e),v=Math.imul(Q,xe),v=v+Math.imul(y,_e)|0,_=Math.imul(y,xe),g=g+Math.imul(D,Ce)|0,v=v+Math.imul(D,Oe)|0,v=v+Math.imul(S,Ce)|0,_=_+Math.imul(S,Oe)|0,g=g+Math.imul(ne,Ge)|0,v=v+Math.imul(ne,Re)|0,v=v+Math.imul(ce,Ge)|0,_=_+Math.imul(ce,Re)|0,g=g+Math.imul(z,Xe)|0,v=v+Math.imul(z,U)|0,v=v+Math.imul(K,Xe)|0,_=_+Math.imul(K,U)|0,g=g+Math.imul(Z,k)|0,v=v+Math.imul(Z,j)|0,v=v+Math.imul(J,k)|0,_=_+Math.imul(J,j)|0,g=g+Math.imul(F,le)|0,v=v+Math.imul(F,pe)|0,v=v+Math.imul(q,le)|0,_=_+Math.imul(q,pe)|0,g=g+Math.imul(Ne,Be)|0,v=v+Math.imul(Ne,ge)|0,v=v+Math.imul(Te,Be)|0,_=_+Math.imul(Te,ge)|0,g=g+Math.imul(be,Fe)|0,v=v+Math.imul(be,Ie)|0,v=v+Math.imul(Me,Fe)|0,_=_+Math.imul(Me,Ie)|0;var er=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(er>>>26)|0,er&=67108863,g=Math.imul(b,_e),v=Math.imul(b,xe),v=v+Math.imul(E,_e)|0,_=Math.imul(E,xe),g=g+Math.imul(Q,Ce)|0,v=v+Math.imul(Q,Oe)|0,v=v+Math.imul(y,Ce)|0,_=_+Math.imul(y,Oe)|0,g=g+Math.imul(D,Ge)|0,v=v+Math.imul(D,Re)|0,v=v+Math.imul(S,Ge)|0,_=_+Math.imul(S,Re)|0,g=g+Math.imul(ne,Xe)|0,v=v+Math.imul(ne,U)|0,v=v+Math.imul(ce,Xe)|0,_=_+Math.imul(ce,U)|0,g=g+Math.imul(z,k)|0,v=v+Math.imul(z,j)|0,v=v+Math.imul(K,k)|0,_=_+Math.imul(K,j)|0,g=g+Math.imul(Z,le)|0,v=v+Math.imul(Z,pe)|0,v=v+Math.imul(J,le)|0,_=_+Math.imul(J,pe)|0,g=g+Math.imul(F,Be)|0,v=v+Math.imul(F,ge)|0,v=v+Math.imul(q,Be)|0,_=_+Math.imul(q,ge)|0,g=g+Math.imul(Ne,Fe)|0,v=v+Math.imul(Ne,Ie)|0,v=v+Math.imul(Te,Fe)|0,_=_+Math.imul(Te,Ie)|0,g=g+Math.imul(be,He)|0,v=v+Math.imul(be,Ue)|0,v=v+Math.imul(Me,He)|0,_=_+Math.imul(Me,Ue)|0;var tr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(tr>>>26)|0,tr&=67108863,g=Math.imul(W,_e),v=Math.imul(W,xe),v=v+Math.imul(X,_e)|0,_=Math.imul(X,xe),g=g+Math.imul(b,Ce)|0,v=v+Math.imul(b,Oe)|0,v=v+Math.imul(E,Ce)|0,_=_+Math.imul(E,Oe)|0,g=g+Math.imul(Q,Ge)|0,v=v+Math.imul(Q,Re)|0,v=v+Math.imul(y,Ge)|0,_=_+Math.imul(y,Re)|0,g=g+Math.imul(D,Xe)|0,v=v+Math.imul(D,U)|0,v=v+Math.imul(S,Xe)|0,_=_+Math.imul(S,U)|0,g=g+Math.imul(ne,k)|0,v=v+Math.imul(ne,j)|0,v=v+Math.imul(ce,k)|0,_=_+Math.imul(ce,j)|0,g=g+Math.imul(z,le)|0,v=v+Math.imul(z,pe)|0,v=v+Math.imul(K,le)|0,_=_+Math.imul(K,pe)|0,g=g+Math.imul(Z,Be)|0,v=v+Math.imul(Z,ge)|0,v=v+Math.imul(J,Be)|0,_=_+Math.imul(J,ge)|0,g=g+Math.imul(F,Fe)|0,v=v+Math.imul(F,Ie)|0,v=v+Math.imul(q,Fe)|0,_=_+Math.imul(q,Ie)|0,g=g+Math.imul(Ne,He)|0,v=v+Math.imul(Ne,Ue)|0,v=v+Math.imul(Te,He)|0,_=_+Math.imul(Te,Ue)|0,g=g+Math.imul(be,Ke)|0,v=v+Math.imul(be,Ze)|0,v=v+Math.imul(Me,Ke)|0,_=_+Math.imul(Me,Ze)|0;var rr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(rr>>>26)|0,rr&=67108863,g=Math.imul(W,Ce),v=Math.imul(W,Oe),v=v+Math.imul(X,Ce)|0,_=Math.imul(X,Oe),g=g+Math.imul(b,Ge)|0,v=v+Math.imul(b,Re)|0,v=v+Math.imul(E,Ge)|0,_=_+Math.imul(E,Re)|0,g=g+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,U)|0,v=v+Math.imul(y,Xe)|0,_=_+Math.imul(y,U)|0,g=g+Math.imul(D,k)|0,v=v+Math.imul(D,j)|0,v=v+Math.imul(S,k)|0,_=_+Math.imul(S,j)|0,g=g+Math.imul(ne,le)|0,v=v+Math.imul(ne,pe)|0,v=v+Math.imul(ce,le)|0,_=_+Math.imul(ce,pe)|0,g=g+Math.imul(z,Be)|0,v=v+Math.imul(z,ge)|0,v=v+Math.imul(K,Be)|0,_=_+Math.imul(K,ge)|0,g=g+Math.imul(Z,Fe)|0,v=v+Math.imul(Z,Ie)|0,v=v+Math.imul(J,Fe)|0,_=_+Math.imul(J,Ie)|0,g=g+Math.imul(F,He)|0,v=v+Math.imul(F,Ue)|0,v=v+Math.imul(q,He)|0,_=_+Math.imul(q,Ue)|0,g=g+Math.imul(Ne,Ke)|0,v=v+Math.imul(Ne,Ze)|0,v=v+Math.imul(Te,Ke)|0,_=_+Math.imul(Te,Ze)|0;var nr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(nr>>>26)|0,nr&=67108863,g=Math.imul(W,Ge),v=Math.imul(W,Re),v=v+Math.imul(X,Ge)|0,_=Math.imul(X,Re),g=g+Math.imul(b,Xe)|0,v=v+Math.imul(b,U)|0,v=v+Math.imul(E,Xe)|0,_=_+Math.imul(E,U)|0,g=g+Math.imul(Q,k)|0,v=v+Math.imul(Q,j)|0,v=v+Math.imul(y,k)|0,_=_+Math.imul(y,j)|0,g=g+Math.imul(D,le)|0,v=v+Math.imul(D,pe)|0,v=v+Math.imul(S,le)|0,_=_+Math.imul(S,pe)|0,g=g+Math.imul(ne,Be)|0,v=v+Math.imul(ne,ge)|0,v=v+Math.imul(ce,Be)|0,_=_+Math.imul(ce,ge)|0,g=g+Math.imul(z,Fe)|0,v=v+Math.imul(z,Ie)|0,v=v+Math.imul(K,Fe)|0,_=_+Math.imul(K,Ie)|0,g=g+Math.imul(Z,He)|0,v=v+Math.imul(Z,Ue)|0,v=v+Math.imul(J,He)|0,_=_+Math.imul(J,Ue)|0,g=g+Math.imul(F,Ke)|0,v=v+Math.imul(F,Ze)|0,v=v+Math.imul(q,Ke)|0,_=_+Math.imul(q,Ze)|0;var ir=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(ir>>>26)|0,ir&=67108863,g=Math.imul(W,Xe),v=Math.imul(W,U),v=v+Math.imul(X,Xe)|0,_=Math.imul(X,U),g=g+Math.imul(b,k)|0,v=v+Math.imul(b,j)|0,v=v+Math.imul(E,k)|0,_=_+Math.imul(E,j)|0,g=g+Math.imul(Q,le)|0,v=v+Math.imul(Q,pe)|0,v=v+Math.imul(y,le)|0,_=_+Math.imul(y,pe)|0,g=g+Math.imul(D,Be)|0,v=v+Math.imul(D,ge)|0,v=v+Math.imul(S,Be)|0,_=_+Math.imul(S,ge)|0,g=g+Math.imul(ne,Fe)|0,v=v+Math.imul(ne,Ie)|0,v=v+Math.imul(ce,Fe)|0,_=_+Math.imul(ce,Ie)|0,g=g+Math.imul(z,He)|0,v=v+Math.imul(z,Ue)|0,v=v+Math.imul(K,He)|0,_=_+Math.imul(K,Ue)|0,g=g+Math.imul(Z,Ke)|0,v=v+Math.imul(Z,Ze)|0,v=v+Math.imul(J,Ke)|0,_=_+Math.imul(J,Ze)|0;var sr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(sr>>>26)|0,sr&=67108863,g=Math.imul(W,k),v=Math.imul(W,j),v=v+Math.imul(X,k)|0,_=Math.imul(X,j),g=g+Math.imul(b,le)|0,v=v+Math.imul(b,pe)|0,v=v+Math.imul(E,le)|0,_=_+Math.imul(E,pe)|0,g=g+Math.imul(Q,Be)|0,v=v+Math.imul(Q,ge)|0,v=v+Math.imul(y,Be)|0,_=_+Math.imul(y,ge)|0,g=g+Math.imul(D,Fe)|0,v=v+Math.imul(D,Ie)|0,v=v+Math.imul(S,Fe)|0,_=_+Math.imul(S,Ie)|0,g=g+Math.imul(ne,He)|0,v=v+Math.imul(ne,Ue)|0,v=v+Math.imul(ce,He)|0,_=_+Math.imul(ce,Ue)|0,g=g+Math.imul(z,Ke)|0,v=v+Math.imul(z,Ze)|0,v=v+Math.imul(K,Ke)|0,_=_+Math.imul(K,Ze)|0;var or=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(or>>>26)|0,or&=67108863,g=Math.imul(W,le),v=Math.imul(W,pe),v=v+Math.imul(X,le)|0,_=Math.imul(X,pe),g=g+Math.imul(b,Be)|0,v=v+Math.imul(b,ge)|0,v=v+Math.imul(E,Be)|0,_=_+Math.imul(E,ge)|0,g=g+Math.imul(Q,Fe)|0,v=v+Math.imul(Q,Ie)|0,v=v+Math.imul(y,Fe)|0,_=_+Math.imul(y,Ie)|0,g=g+Math.imul(D,He)|0,v=v+Math.imul(D,Ue)|0,v=v+Math.imul(S,He)|0,_=_+Math.imul(S,Ue)|0,g=g+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ze)|0,v=v+Math.imul(ce,Ke)|0,_=_+Math.imul(ce,Ze)|0;var ar=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(ar>>>26)|0,ar&=67108863,g=Math.imul(W,Be),v=Math.imul(W,ge),v=v+Math.imul(X,Be)|0,_=Math.imul(X,ge),g=g+Math.imul(b,Fe)|0,v=v+Math.imul(b,Ie)|0,v=v+Math.imul(E,Fe)|0,_=_+Math.imul(E,Ie)|0,g=g+Math.imul(Q,He)|0,v=v+Math.imul(Q,Ue)|0,v=v+Math.imul(y,He)|0,_=_+Math.imul(y,Ue)|0,g=g+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ze)|0,v=v+Math.imul(S,Ke)|0,_=_+Math.imul(S,Ze)|0;var fr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(fr>>>26)|0,fr&=67108863,g=Math.imul(W,Fe),v=Math.imul(W,Ie),v=v+Math.imul(X,Fe)|0,_=Math.imul(X,Ie),g=g+Math.imul(b,He)|0,v=v+Math.imul(b,Ue)|0,v=v+Math.imul(E,He)|0,_=_+Math.imul(E,Ue)|0,g=g+Math.imul(Q,Ke)|0,v=v+Math.imul(Q,Ze)|0,v=v+Math.imul(y,Ke)|0,_=_+Math.imul(y,Ze)|0;var cr=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(cr>>>26)|0,cr&=67108863,g=Math.imul(W,He),v=Math.imul(W,Ue),v=v+Math.imul(X,He)|0,_=Math.imul(X,Ue),g=g+Math.imul(b,Ke)|0,v=v+Math.imul(b,Ze)|0,v=v+Math.imul(E,Ke)|0,_=_+Math.imul(E,Ze)|0;var In=(h+g|0)+((v&8191)<<13)|0;h=(_+(v>>>13)|0)+(In>>>26)|0,In&=67108863,g=Math.imul(W,Ke),v=Math.imul(W,Ze),v=v+Math.imul(X,Ke)|0,_=Math.imul(X,Ze);var Bn=(h+g|0)+((v&8191)<<13)|0;return h=(_+(v>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,w[0]=mt,w[1]=Mt,w[2]=bt,w[3]=Lt,w[4]=Xt,w[5]=Yt,w[6]=Qt,w[7]=er,w[8]=tr,w[9]=rr,w[10]=nr,w[11]=ir,w[12]=sr,w[13]=or,w[14]=ar,w[15]=fr,w[16]=cr,w[17]=In,w[18]=Bn,h!==0&&(w[19]=h,d.length++),d};Math.imul||(he=ue);function de(u,n,f){f.negative=n.negative^u.negative,f.length=u.length+n.length;for(var d=0,m=0,x=0;x<f.length-1;x++){var w=m;m=0;for(var h=d&67108863,g=Math.min(x,n.length-1),v=Math.max(0,x-u.length+1);v<=g;v++){var _=x-v,V=u.words[_]|0,be=n.words[v]|0,Me=V*be,qe=Me&67108863;w=w+(Me/67108864|0)|0,qe=qe+h|0,h=qe&67108863,w=w+(qe>>>26)|0,m+=w>>>26,w&=67108863}f.words[x]=h,d=w,w=m}return d!==0?f.words[x]=d:f.length--,f._strip()}function Ee(u,n,f){return de(u,n,f)}i.prototype.mulTo=function(n,f){var d,m=this.length+n.length;return this.length===10&&n.length===10?d=he(this,n,f):m<63?d=ue(this,n,f):m<1024?d=de(this,n,f):d=Ee(this,n,f),d},i.prototype.mul=function(n){var f=new i(null);return f.words=new Array(this.length+n.length),this.mulTo(n,f)},i.prototype.mulf=function(n){var f=new i(null);return f.words=new Array(this.length+n.length),Ee(this,n,f)},i.prototype.imul=function(n){return this.clone().mulTo(n,this)},i.prototype.imuln=function(n){var f=n<0;f&&(n=-n),o(typeof n=="number"),o(n<67108864);for(var d=0,m=0;m<this.length;m++){var x=(this.words[m]|0)*n,w=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=w>>>26,this.words[m]=w&67108863}return d!==0&&(this.words[m]=d,this.length++),f?this.ineg():this},i.prototype.muln=function(n){return this.clone().imuln(n)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(n){var f=ae(n);if(f.length===0)return new i(1);for(var d=this,m=0;m<f.length&&f[m]===0;m++,d=d.sqr());if(++m<f.length)for(var x=d.sqr();m<f.length;m++,x=x.sqr())f[m]!==0&&(d=d.mul(x));return d},i.prototype.iushln=function(n){o(typeof n=="number"&&n>=0);var f=n%26,d=(n-f)/26,m=67108863>>>26-f<<26-f,x;if(f!==0){var w=0;for(x=0;x<this.length;x++){var h=this.words[x]&m,g=(this.words[x]|0)-h<<f;this.words[x]=g|w,w=h>>>26-f}w&&(this.words[x]=w,this.length++)}if(d!==0){for(x=this.length-1;x>=0;x--)this.words[x+d]=this.words[x];for(x=0;x<d;x++)this.words[x]=0;this.length+=d}return this._strip()},i.prototype.ishln=function(n){return o(this.negative===0),this.iushln(n)},i.prototype.iushrn=function(n,f,d){o(typeof n=="number"&&n>=0);var m;f?m=(f-f%26)/26:m=0;var x=n%26,w=Math.min((n-x)/26,this.length),h=67108863^67108863>>>x<<x,g=d;if(m-=w,m=Math.max(0,m),g){for(var v=0;v<w;v++)g.words[v]=this.words[v];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,v=0;v<this.length;v++)this.words[v]=this.words[v+w];else this.words[0]=0,this.length=1;var _=0;for(v=this.length-1;v>=0&&(_!==0||v>=m);v--){var V=this.words[v]|0;this.words[v]=_<<26-x|V>>>x,_=V&h}return g&&_!==0&&(g.words[g.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(n,f,d){return o(this.negative===0),this.iushrn(n,f,d)},i.prototype.shln=function(n){return this.clone().ishln(n)},i.prototype.ushln=function(n){return this.clone().iushln(n)},i.prototype.shrn=function(n){return this.clone().ishrn(n)},i.prototype.ushrn=function(n){return this.clone().iushrn(n)},i.prototype.testn=function(n){o(typeof n=="number"&&n>=0);var f=n%26,d=(n-f)/26,m=1<<f;if(this.length<=d)return!1;var x=this.words[d];return!!(x&m)},i.prototype.imaskn=function(n){o(typeof n=="number"&&n>=0);var f=n%26,d=(n-f)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(f!==0&&d++,this.length=Math.min(d,this.length),f!==0){var m=67108863^67108863>>>f<<f;this.words[this.length-1]&=m}return this._strip()},i.prototype.maskn=function(n){return this.clone().imaskn(n)},i.prototype.iaddn=function(n){return o(typeof n=="number"),o(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},i.prototype._iaddn=function(n){this.words[0]+=n;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(n){if(o(typeof n=="number"),o(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},i.prototype.addn=function(n){return this.clone().iaddn(n)},i.prototype.subn=function(n){return this.clone().isubn(n)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(n,f,d){var m=n.length+d,x;this._expand(m);var w,h=0;for(x=0;x<n.length;x++){w=(this.words[x+d]|0)+h;var g=(n.words[x]|0)*f;w-=g&67108863,h=(w>>26)-(g/67108864|0),this.words[x+d]=w&67108863}for(;x<this.length-d;x++)w=(this.words[x+d]|0)+h,h=w>>26,this.words[x+d]=w&67108863;if(h===0)return this._strip();for(o(h===-1),h=0,x=0;x<this.length;x++)w=-(this.words[x]|0)+h,h=w>>26,this.words[x]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(n,f){var d=this.length-n.length,m=this.clone(),x=n,w=x.words[x.length-1]|0,h=this._countBits(w);d=26-h,d!==0&&(x=x.ushln(d),m.iushln(d),w=x.words[x.length-1]|0);var g=m.length-x.length,v;if(f!=="mod"){v=new i(null),v.length=g+1,v.words=new Array(v.length);for(var _=0;_<v.length;_++)v.words[_]=0}var V=m.clone()._ishlnsubmul(x,1,g);V.negative===0&&(m=V,v&&(v.words[g]=1));for(var be=g-1;be>=0;be--){var Me=(m.words[x.length+be]|0)*67108864+(m.words[x.length+be-1]|0);for(Me=Math.min(Me/w|0,67108863),m._ishlnsubmul(x,Me,be);m.negative!==0;)Me--,m.negative=0,m._ishlnsubmul(x,1,be),m.isZero()||(m.negative^=1);v&&(v.words[be]=Me)}return v&&v._strip(),m._strip(),f!=="div"&&d!==0&&m.iushrn(d),{div:v||null,mod:m}},i.prototype.divmod=function(n,f,d){if(o(!n.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,x,w;return this.negative!==0&&n.negative===0?(w=this.neg().divmod(n,f),f!=="mod"&&(m=w.div.neg()),f!=="div"&&(x=w.mod.neg(),d&&x.negative!==0&&x.iadd(n)),{div:m,mod:x}):this.negative===0&&n.negative!==0?(w=this.divmod(n.neg(),f),f!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):this.negative&n.negative?(w=this.neg().divmod(n.neg(),f),f!=="div"&&(x=w.mod.neg(),d&&x.negative!==0&&x.isub(n)),{div:w.div,mod:x}):n.length>this.length||this.cmp(n)<0?{div:new i(0),mod:this}:n.length===1?f==="div"?{div:this.divn(n.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new i(this.modrn(n.words[0]))}:this._wordDiv(n,f)},i.prototype.div=function(n){return this.divmod(n,"div",!1).div},i.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},i.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},i.prototype.divRound=function(n){var f=this.divmod(n);if(f.mod.isZero())return f.div;var d=f.div.negative!==0?f.mod.isub(n):f.mod,m=n.ushrn(1),x=n.andln(1),w=d.cmp(m);return w<0||x===1&&w===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modrn=function(n){var f=n<0;f&&(n=-n),o(n<=67108863);for(var d=(1<<26)%n,m=0,x=this.length-1;x>=0;x--)m=(d*m+(this.words[x]|0))%n;return f?-m:m},i.prototype.modn=function(n){return this.modrn(n)},i.prototype.idivn=function(n){var f=n<0;f&&(n=-n),o(n<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var x=(this.words[m]|0)+d*67108864;this.words[m]=x/n|0,d=x%n}return this._strip(),f?this.ineg():this},i.prototype.divn=function(n){return this.clone().idivn(n)},i.prototype.egcd=function(n){o(n.negative===0),o(!n.isZero());var f=this,d=n.clone();f.negative!==0?f=f.umod(n):f=f.clone();for(var m=new i(1),x=new i(0),w=new i(0),h=new i(1),g=0;f.isEven()&&d.isEven();)f.iushrn(1),d.iushrn(1),++g;for(var v=d.clone(),_=f.clone();!f.isZero();){for(var V=0,be=1;!(f.words[0]&be)&&V<26;++V,be<<=1);if(V>0)for(f.iushrn(V);V-- >0;)(m.isOdd()||x.isOdd())&&(m.iadd(v),x.isub(_)),m.iushrn(1),x.iushrn(1);for(var Me=0,qe=1;!(d.words[0]&qe)&&Me<26;++Me,qe<<=1);if(Me>0)for(d.iushrn(Me);Me-- >0;)(w.isOdd()||h.isOdd())&&(w.iadd(v),h.isub(_)),w.iushrn(1),h.iushrn(1);f.cmp(d)>=0?(f.isub(d),m.isub(w),x.isub(h)):(d.isub(f),w.isub(m),h.isub(x))}return{a:w,b:h,gcd:d.iushln(g)}},i.prototype._invmp=function(n){o(n.negative===0),o(!n.isZero());var f=this,d=n.clone();f.negative!==0?f=f.umod(n):f=f.clone();for(var m=new i(1),x=new i(0),w=d.clone();f.cmpn(1)>0&&d.cmpn(1)>0;){for(var h=0,g=1;!(f.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(f.iushrn(h);h-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);for(var v=0,_=1;!(d.words[0]&_)&&v<26;++v,_<<=1);if(v>0)for(d.iushrn(v);v-- >0;)x.isOdd()&&x.iadd(w),x.iushrn(1);f.cmp(d)>=0?(f.isub(d),m.isub(x)):(d.isub(f),x.isub(m))}var V;return f.cmpn(1)===0?V=m:V=x,V.cmpn(0)<0&&V.iadd(n),V},i.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var f=this.clone(),d=n.clone();f.negative=0,d.negative=0;for(var m=0;f.isEven()&&d.isEven();m++)f.iushrn(1),d.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;d.isEven();)d.iushrn(1);var x=f.cmp(d);if(x<0){var w=f;f=d,d=w}else if(x===0||d.cmpn(1)===0)break;f.isub(d)}while(!0);return d.iushln(m)},i.prototype.invm=function(n){return this.egcd(n).a.umod(n)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(n){return this.words[0]&n},i.prototype.bincn=function(n){o(typeof n=="number");var f=n%26,d=(n-f)/26,m=1<<f;if(this.length<=d)return this._expand(d+1),this.words[d]|=m,this;for(var x=m,w=d;x!==0&&w<this.length;w++){var h=this.words[w]|0;h+=x,x=h>>>26,h&=67108863,this.words[w]=h}return x!==0&&(this.words[w]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(n){var f=n<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var d;if(this.length>1)d=1;else{f&&(n=-n),o(n<=67108863,"Number is too big");var m=this.words[0]|0;d=m===n?0:m<n?-1:1}return this.negative!==0?-d|0:d},i.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var f=this.ucmp(n);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var f=0,d=this.length-1;d>=0;d--){var m=this.words[d]|0,x=n.words[d]|0;if(m!==x){m<x?f=-1:m>x&&(f=1);break}}return f},i.prototype.gtn=function(n){return this.cmpn(n)===1},i.prototype.gt=function(n){return this.cmp(n)===1},i.prototype.gten=function(n){return this.cmpn(n)>=0},i.prototype.gte=function(n){return this.cmp(n)>=0},i.prototype.ltn=function(n){return this.cmpn(n)===-1},i.prototype.lt=function(n){return this.cmp(n)===-1},i.prototype.lten=function(n){return this.cmpn(n)<=0},i.prototype.lte=function(n){return this.cmp(n)<=0},i.prototype.eqn=function(n){return this.cmpn(n)===0},i.prototype.eq=function(n){return this.cmp(n)===0},i.red=function(n){return new B(n)},i.prototype.toRed=function(n){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(n){return this.red=n,this},i.prototype.forceRed=function(n){return o(!this.red,"Already a number in reduction context"),this._forceRed(n)},i.prototype.redAdd=function(n){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},i.prototype.redIAdd=function(n){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},i.prototype.redSub=function(n){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},i.prototype.redISub=function(n){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},i.prototype.redShl=function(n){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},i.prototype.redMul=function(n){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},i.prototype.redIMul=function(n){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(n){return o(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var ye={k256:null,p224:null,p192:null,p25519:null};function T(u,n){this.name=u,this.p=new i(n,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var n=new i(null);return n.words=new Array(Math.ceil(this.n/13)),n},T.prototype.ireduce=function(n){var f=n,d;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),d=f.bitLength();while(d>this.n);var m=d<this.n?-1:f.ucmp(this.p);return m===0?(f.words[0]=0,f.length=1):m>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},T.prototype.split=function(n,f){n.iushrn(this.n,0,f)},T.prototype.imulK=function(n){return n.imul(this.k)};function L(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(L,T),L.prototype.split=function(n,f){for(var d=4194303,m=Math.min(n.length,9),x=0;x<m;x++)f.words[x]=n.words[x];if(f.length=m,n.length<=9){n.words[0]=0,n.length=1;return}var w=n.words[9];for(f.words[f.length++]=w&d,x=10;x<n.length;x++){var h=n.words[x]|0;n.words[x-10]=(h&d)<<4|w>>>22,w=h}w>>>=22,n.words[x-10]=w,w===0&&n.length>10?n.length-=10:n.length-=9},L.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var f=0,d=0;d<n.length;d++){var m=n.words[d]|0;f+=m*977,n.words[d]=f&67108863,f=m*64+(f/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function ee(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(ee,T);function H(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(H,T);function G(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(G,T),G.prototype.imulK=function(n){for(var f=0,d=0;d<n.length;d++){var m=(n.words[d]|0)*19+f,x=m&67108863;m>>>=26,n.words[d]=x,f=m}return f!==0&&(n.words[n.length++]=f),n},i._prime=function(n){if(ye[n])return ye[n];var f;if(n==="k256")f=new L;else if(n==="p224")f=new ee;else if(n==="p192")f=new H;else if(n==="p25519")f=new G;else throw new Error("Unknown prime "+n);return ye[n]=f,f};function B(u){if(typeof u=="string"){var n=i._prime(u);this.m=n.p,this.prime=n}else o(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}B.prototype._verify1=function(n){o(n.negative===0,"red works only with positives"),o(n.red,"red works only with red numbers")},B.prototype._verify2=function(n,f){o((n.negative|f.negative)===0,"red works only with positives"),o(n.red&&n.red===f.red,"red works only with red numbers")},B.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(I(n,n.umod(this.m)._forceRed(this)),n)},B.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},B.prototype.add=function(n,f){this._verify2(n,f);var d=n.add(f);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},B.prototype.iadd=function(n,f){this._verify2(n,f);var d=n.iadd(f);return d.cmp(this.m)>=0&&d.isub(this.m),d},B.prototype.sub=function(n,f){this._verify2(n,f);var d=n.sub(f);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},B.prototype.isub=function(n,f){this._verify2(n,f);var d=n.isub(f);return d.cmpn(0)<0&&d.iadd(this.m),d},B.prototype.shl=function(n,f){return this._verify1(n),this.imod(n.ushln(f))},B.prototype.imul=function(n,f){return this._verify2(n,f),this.imod(n.imul(f))},B.prototype.mul=function(n,f){return this._verify2(n,f),this.imod(n.mul(f))},B.prototype.isqr=function(n){return this.imul(n,n.clone())},B.prototype.sqr=function(n){return this.mul(n,n)},B.prototype.sqrt=function(n){if(n.isZero())return n.clone();var f=this.m.andln(3);if(o(f%2===1),f===3){var d=this.m.add(new i(1)).iushrn(2);return this.pow(n,d)}for(var m=this.m.subn(1),x=0;!m.isZero()&&m.andln(1)===0;)x++,m.iushrn(1);o(!m.isZero());var w=new i(1).toRed(this),h=w.redNeg(),g=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,g).cmp(h)!==0;)v.redIAdd(h);for(var _=this.pow(v,m),V=this.pow(n,m.addn(1).iushrn(1)),be=this.pow(n,m),Me=x;be.cmp(w)!==0;){for(var qe=be,Ne=0;qe.cmp(w)!==0;Ne++)qe=qe.redSqr();o(Ne<Me);var Te=this.pow(_,new i(1).iushln(Me-Ne-1));V=V.redMul(Te),_=Te.redSqr(),be=be.redMul(_),Me=Ne}return V},B.prototype.invm=function(n){var f=n._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},B.prototype.pow=function(n,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return n.clone();var d=4,m=new Array(1<<d);m[0]=new i(1).toRed(this),m[1]=n;for(var x=2;x<m.length;x++)m[x]=this.mul(m[x-1],n);var w=m[0],h=0,g=0,v=f.bitLength()%26;for(v===0&&(v=26),x=f.length-1;x>=0;x--){for(var _=f.words[x],V=v-1;V>=0;V--){var be=_>>V&1;if(w!==m[0]&&(w=this.sqr(w)),be===0&&h===0){g=0;continue}h<<=1,h|=be,g++,!(g!==d&&(x!==0||V!==0))&&(w=this.mul(w,m[h]),g=0,h=0)}v=26}return w},B.prototype.convertTo=function(n){var f=n.umod(this.m);return f===n?f.clone():f},B.prototype.convertFrom=function(n){var f=n.clone();return f.red=null,f},i.mont=function(n){return new l(n)};function l(u){B.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(l,B),l.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},l.prototype.convertFrom=function(n){var f=this.imod(n.mul(this.rinv));return f.red=null,f},l.prototype.imul=function(n,f){if(n.isZero()||f.isZero())return n.words[0]=0,n.length=1,n;var d=n.imul(f),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=d.isub(m).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},l.prototype.mul=function(n,f){if(n.isZero()||f.isZero())return new i(0)._forceRed(this);var d=n.mul(f),m=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=d.isub(m).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},l.prototype.invm=function(n){var f=this.imod(n._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Ae)})(ai);var Gf=ai.exports;const Wf="Input must be an string, Buffer or Uint8Array";function Vf(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(Wf);return e}function Kf(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function tn(t){return(4294967296+t).toString(16).substring(1)}function Zf(t,e,r){let o=`
`+t+" = ";for(let p=0;p<e.length;p+=2){if(r===32)o+=tn(e[p]).toUpperCase(),o+=" ",o+=tn(e[p+1]).toUpperCase();else if(r===64)o+=tn(e[p+1]).toUpperCase(),o+=tn(e[p]).toUpperCase();else throw new Error("Invalid size "+r);p%6===4?o+=`
`+new Array(t.length+4).join(" "):p<e.length-2&&(o+=" ")}console.log(o)}function Jf(t,e,r){let o=new Date().getTime();const p=new Uint8Array(e);for(let a=0;a<e;a++)p[a]=a%256;const i=new Date().getTime();console.log("Generated random input in "+(i-o)+"ms"),o=i;for(let a=0;a<r;a++){const s=t(p),M=new Date().getTime(),A=M-o;o=M,console.log("Hashed in "+A+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(A/1e3)*100)/100+" MB PER SECOND")}}var Bs={normalizeInput:Vf,toHex:Kf,debugPrint:Zf,testSpeed:Jf};const sn=Bs;function rn(t,e,r){const o=t[e]+t[r];let p=t[e+1]+t[r+1];o>=4294967296&&p++,t[e]=o,t[e+1]=p}function _i(t,e,r,o){let p=t[e]+r;r<0&&(p+=4294967296);let i=t[e+1]+o;p>=4294967296&&i++,t[e]=p,t[e+1]=i}function Ts(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function jt(t,e,r,o,p,i){const a=$r[p],s=$r[p+1],M=$r[i],A=$r[i+1];rn(De,t,e),_i(De,t,a,s);let I=De[o]^De[t],R=De[o+1]^De[t+1];De[o]=R,De[o+1]=I,rn(De,r,o),I=De[e]^De[r],R=De[e+1]^De[r+1],De[e]=I>>>24^R<<8,De[e+1]=R>>>24^I<<8,rn(De,t,e),_i(De,t,M,A),I=De[o]^De[t],R=De[o+1]^De[t+1],De[o]=I>>>16^R<<16,De[o+1]=R>>>16^I<<16,rn(De,r,o),I=De[e]^De[r],R=De[e+1]^De[r+1],De[e]=R>>>31^I<<1,De[e+1]=I>>>31^R<<1}const Ps=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Xf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ct=new Uint8Array(Xf.map(function(t){return t*2})),De=new Uint32Array(32),$r=new Uint32Array(32);function Cs(t,e){let r=0;for(r=0;r<16;r++)De[r]=t.h[r],De[r+16]=Ps[r];for(De[24]=De[24]^t.t,De[25]=De[25]^t.t/4294967296,e&&(De[28]=~De[28],De[29]=~De[29]),r=0;r<32;r++)$r[r]=Ts(t.b,4*r);for(r=0;r<12;r++)jt(0,8,16,24,ct[r*16+0],ct[r*16+1]),jt(2,10,18,26,ct[r*16+2],ct[r*16+3]),jt(4,12,20,28,ct[r*16+4],ct[r*16+5]),jt(6,14,22,30,ct[r*16+6],ct[r*16+7]),jt(0,10,20,30,ct[r*16+8],ct[r*16+9]),jt(2,12,22,24,ct[r*16+10],ct[r*16+11]),jt(4,14,16,26,ct[r*16+12],ct[r*16+13]),jt(6,8,18,28,ct[r*16+14],ct[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^De[r]^De[r+16]}const Gt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Rs(t,e,r,o){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(o&&o.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const p={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Gt.fill(0),Gt[0]=t,e&&(Gt[1]=e.length),Gt[2]=1,Gt[3]=1,r&&Gt.set(r,32),o&&Gt.set(o,48);for(let i=0;i<16;i++)p.h[i]=Ps[i]^Ts(Gt,i*4);return e&&(fi(p,e),p.c=128),p}function fi(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Cs(t,!1),t.c=0),t.b[t.c++]=e[r]}function Os(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Cs(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function Ns(t,e,r,o,p){r=r||64,t=sn.normalizeInput(t),o&&(o=sn.normalizeInput(o)),p&&(p=sn.normalizeInput(p));const i=Rs(r,e,o,p);return fi(i,t),Os(i)}function Yf(t,e,r,o,p){const i=Ns(t,e,r,o,p);return sn.toHex(i)}var Qf={blake2b:Ns,blake2bHex:Yf,blake2bInit:Rs,blake2bUpdate:fi,blake2bFinal:Os};const Fs=Bs;function e0(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Wt(t,e,r,o,p,i){Ve[t]=Ve[t]+Ve[e]+p,Ve[o]=nn(Ve[o]^Ve[t],16),Ve[r]=Ve[r]+Ve[o],Ve[e]=nn(Ve[e]^Ve[r],12),Ve[t]=Ve[t]+Ve[e]+i,Ve[o]=nn(Ve[o]^Ve[t],8),Ve[r]=Ve[r]+Ve[o],Ve[e]=nn(Ve[e]^Ve[r],7)}function nn(t,e){return t>>>e^t<<32-e}const qs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ut=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ve=new Uint32Array(16),at=new Uint32Array(16);function Us(t,e){let r=0;for(r=0;r<8;r++)Ve[r]=t.h[r],Ve[r+8]=qs[r];for(Ve[12]^=t.t,Ve[13]^=t.t/4294967296,e&&(Ve[14]=~Ve[14]),r=0;r<16;r++)at[r]=e0(t.b,4*r);for(r=0;r<10;r++)Wt(0,4,8,12,at[ut[r*16+0]],at[ut[r*16+1]]),Wt(1,5,9,13,at[ut[r*16+2]],at[ut[r*16+3]]),Wt(2,6,10,14,at[ut[r*16+4]],at[ut[r*16+5]]),Wt(3,7,11,15,at[ut[r*16+6]],at[ut[r*16+7]]),Wt(0,5,10,15,at[ut[r*16+8]],at[ut[r*16+9]]),Wt(1,6,11,12,at[ut[r*16+10]],at[ut[r*16+11]]),Wt(2,7,8,13,at[ut[r*16+12]],at[ut[r*16+13]]),Wt(3,4,9,14,at[ut[r*16+14]],at[ut[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=Ve[r]^Ve[r+8]}function ks(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const o={h:new Uint32Array(qs),b:new Uint8Array(64),c:0,t:0,outlen:t};return o.h[0]^=16842752^r<<8^t,r>0&&(ci(o,e),o.c=64),o}function ci(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,Us(t,!1),t.c=0),t.b[t.c++]=e[r]}function Hs(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Us(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function $s(t,e,r){r=r||32,t=Fs.normalizeInput(t);const o=ks(r,e);return ci(o,t),Hs(o)}function t0(t,e,r){const o=$s(t,e,r);return Fs.toHex(o)}var r0={blake2s:$s,blake2sHex:t0,blake2sInit:ks,blake2sUpdate:ci,blake2sFinal:Hs};const qr=Qf,Ur=r0;var Ds={blake2b:qr.blake2b,blake2bHex:qr.blake2bHex,blake2bInit:qr.blake2bInit,blake2bUpdate:qr.blake2bUpdate,blake2bFinal:qr.blake2bFinal,blake2s:Ur.blake2s,blake2sHex:Ur.blake2sHex,blake2sInit:Ur.blake2sInit,blake2sUpdate:Ur.blake2sUpdate,blake2sFinal:Ur.blake2sFinal},Zr={},An={};An.byteLength=s0;An.toByteArray=a0;An.fromByteArray=u0;var Et=[],gt=[],n0=typeof Uint8Array<"u"?Uint8Array:Array,$n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wr=0,i0=$n.length;wr<i0;++wr)Et[wr]=$n[wr],gt[$n.charCodeAt(wr)]=wr;gt["-".charCodeAt(0)]=62;gt["_".charCodeAt(0)]=63;function Ls(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var o=r===e?0:4-r%4;return[r,o]}function s0(t){var e=Ls(t),r=e[0],o=e[1];return(r+o)*3/4-o}function o0(t,e,r){return(e+r)*3/4-r}function a0(t){var e,r=Ls(t),o=r[0],p=r[1],i=new n0(o0(t,o,p)),a=0,s=p>0?o-4:o,M;for(M=0;M<s;M+=4)e=gt[t.charCodeAt(M)]<<18|gt[t.charCodeAt(M+1)]<<12|gt[t.charCodeAt(M+2)]<<6|gt[t.charCodeAt(M+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return p===2&&(e=gt[t.charCodeAt(M)]<<2|gt[t.charCodeAt(M+1)]>>4,i[a++]=e&255),p===1&&(e=gt[t.charCodeAt(M)]<<10|gt[t.charCodeAt(M+1)]<<4|gt[t.charCodeAt(M+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function f0(t){return Et[t>>18&63]+Et[t>>12&63]+Et[t>>6&63]+Et[t&63]}function c0(t,e,r){for(var o,p=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),p.push(f0(o));return p.join("")}function u0(t){for(var e,r=t.length,o=r%3,p=[],i=16383,a=0,s=r-o;a<s;a+=i)p.push(c0(t,a,a+i>s?s:a+i));return o===1?(e=t[r-1],p.push(Et[e>>2]+Et[e<<4&63]+"==")):o===2&&(e=(t[r-2]<<8)+t[r-1],p.push(Et[e>>10]+Et[e>>4&63]+Et[e<<2&63]+"=")),p.join("")}var ui={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ui.read=function(t,e,r,o,p){var i,a,s=p*8-o-1,M=(1<<s)-1,A=M>>1,I=-7,R=r?p-1:0,Y=r?-1:1,$=t[e+R];for(R+=Y,i=$&(1<<-I)-1,$>>=-I,I+=s;I>0;i=i*256+t[e+R],R+=Y,I-=8);for(a=i&(1<<-I)-1,i>>=-I,I+=o;I>0;a=a*256+t[e+R],R+=Y,I-=8);if(i===0)i=1-A;else{if(i===M)return a?NaN:($?-1:1)*(1/0);a=a+Math.pow(2,o),i=i-A}return($?-1:1)*a*Math.pow(2,i-o)};ui.write=function(t,e,r,o,p,i){var a,s,M,A=i*8-p-1,I=(1<<A)-1,R=I>>1,Y=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=o?0:i-1,re=o?1:-1,oe=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=I):(a=Math.floor(Math.log(e)/Math.LN2),e*(M=Math.pow(2,-a))<1&&(a--,M*=2),a+R>=1?e+=Y/M:e+=Y*Math.pow(2,1-R),e*M>=2&&(a++,M/=2),a+R>=I?(s=0,a=I):a+R>=1?(s=(e*M-1)*Math.pow(2,p),a=a+R):(s=e*Math.pow(2,R-1)*Math.pow(2,p),a=0));p>=8;t[r+$]=s&255,$+=re,s/=256,p-=8);for(a=a<<p|s,A+=p;A>0;t[r+$]=a&255,$+=re,a/=256,A-=8);t[r+$-re]|=oe*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=An,r=ui,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=he,t.INSPECT_MAX_BYTES=50;const p=2147483647;t.kMaxLength=p,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const y=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(y,c),y.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(y){if(y>p)throw new RangeError('The value "'+y+'" is invalid for option "size"');const c=new Uint8Array(y);return Object.setPrototypeOf(c,s.prototype),c}function s(y,c,b){if(typeof y=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(y)}return M(y,c,b)}s.poolSize=8192;function M(y,c,b){if(typeof y=="string")return Y(y,c);if(ArrayBuffer.isView(y))return re(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(we(y,ArrayBuffer)||y&&we(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(y,SharedArrayBuffer)||y&&we(y.buffer,SharedArrayBuffer)))return oe(y,c,b);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=y.valueOf&&y.valueOf();if(E!=null&&E!==y)return s.from(E,c,b);const N=ae(y);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return s.from(y[Symbol.toPrimitive]("string"),c,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}s.from=function(y,c,b){return M(y,c,b)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function A(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function I(y,c,b){return A(y),y<=0?a(y):c!==void 0?typeof b=="string"?a(y).fill(c,b):a(y).fill(c):a(y)}s.alloc=function(y,c,b){return I(y,c,b)};function R(y){return A(y),a(y<0?0:ue(y)|0)}s.allocUnsafe=function(y){return R(y)},s.allocUnsafeSlow=function(y){return R(y)};function Y(y,c){if((typeof c!="string"||c==="")&&(c="utf8"),!s.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const b=de(y,c)|0;let E=a(b);const N=E.write(y,c);return N!==b&&(E=E.slice(0,N)),E}function $(y){const c=y.length<0?0:ue(y.length)|0,b=a(c);for(let E=0;E<c;E+=1)b[E]=y[E]&255;return b}function re(y){if(we(y,Uint8Array)){const c=new Uint8Array(y);return oe(c.buffer,c.byteOffset,c.byteLength)}return $(y)}function oe(y,c,b){if(c<0||y.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<c+(b||0))throw new RangeError('"length" is outside of buffer bounds');let E;return c===void 0&&b===void 0?E=new Uint8Array(y):b===void 0?E=new Uint8Array(y,c):E=new Uint8Array(y,c,b),Object.setPrototypeOf(E,s.prototype),E}function ae(y){if(s.isBuffer(y)){const c=ue(y.length)|0,b=a(c);return b.length===0||y.copy(b,0,0,c),b}if(y.length!==void 0)return typeof y.length!="number"||D(y.length)?a(0):$(y);if(y.type==="Buffer"&&Array.isArray(y.data))return $(y.data)}function ue(y){if(y>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return y|0}function he(y){return+y!=y&&(y=0),s.alloc(+y)}s.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==s.prototype},s.compare=function(c,b){if(we(c,Uint8Array)&&(c=s.from(c,c.offset,c.byteLength)),we(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),!s.isBuffer(c)||!s.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===b)return 0;let E=c.length,N=b.length;for(let W=0,X=Math.min(E,N);W<X;++W)if(c[W]!==b[W]){E=c[W],N=b[W];break}return E<N?-1:N<E?1:0},s.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(c,b){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return s.alloc(0);let E;if(b===void 0)for(b=0,E=0;E<c.length;++E)b+=c[E].length;const N=s.allocUnsafe(b);let W=0;for(E=0;E<c.length;++E){let X=c[E];if(we(X,Uint8Array))W+X.length>N.length?(s.isBuffer(X)||(X=s.from(X)),X.copy(N,W)):Uint8Array.prototype.set.call(N,X,W);else if(s.isBuffer(X))X.copy(N,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=X.length}return N};function de(y,c){if(s.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||we(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const b=y.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&b===0)return 0;let N=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return z(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ne(y).length;default:if(N)return E?-1:z(y).length;c=(""+c).toLowerCase(),N=!0}}s.byteLength=de;function Ee(y,c,b){let E=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,c>>>=0,b<=c))return"";for(y||(y="utf8");;)switch(y){case"hex":return w(this,c,b);case"utf8":case"utf-8":return n(this,c,b);case"ascii":return m(this,c,b);case"latin1":case"binary":return x(this,c,b);case"base64":return u(this,c,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,c,b);default:if(E)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),E=!0}}s.prototype._isBuffer=!0;function ye(y,c,b){const E=y[c];y[c]=y[b],y[b]=E}s.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<c;b+=2)ye(this,b,b+1);return this},s.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<c;b+=4)ye(this,b,b+3),ye(this,b+1,b+2);return this},s.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<c;b+=8)ye(this,b,b+7),ye(this,b+1,b+6),ye(this,b+2,b+5),ye(this,b+3,b+4);return this},s.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?n(this,0,c):Ee.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(c){if(!s.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:s.compare(this,c)===0},s.prototype.inspect=function(){let c="";const b=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(c+=" ... "),"<Buffer "+c+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(c,b,E,N,W){if(we(c,Uint8Array)&&(c=s.from(c,c.offset,c.byteLength)),!s.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(b===void 0&&(b=0),E===void 0&&(E=c?c.length:0),N===void 0&&(N=0),W===void 0&&(W=this.length),b<0||E>c.length||N<0||W>this.length)throw new RangeError("out of range index");if(N>=W&&b>=E)return 0;if(N>=W)return-1;if(b>=E)return 1;if(b>>>=0,E>>>=0,N>>>=0,W>>>=0,this===c)return 0;let X=W-N,ve=E-b;const _e=Math.min(X,ve),xe=this.slice(N,W),Se=c.slice(b,E);for(let Ce=0;Ce<_e;++Ce)if(xe[Ce]!==Se[Ce]){X=xe[Ce],ve=Se[Ce];break}return X<ve?-1:ve<X?1:0};function T(y,c,b,E,N){if(y.length===0)return-1;if(typeof b=="string"?(E=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,D(b)&&(b=N?0:y.length-1),b<0&&(b=y.length+b),b>=y.length){if(N)return-1;b=y.length-1}else if(b<0)if(N)b=0;else return-1;if(typeof c=="string"&&(c=s.from(c,E)),s.isBuffer(c))return c.length===0?-1:L(y,c,b,E,N);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(y,c,b):Uint8Array.prototype.lastIndexOf.call(y,c,b):L(y,[c],b,E,N);throw new TypeError("val must be string, number or Buffer")}function L(y,c,b,E,N){let W=1,X=y.length,ve=c.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(y.length<2||c.length<2)return-1;W=2,X/=2,ve/=2,b/=2}function _e(Se,Ce){return W===1?Se[Ce]:Se.readUInt16BE(Ce*W)}let xe;if(N){let Se=-1;for(xe=b;xe<X;xe++)if(_e(y,xe)===_e(c,Se===-1?0:xe-Se)){if(Se===-1&&(Se=xe),xe-Se+1===ve)return Se*W}else Se!==-1&&(xe-=xe-Se),Se=-1}else for(b+ve>X&&(b=X-ve),xe=b;xe>=0;xe--){let Se=!0;for(let Ce=0;Ce<ve;Ce++)if(_e(y,xe+Ce)!==_e(c,Ce)){Se=!1;break}if(Se)return xe}return-1}s.prototype.includes=function(c,b,E){return this.indexOf(c,b,E)!==-1},s.prototype.indexOf=function(c,b,E){return T(this,c,b,E,!0)},s.prototype.lastIndexOf=function(c,b,E){return T(this,c,b,E,!1)};function ee(y,c,b,E){b=Number(b)||0;const N=y.length-b;E?(E=Number(E),E>N&&(E=N)):E=N;const W=c.length;E>W/2&&(E=W/2);let X;for(X=0;X<E;++X){const ve=parseInt(c.substr(X*2,2),16);if(D(ve))return X;y[b+X]=ve}return X}function H(y,c,b,E){return ce(z(c,y.length-b),y,b,E)}function G(y,c,b,E){return ce(K(c),y,b,E)}function B(y,c,b,E){return ce(ne(c),y,b,E)}function l(y,c,b,E){return ce(ie(c,y.length-b),y,b,E)}s.prototype.write=function(c,b,E,N){if(b===void 0)N="utf8",E=this.length,b=0;else if(E===void 0&&typeof b=="string")N=b,E=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(E)?(E=E>>>0,N===void 0&&(N="utf8")):(N=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-b;if((E===void 0||E>W)&&(E=W),c.length>0&&(E<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");let X=!1;for(;;)switch(N){case"hex":return ee(this,c,b,E);case"utf8":case"utf-8":return H(this,c,b,E);case"ascii":case"latin1":case"binary":return G(this,c,b,E);case"base64":return B(this,c,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,c,b,E);default:if(X)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),X=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function u(y,c,b){return c===0&&b===y.length?e.fromByteArray(y):e.fromByteArray(y.slice(c,b))}function n(y,c,b){b=Math.min(y.length,b);const E=[];let N=c;for(;N<b;){const W=y[N];let X=null,ve=W>239?4:W>223?3:W>191?2:1;if(N+ve<=b){let _e,xe,Se,Ce;switch(ve){case 1:W<128&&(X=W);break;case 2:_e=y[N+1],(_e&192)===128&&(Ce=(W&31)<<6|_e&63,Ce>127&&(X=Ce));break;case 3:_e=y[N+1],xe=y[N+2],(_e&192)===128&&(xe&192)===128&&(Ce=(W&15)<<12|(_e&63)<<6|xe&63,Ce>2047&&(Ce<55296||Ce>57343)&&(X=Ce));break;case 4:_e=y[N+1],xe=y[N+2],Se=y[N+3],(_e&192)===128&&(xe&192)===128&&(Se&192)===128&&(Ce=(W&15)<<18|(_e&63)<<12|(xe&63)<<6|Se&63,Ce>65535&&Ce<1114112&&(X=Ce))}}X===null?(X=65533,ve=1):X>65535&&(X-=65536,E.push(X>>>10&1023|55296),X=56320|X&1023),E.push(X),N+=ve}return d(E)}const f=4096;function d(y){const c=y.length;if(c<=f)return String.fromCharCode.apply(String,y);let b="",E=0;for(;E<c;)b+=String.fromCharCode.apply(String,y.slice(E,E+=f));return b}function m(y,c,b){let E="";b=Math.min(y.length,b);for(let N=c;N<b;++N)E+=String.fromCharCode(y[N]&127);return E}function x(y,c,b){let E="";b=Math.min(y.length,b);for(let N=c;N<b;++N)E+=String.fromCharCode(y[N]);return E}function w(y,c,b){const E=y.length;(!c||c<0)&&(c=0),(!b||b<0||b>E)&&(b=E);let N="";for(let W=c;W<b;++W)N+=S[y[W]];return N}function h(y,c,b){const E=y.slice(c,b);let N="";for(let W=0;W<E.length-1;W+=2)N+=String.fromCharCode(E[W]+E[W+1]*256);return N}s.prototype.slice=function(c,b){const E=this.length;c=~~c,b=b===void 0?E:~~b,c<0?(c+=E,c<0&&(c=0)):c>E&&(c=E),b<0?(b+=E,b<0&&(b=0)):b>E&&(b=E),b<c&&(b=c);const N=this.subarray(c,b);return Object.setPrototypeOf(N,s.prototype),N};function g(y,c,b){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+c>b)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(c,b,E){c=c>>>0,b=b>>>0,E||g(c,b,this.length);let N=this[c],W=1,X=0;for(;++X<b&&(W*=256);)N+=this[c+X]*W;return N},s.prototype.readUintBE=s.prototype.readUIntBE=function(c,b,E){c=c>>>0,b=b>>>0,E||g(c,b,this.length);let N=this[c+--b],W=1;for(;b>0&&(W*=256);)N+=this[c+--b]*W;return N},s.prototype.readUint8=s.prototype.readUInt8=function(c,b){return c=c>>>0,b||g(c,1,this.length),this[c]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(c,b){return c=c>>>0,b||g(c,2,this.length),this[c]|this[c+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(c,b){return c=c>>>0,b||g(c,2,this.length),this[c]<<8|this[c+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(c,b){return c=c>>>0,b||g(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(c,b){return c=c>>>0,b||g(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},s.prototype.readBigUInt64LE=O(function(c){c=c>>>0,te(c,"offset");const b=this[c],E=this[c+7];(b===void 0||E===void 0)&&Z(c,this.length-8);const N=b+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,W=this[++c]+this[++c]*2**8+this[++c]*2**16+E*2**24;return BigInt(N)+(BigInt(W)<<BigInt(32))}),s.prototype.readBigUInt64BE=O(function(c){c=c>>>0,te(c,"offset");const b=this[c],E=this[c+7];(b===void 0||E===void 0)&&Z(c,this.length-8);const N=b*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],W=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E;return(BigInt(N)<<BigInt(32))+BigInt(W)}),s.prototype.readIntLE=function(c,b,E){c=c>>>0,b=b>>>0,E||g(c,b,this.length);let N=this[c],W=1,X=0;for(;++X<b&&(W*=256);)N+=this[c+X]*W;return W*=128,N>=W&&(N-=Math.pow(2,8*b)),N},s.prototype.readIntBE=function(c,b,E){c=c>>>0,b=b>>>0,E||g(c,b,this.length);let N=b,W=1,X=this[c+--N];for(;N>0&&(W*=256);)X+=this[c+--N]*W;return W*=128,X>=W&&(X-=Math.pow(2,8*b)),X},s.prototype.readInt8=function(c,b){return c=c>>>0,b||g(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},s.prototype.readInt16LE=function(c,b){c=c>>>0,b||g(c,2,this.length);const E=this[c]|this[c+1]<<8;return E&32768?E|4294901760:E},s.prototype.readInt16BE=function(c,b){c=c>>>0,b||g(c,2,this.length);const E=this[c+1]|this[c]<<8;return E&32768?E|4294901760:E},s.prototype.readInt32LE=function(c,b){return c=c>>>0,b||g(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},s.prototype.readInt32BE=function(c,b){return c=c>>>0,b||g(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},s.prototype.readBigInt64LE=O(function(c){c=c>>>0,te(c,"offset");const b=this[c],E=this[c+7];(b===void 0||E===void 0)&&Z(c,this.length-8);const N=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(E<<24);return(BigInt(N)<<BigInt(32))+BigInt(b+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),s.prototype.readBigInt64BE=O(function(c){c=c>>>0,te(c,"offset");const b=this[c],E=this[c+7];(b===void 0||E===void 0)&&Z(c,this.length-8);const N=(b<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(N)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+E)}),s.prototype.readFloatLE=function(c,b){return c=c>>>0,b||g(c,4,this.length),r.read(this,c,!0,23,4)},s.prototype.readFloatBE=function(c,b){return c=c>>>0,b||g(c,4,this.length),r.read(this,c,!1,23,4)},s.prototype.readDoubleLE=function(c,b){return c=c>>>0,b||g(c,8,this.length),r.read(this,c,!0,52,8)},s.prototype.readDoubleBE=function(c,b){return c=c>>>0,b||g(c,8,this.length),r.read(this,c,!1,52,8)};function v(y,c,b,E,N,W){if(!s.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>N||c<W)throw new RangeError('"value" argument is out of bounds');if(b+E>y.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(c,b,E,N){if(c=+c,b=b>>>0,E=E>>>0,!N){const ve=Math.pow(2,8*E)-1;v(this,c,b,E,ve,0)}let W=1,X=0;for(this[b]=c&255;++X<E&&(W*=256);)this[b+X]=c/W&255;return b+E},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(c,b,E,N){if(c=+c,b=b>>>0,E=E>>>0,!N){const ve=Math.pow(2,8*E)-1;v(this,c,b,E,ve,0)}let W=E-1,X=1;for(this[b+W]=c&255;--W>=0&&(X*=256);)this[b+W]=c/X&255;return b+E},s.prototype.writeUint8=s.prototype.writeUInt8=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,1,255,0),this[b]=c&255,b+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,2,65535,0),this[b]=c&255,this[b+1]=c>>>8,b+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,2,65535,0),this[b]=c>>>8,this[b+1]=c&255,b+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,4,4294967295,0),this[b+3]=c>>>24,this[b+2]=c>>>16,this[b+1]=c>>>8,this[b]=c&255,b+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,4,4294967295,0),this[b]=c>>>24,this[b+1]=c>>>16,this[b+2]=c>>>8,this[b+3]=c&255,b+4};function _(y,c,b,E,N){q(c,E,N,y,b,7);let W=Number(c&BigInt(4294967295));y[b++]=W,W=W>>8,y[b++]=W,W=W>>8,y[b++]=W,W=W>>8,y[b++]=W;let X=Number(c>>BigInt(32)&BigInt(4294967295));return y[b++]=X,X=X>>8,y[b++]=X,X=X>>8,y[b++]=X,X=X>>8,y[b++]=X,b}function V(y,c,b,E,N){q(c,E,N,y,b,7);let W=Number(c&BigInt(4294967295));y[b+7]=W,W=W>>8,y[b+6]=W,W=W>>8,y[b+5]=W,W=W>>8,y[b+4]=W;let X=Number(c>>BigInt(32)&BigInt(4294967295));return y[b+3]=X,X=X>>8,y[b+2]=X,X=X>>8,y[b+1]=X,X=X>>8,y[b]=X,b+8}s.prototype.writeBigUInt64LE=O(function(c,b=0){return _(this,c,b,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=O(function(c,b=0){return V(this,c,b,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(c,b,E,N){if(c=+c,b=b>>>0,!N){const _e=Math.pow(2,8*E-1);v(this,c,b,E,_e-1,-_e)}let W=0,X=1,ve=0;for(this[b]=c&255;++W<E&&(X*=256);)c<0&&ve===0&&this[b+W-1]!==0&&(ve=1),this[b+W]=(c/X>>0)-ve&255;return b+E},s.prototype.writeIntBE=function(c,b,E,N){if(c=+c,b=b>>>0,!N){const _e=Math.pow(2,8*E-1);v(this,c,b,E,_e-1,-_e)}let W=E-1,X=1,ve=0;for(this[b+W]=c&255;--W>=0&&(X*=256);)c<0&&ve===0&&this[b+W+1]!==0&&(ve=1),this[b+W]=(c/X>>0)-ve&255;return b+E},s.prototype.writeInt8=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,1,127,-128),c<0&&(c=255+c+1),this[b]=c&255,b+1},s.prototype.writeInt16LE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,2,32767,-32768),this[b]=c&255,this[b+1]=c>>>8,b+2},s.prototype.writeInt16BE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,2,32767,-32768),this[b]=c>>>8,this[b+1]=c&255,b+2},s.prototype.writeInt32LE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,4,2147483647,-2147483648),this[b]=c&255,this[b+1]=c>>>8,this[b+2]=c>>>16,this[b+3]=c>>>24,b+4},s.prototype.writeInt32BE=function(c,b,E){return c=+c,b=b>>>0,E||v(this,c,b,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[b]=c>>>24,this[b+1]=c>>>16,this[b+2]=c>>>8,this[b+3]=c&255,b+4},s.prototype.writeBigInt64LE=O(function(c,b=0){return _(this,c,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=O(function(c,b=0){return V(this,c,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(y,c,b,E,N,W){if(b+E>y.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Me(y,c,b,E,N){return c=+c,b=b>>>0,N||be(y,c,b,4),r.write(y,c,b,E,23,4),b+4}s.prototype.writeFloatLE=function(c,b,E){return Me(this,c,b,!0,E)},s.prototype.writeFloatBE=function(c,b,E){return Me(this,c,b,!1,E)};function qe(y,c,b,E,N){return c=+c,b=b>>>0,N||be(y,c,b,8),r.write(y,c,b,E,52,8),b+8}s.prototype.writeDoubleLE=function(c,b,E){return qe(this,c,b,!0,E)},s.prototype.writeDoubleBE=function(c,b,E){return qe(this,c,b,!1,E)},s.prototype.copy=function(c,b,E,N){if(!s.isBuffer(c))throw new TypeError("argument should be a Buffer");if(E||(E=0),!N&&N!==0&&(N=this.length),b>=c.length&&(b=c.length),b||(b=0),N>0&&N<E&&(N=E),N===E||c.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),c.length-b<N-E&&(N=c.length-b+E);const W=N-E;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,E,N):Uint8Array.prototype.set.call(c,this.subarray(E,N),b),W},s.prototype.fill=function(c,b,E,N){if(typeof c=="string"){if(typeof b=="string"?(N=b,b=0,E=this.length):typeof E=="string"&&(N=E,E=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!s.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(c.length===1){const X=c.charCodeAt(0);(N==="utf8"&&X<128||N==="latin1")&&(c=X)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(b<0||this.length<b||this.length<E)throw new RangeError("Out of range index");if(E<=b)return this;b=b>>>0,E=E===void 0?this.length:E>>>0,c||(c=0);let W;if(typeof c=="number")for(W=b;W<E;++W)this[W]=c;else{const X=s.isBuffer(c)?c:s.from(c,N),ve=X.length;if(ve===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(W=0;W<E-b;++W)this[W+b]=X[W%ve]}return this};const Ne={};function Te(y,c,b){Ne[y]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(y,c){return`The "${y}" argument must be of type number. Received type ${typeof c}`},TypeError),Te("ERR_OUT_OF_RANGE",function(y,c,b){let E=`The value of "${y}" is out of range.`,N=b;return Number.isInteger(b)&&Math.abs(b)>2**32?N=P(String(b)):typeof b=="bigint"&&(N=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(N=P(N)),N+="n"),E+=` It must be ${c}. Received ${N}`,E},RangeError);function P(y){let c="",b=y.length;const E=y[0]==="-"?1:0;for(;b>=E+4;b-=3)c=`_${y.slice(b-3,b)}${c}`;return`${y.slice(0,b)}${c}`}function F(y,c,b){te(c,"offset"),(y[c]===void 0||y[c+b]===void 0)&&Z(c,y.length-(b+1))}function q(y,c,b,E,N,W){if(y>b||y<c){const X=typeof c=="bigint"?"n":"";let ve;throw W>3?c===0||c===BigInt(0)?ve=`>= 0${X} and < 2${X} ** ${(W+1)*8}${X}`:ve=`>= -(2${X} ** ${(W+1)*8-1}${X}) and < 2 ** ${(W+1)*8-1}${X}`:ve=`>= ${c}${X} and <= ${b}${X}`,new Ne.ERR_OUT_OF_RANGE("value",ve,y)}F(E,N,W)}function te(y,c){if(typeof y!="number")throw new Ne.ERR_INVALID_ARG_TYPE(c,"number",y)}function Z(y,c,b){throw Math.floor(y)!==y?(te(y,b),new Ne.ERR_OUT_OF_RANGE(b||"offset","an integer",y)):c<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${c}`,y)}const J=/[^+/0-9A-Za-z-_]/g;function se(y){if(y=y.split("=")[0],y=y.trim().replace(J,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function z(y,c){c=c||1/0;let b;const E=y.length;let N=null;const W=[];for(let X=0;X<E;++X){if(b=y.charCodeAt(X),b>55295&&b<57344){if(!N){if(b>56319){(c-=3)>-1&&W.push(239,191,189);continue}else if(X+1===E){(c-=3)>-1&&W.push(239,191,189);continue}N=b;continue}if(b<56320){(c-=3)>-1&&W.push(239,191,189),N=b;continue}b=(N-55296<<10|b-56320)+65536}else N&&(c-=3)>-1&&W.push(239,191,189);if(N=null,b<128){if((c-=1)<0)break;W.push(b)}else if(b<2048){if((c-=2)<0)break;W.push(b>>6|192,b&63|128)}else if(b<65536){if((c-=3)<0)break;W.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((c-=4)<0)break;W.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return W}function K(y){const c=[];for(let b=0;b<y.length;++b)c.push(y.charCodeAt(b)&255);return c}function ie(y,c){let b,E,N;const W=[];for(let X=0;X<y.length&&!((c-=2)<0);++X)b=y.charCodeAt(X),E=b>>8,N=b%256,W.push(N),W.push(E);return W}function ne(y){return e.toByteArray(se(y))}function ce(y,c,b,E){let N;for(N=0;N<E&&!(N+b>=c.length||N>=y.length);++N)c[N+b]=y[N];return N}function we(y,c){return y instanceof c||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===c.name}function D(y){return y!==y}const S=function(){const y="0123456789abcdef",c=new Array(256);for(let b=0;b<16;++b){const E=b*16;for(let N=0;N<16;++N)c[E+N]=y[b]+y[N]}return c}();function O(y){return typeof BigInt>"u"?Q:y}function Q(){throw new Error("BigInt not supported")}})(Zr);var _n={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DUST_AMOUNT=t.ONE_ALPH=t.ALPH_TOKEN_ID=t.MIN_UTXO_SET_AMOUNT=t.TOTAL_NUMBER_OF_CHAINS=t.TOTAL_NUMBER_OF_GROUPS=void 0,t.TOTAL_NUMBER_OF_GROUPS=4,t.TOTAL_NUMBER_OF_CHAINS=t.TOTAL_NUMBER_OF_GROUPS*t.TOTAL_NUMBER_OF_GROUPS,t.MIN_UTXO_SET_AMOUNT=BigInt(1e12),t.ALPH_TOKEN_ID="".padStart(64,"0"),t.ONE_ALPH=10n**18n,t.DUST_AMOUNT=10n**15n})(_n);var Sn=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.assertType=ke.sleep=ke.hexToString=ke.stringToHex=ke.blockChainIndex=ke.subContractId=ke.contractIdFromTx=ke.addressFromTokenId=ke.addressFromContractId=ke.addressFromPublicKey=ke.publicKeyFromPrivateKey=ke.groupOfPrivateKey=ke.binToHex=ke.hexToBinUnsafe=ke.tokenIdFromAddress=ke.contractIdFromAddress=ke.groupOfAddress=ke.isHexString=ke.xorByte=ke.signatureDecode=ke.encodeHexSignature=ke.encodeSignature=ke.networkIds=void 0;const h0=Qn,cn=Sn(Gf),zr=Sn(Ds),jr=Sn(hn),nt=Zr,Dr=_n,d0=Sn(Wr);ke.networkIds=["mainnet","testnet","devnet"];const Lr=new h0.ec("secp256k1");function zs(t){let e=t.s;Lr.n&&t.s.cmp(Lr.nh)===1&&(e=Lr.n.sub(t.s));const r=t.r.toString("hex",66).slice(2),o=e.toString("hex",66).slice(2);return r+o}ke.encodeSignature=zs;function l0(t,e){return zs({r:new cn.default(t,"hex"),s:new cn.default(e,"hex")})}ke.encodeHexSignature=l0;function p0(t,e){if(e.length!==128)throw new Error("Invalid signature length");const r=e.slice(64,128),o=new cn.default(r,"hex");if(t.n&&o.cmp(t.nh)<1)return{r:e.slice(0,64),s:r};throw new Error("The signature is not normalized")}ke.signatureDecode=p0;function js(t){const e=t>>24&255,r=t>>16&255,o=t>>8&255,p=t&255;return(e^r^o^p)&255}ke.xorByte=js;function b0(t){return t.length%2===0&&/^[0-9a-fA-F]*$/.test(t)}ke.isHexString=b0;var kt;(function(t){t[t.P2PKH=0]="P2PKH",t[t.P2MPKH=1]="P2MPKH",t[t.P2SH=2]="P2SH",t[t.P2C=3]="P2C"})(kt||(kt={}));function Gs(t){const e=jr.default.decode(t);if(e.length==0)throw new Error("Address string is empty");const r=e[0],o=e.slice(1);if(r==kt.P2PKH)return v0(o);if(r==kt.P2MPKH)return m0(o);if(r==kt.P2SH)return g0(o);{const p=Ws(t);return p[`${p.length-1}`]}}ke.groupOfAddress=Gs;function hi(t){const e=(0,d0.default)(t)|1;return js(e)%Dr.TOTAL_NUMBER_OF_GROUPS}function v0(t){if(t.length!=32)throw new Error(`Invalid p2pkh address length: ${t.length}`);return hi(t)}function m0(t){if((t.length-2)%32!=0)throw new Error(`Invalid p2mpkh address length: ${t.length}`);return hi(t.slice(1,33))}function g0(t){return hi(t)}function Ws(t){return Vs(t)}ke.contractIdFromAddress=Ws;function y0(t){return Vs(t)}ke.tokenIdFromAddress=y0;function Vs(t){const e=jr.default.decode(t);if(e.length==0)throw new Error("Address string is empty");const r=e[0],o=e.slice(1);if(r==kt.P2C)return o;throw new Error(`Invalid contract address type: ${r}`)}function Gr(t){return nt.Buffer.from(t,"hex")}ke.hexToBinUnsafe=Gr;function di(t){return nt.Buffer.from(t).toString("hex")}ke.binToHex=di;function w0(t,e){return Gs(Zs(Ks(t,e),e))}ke.groupOfPrivateKey=w0;function Ks(t,e){return(e??"default")==="default"?Lr.keyFromPrivate(t).getPublic(!0,"hex"):Lr.g.mul(new cn.default(t,16)).encode("hex",!0).slice(2)}ke.publicKeyFromPrivateKey=Ks;function Zs(t,e){if((e??"default")==="default"){const o=nt.Buffer.from([kt.P2PKH]),p=nt.Buffer.from(zr.default.blake2b(nt.Buffer.from(t,"hex"),void 0,32)),i=nt.Buffer.concat([o,p]);return jr.default.encode(i)}else{const o=nt.Buffer.from(`0101000000000458144020${t}8685`,"hex"),p=zr.default.blake2b(o,void 0,32),i=nt.Buffer.from([kt.P2SH]);return jr.default.encode(nt.Buffer.concat([i,p]))}}ke.addressFromPublicKey=Zs;function Js(t){const e=nt.Buffer.from([kt.P2C]),r=nt.Buffer.from(Gr(t)),o=nt.Buffer.concat([e,r]);return jr.default.encode(o)}ke.addressFromContractId=Js;function x0(t){return Js(t)}ke.addressFromTokenId=x0;function M0(t,e){const r=Gr(t),o=nt.Buffer.concat([r,nt.Buffer.from([e])]),p=zr.default.blake2b(o,void 0,32);return di(p)}ke.contractIdFromTx=M0;function A0(t,e,r){if(r<0||r>=Dr.TOTAL_NUMBER_OF_GROUPS)throw new Error(`Invalid group ${r}`);const o=nt.Buffer.concat([Gr(t),Gr(e)]),p=nt.Buffer.concat([zr.default.blake2b(zr.default.blake2b(o,void 0,32),void 0,32).slice(0,-1),nt.Buffer.from([r])]);return di(p)}ke.subContractId=A0;function _0(t){if(t.length!=64)throw Error(`Invalid block hash: ${t}`);const e=+("0x"+t.slice(-4))%Dr.TOTAL_NUMBER_OF_CHAINS;return{fromGroup:Math.floor(e/Dr.TOTAL_NUMBER_OF_GROUPS),toGroup:e%Dr.TOTAL_NUMBER_OF_GROUPS}}ke.blockChainIndex=_0;function S0(t){let e="";for(let r=0;r<t.length;r++)e+=""+t.charCodeAt(r).toString(16);return e}ke.stringToHex=S0;function E0(t){return nt.Buffer.from(t,"hex").toString()}ke.hexToString=E0;function I0(t){return new Promise(e=>setTimeout(e,t))}ke.sleep=I0;function B0(){}ke.assertType=B0;var En={},Xs={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function p(M,A,I){this.fn=M,this.context=A,this.once=I||!1}function i(M,A,I,R,Y){if(typeof I!="function")throw new TypeError("The listener must be a function");var $=new p(I,R||M,Y),re=r?r+A:A;return M._events[re]?M._events[re].fn?M._events[re]=[M._events[re],$]:M._events[re].push($):(M._events[re]=$,M._eventsCount++),M}function a(M,A){--M._eventsCount===0?M._events=new o:delete M._events[A]}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var A=[],I,R;if(this._eventsCount===0)return A;for(R in I=this._events)e.call(I,R)&&A.push(r?R.slice(1):R);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(I)):A},s.prototype.listeners=function(A){var I=r?r+A:A,R=this._events[I];if(!R)return[];if(R.fn)return[R.fn];for(var Y=0,$=R.length,re=new Array($);Y<$;Y++)re[Y]=R[Y].fn;return re},s.prototype.listenerCount=function(A){var I=r?r+A:A,R=this._events[I];return R?R.fn?1:R.length:0},s.prototype.emit=function(A,I,R,Y,$,re){var oe=r?r+A:A;if(!this._events[oe])return!1;var ae=this._events[oe],ue=arguments.length,he,de;if(ae.fn){switch(ae.once&&this.removeListener(A,ae.fn,void 0,!0),ue){case 1:return ae.fn.call(ae.context),!0;case 2:return ae.fn.call(ae.context,I),!0;case 3:return ae.fn.call(ae.context,I,R),!0;case 4:return ae.fn.call(ae.context,I,R,Y),!0;case 5:return ae.fn.call(ae.context,I,R,Y,$),!0;case 6:return ae.fn.call(ae.context,I,R,Y,$,re),!0}for(de=1,he=new Array(ue-1);de<ue;de++)he[de-1]=arguments[de];ae.fn.apply(ae.context,he)}else{var Ee=ae.length,ye;for(de=0;de<Ee;de++)switch(ae[de].once&&this.removeListener(A,ae[de].fn,void 0,!0),ue){case 1:ae[de].fn.call(ae[de].context);break;case 2:ae[de].fn.call(ae[de].context,I);break;case 3:ae[de].fn.call(ae[de].context,I,R);break;case 4:ae[de].fn.call(ae[de].context,I,R,Y);break;default:if(!he)for(ye=1,he=new Array(ue-1);ye<ue;ye++)he[ye-1]=arguments[ye];ae[de].fn.apply(ae[de].context,he)}}return!0},s.prototype.on=function(A,I,R){return i(this,A,I,R,!1)},s.prototype.once=function(A,I,R){return i(this,A,I,R,!0)},s.prototype.removeListener=function(A,I,R,Y){var $=r?r+A:A;if(!this._events[$])return this;if(!I)return a(this,$),this;var re=this._events[$];if(re.fn)re.fn===I&&(!Y||re.once)&&(!R||re.context===R)&&a(this,$);else{for(var oe=0,ae=[],ue=re.length;oe<ue;oe++)(re[oe].fn!==I||Y&&!re[oe].once||R&&re[oe].context!==R)&&ae.push(re[oe]);ae.length?this._events[$]=ae.length===1?ae[0]:ae:a(this,$)}return this},s.prototype.removeAllListeners=function(A){var I;return A?(I=r?r+A:A,this._events[I]&&a(this,I)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Xs);var T0=Xs.exports,P0=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.Subscription=void 0;const C0=P0(T0);class R0{constructor(e){this.pollingInterval=e.pollingInterval,this.messageCallback=e.messageCallback,this.errorCallback=e.errorCallback,this.task=void 0,this.cancelled=!1,this.eventEmitter=new C0.default}startPolling(){this.eventEmitter.on("tick",async()=>{await this.polling(),this.cancelled||(this.task=setTimeout(()=>this.eventEmitter.emit("tick"),this.pollingInterval))}),this.eventEmitter.emit("tick")}unsubscribe(){this.eventEmitter.removeAllListeners(),this.cancelled=!0,typeof this.task<"u"&&clearTimeout(this.task)}}En.Subscription=R0;var hr={},Ys={};(function(t){/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const e=It,r=BigInt(0),o=BigInt(1),p=BigInt(2),i=BigInt(3),a=BigInt(8),s=Object.freeze({a:r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=s;const M=(U,C)=>(U+C/p)/C,A={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(U){const{n:C}=s,k=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),j=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),fe=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),le=k,pe=BigInt("0x100000000000000000000000000000000"),me=M(le*U,C),Be=M(-j*U,C);let ge=_(U-me*k-Be*fe,C),Pe=_(-me*j-Be*le,C);const Fe=ge>pe,Ie=Pe>pe;if(Fe&&(ge=C-ge),Ie&&(Pe=C-Pe),ge>pe||Pe>pe)throw new Error("splitScalarEndo: Endomorphism failed, k="+U);return{k1neg:Fe,k1:ge,k2neg:Ie,k2:Pe}}},I=32,R=32,Y=32,$=I+1,re=2*I+1;function oe(U){const{a:C,b:k}=s,j=_(U*U),fe=_(j*U);return _(fe+C*U+k)}const ae=s.a===r;class ue extends Error{constructor(C){super(C)}}function he(U){if(!(U instanceof de))throw new TypeError("JacobianPoint expected")}class de{constructor(C,k,j){this.x=C,this.y=k,this.z=j}static fromAffine(C){if(!(C instanceof T))throw new TypeError("JacobianPoint#fromAffine: expected Point");return C.equals(T.ZERO)?de.ZERO:new de(C.x,C.y,o)}static toAffineBatch(C){const k=qe(C.map(j=>j.z));return C.map((j,fe)=>j.toAffine(k[fe]))}static normalizeZ(C){return de.toAffineBatch(C).map(de.fromAffine)}equals(C){he(C);const{x:k,y:j,z:fe}=this,{x:le,y:pe,z:me}=C,Be=_(fe*fe),ge=_(me*me),Pe=_(k*ge),Fe=_(le*Be),Ie=_(_(j*me)*ge),$e=_(_(pe*fe)*Be);return Pe===Fe&&Ie===$e}negate(){return new de(this.x,_(-this.y),this.z)}double(){const{x:C,y:k,z:j}=this,fe=_(C*C),le=_(k*k),pe=_(le*le),me=C+le,Be=_(p*(_(me*me)-fe-pe)),ge=_(i*fe),Pe=_(ge*ge),Fe=_(Pe-p*Be),Ie=_(ge*(Be-Fe)-a*pe),$e=_(p*k*j);return new de(Fe,Ie,$e)}add(C){he(C);const{x:k,y:j,z:fe}=this,{x:le,y:pe,z:me}=C;if(le===r||pe===r)return this;if(k===r||j===r)return C;const Be=_(fe*fe),ge=_(me*me),Pe=_(k*ge),Fe=_(le*Be),Ie=_(_(j*me)*ge),$e=_(_(pe*fe)*Be),He=_(Fe-Pe),Ue=_($e-Ie);if(He===r)return Ue===r?this.double():de.ZERO;const Je=_(He*He),Ke=_(He*Je),Ze=_(Pe*Je),mt=_(Ue*Ue-Ke-p*Ze),Mt=_(Ue*(Ze-mt)-Ie*Ke),bt=_(fe*me*He);return new de(mt,Mt,bt)}subtract(C){return this.add(C.negate())}multiplyUnsafe(C){const k=de.ZERO;if(typeof C=="bigint"&&C===r)return k;let j=v(C);if(j===o)return this;if(!ae){let Fe=k,Ie=this;for(;j>r;)j&o&&(Fe=Fe.add(Ie)),Ie=Ie.double(),j>>=o;return Fe}let{k1neg:fe,k1:le,k2neg:pe,k2:me}=A.splitScalar(j),Be=k,ge=k,Pe=this;for(;le>r||me>r;)le&o&&(Be=Be.add(Pe)),me&o&&(ge=ge.add(Pe)),Pe=Pe.double(),le>>=o,me>>=o;return fe&&(Be=Be.negate()),pe&&(ge=ge.negate()),ge=new de(_(ge.x*A.beta),ge.y,ge.z),Be.add(ge)}precomputeWindow(C){const k=ae?128/C+1:256/C+1,j=[];let fe=this,le=fe;for(let pe=0;pe<k;pe++){le=fe,j.push(le);for(let me=1;me<2**(C-1);me++)le=le.add(fe),j.push(le);fe=le.double()}return j}wNAF(C,k){!k&&this.equals(de.BASE)&&(k=T.BASE);const j=k&&k._WINDOW_SIZE||1;if(256%j)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let fe=k&&ye.get(k);fe||(fe=this.precomputeWindow(j),k&&j!==1&&(fe=de.normalizeZ(fe),ye.set(k,fe)));let le=de.ZERO,pe=de.BASE;const me=1+(ae?128/j:256/j),Be=2**(j-1),ge=BigInt(2**j-1),Pe=2**j,Fe=BigInt(j);for(let Ie=0;Ie<me;Ie++){const $e=Ie*Be;let He=Number(C&ge);C>>=Fe,He>Be&&(He-=Pe,C+=o);const Ue=$e,Je=$e+Math.abs(He)-1,Ke=Ie%2!==0,Ze=He<0;He===0?pe=pe.add(Ee(Ke,fe[Ue])):le=le.add(Ee(Ze,fe[Je]))}return{p:le,f:pe}}multiply(C,k){let j=v(C),fe,le;if(ae){const{k1neg:pe,k1:me,k2neg:Be,k2:ge}=A.splitScalar(j);let{p:Pe,f:Fe}=this.wNAF(me,k),{p:Ie,f:$e}=this.wNAF(ge,k);Pe=Ee(pe,Pe),Ie=Ee(Be,Ie),Ie=new de(_(Ie.x*A.beta),Ie.y,Ie.z),fe=Pe.add(Ie),le=Fe.add($e)}else{const{p:pe,f:me}=this.wNAF(j,k);fe=pe,le=me}return de.normalizeZ([fe,le])[0]}toAffine(C){const{x:k,y:j,z:fe}=this,le=this.equals(de.ZERO);C==null&&(C=le?a:Me(fe));const pe=C,me=_(pe*pe),Be=_(me*pe),ge=_(k*me),Pe=_(j*Be),Fe=_(fe*pe);if(le)return T.ZERO;if(Fe!==o)throw new Error("invZ was invalid");return new T(ge,Pe)}}de.BASE=new de(s.Gx,s.Gy,o),de.ZERO=new de(r,o,r);function Ee(U,C){const k=C.negate();return U?k:C}const ye=new WeakMap;class T{constructor(C,k){this.x=C,this.y=k}_setWindowSize(C){this._WINDOW_SIZE=C,ye.delete(this)}hasEvenY(){return this.y%p===r}static fromCompressedHex(C){const k=C.length===32,j=h(k?C:C.subarray(1));if(!Z(j))throw new Error("Point is not on curve");const fe=oe(j);let le=be(fe);const pe=(le&o)===o;k?pe&&(le=_(-le)):(C[0]&1)===1!==pe&&(le=_(-le));const me=new T(j,le);return me.assertValidity(),me}static fromUncompressedHex(C){const k=h(C.subarray(1,I+1)),j=h(C.subarray(I+1,I*2+1)),fe=new T(k,j);return fe.assertValidity(),fe}static fromHex(C){const k=g(C),j=k.length,fe=k[0];if(j===I)return this.fromCompressedHex(k);if(j===$&&(fe===2||fe===3))return this.fromCompressedHex(k);if(j===re&&fe===4)return this.fromUncompressedHex(k);throw new Error(`Point.fromHex: received invalid point. Expected 32-${$} compressed bytes or ${re} uncompressed bytes, not ${j}`)}static fromPrivateKey(C){return T.BASE.multiply(se(C))}static fromSignature(C,k,j){const{r:fe,s:le}=K(k);if(![0,1,2,3].includes(j))throw new Error("Cannot recover: invalid recovery bit");const pe=Te(g(C)),{n:me}=s,Be=j===2||j===3?fe+me:fe,ge=Me(Be,me),Pe=_(-pe*ge,me),Fe=_(le*ge,me),Ie=j&1?"03":"02",$e=T.fromHex(Ie+f(Be)),He=T.BASE.multiplyAndAddUnsafe($e,Pe,Fe);if(!He)throw new Error("Cannot recover signature: point at infinify");return He.assertValidity(),He}toRawBytes(C=!1){return w(this.toHex(C))}toHex(C=!1){const k=f(this.x);return C?`${this.hasEvenY()?"02":"03"}${k}`:`04${k}${f(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const C="Point is not on elliptic curve",{x:k,y:j}=this;if(!Z(k)||!Z(j))throw new Error(C);const fe=_(j*j),le=oe(k);if(_(fe-le)!==r)throw new Error(C)}equals(C){return this.x===C.x&&this.y===C.y}negate(){return new T(this.x,_(-this.y))}double(){return de.fromAffine(this).double().toAffine()}add(C){return de.fromAffine(this).add(de.fromAffine(C)).toAffine()}subtract(C){return this.add(C.negate())}multiply(C){return de.fromAffine(this).multiply(C,this).toAffine()}multiplyAndAddUnsafe(C,k,j){const fe=de.fromAffine(this),le=k===r||k===o||this!==T.BASE?fe.multiplyUnsafe(k):fe.multiply(k),pe=de.fromAffine(C).multiplyUnsafe(j),me=le.add(pe);return me.equals(de.ZERO)?void 0:me.toAffine()}}t.Point=T,T.BASE=new T(s.Gx,s.Gy),T.ZERO=new T(r,r);function L(U){return Number.parseInt(U[0],16)>=8?"00"+U:U}function ee(U){if(U.length<2||U[0]!==2)throw new Error(`Invalid signature integer tag: ${u(U)}`);const C=U[1],k=U.subarray(2,C+2);if(!C||k.length!==C)throw new Error("Invalid signature integer: wrong length");if(k[0]===0&&k[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:h(k),left:U.subarray(C+2)}}function H(U){if(U.length<2||U[0]!=48)throw new Error(`Invalid signature tag: ${u(U)}`);if(U[1]!==U.length-2)throw new Error("Invalid signature: incorrect length");const{data:C,left:k}=ee(U.subarray(2)),{data:j,left:fe}=ee(k);if(fe.length)throw new Error(`Invalid signature: left bytes after parsing: ${u(fe)}`);return{r:C,s:j}}class G{constructor(C,k){this.r=C,this.s=k,this.assertValidity()}static fromCompact(C){const k=C instanceof Uint8Array,j="Signature.fromCompact";if(typeof C!="string"&&!k)throw new TypeError(`${j}: Expected string or Uint8Array`);const fe=k?u(C):C;if(fe.length!==128)throw new Error(`${j}: Expected 64-byte hex`);return new G(x(fe.slice(0,64)),x(fe.slice(64,128)))}static fromDER(C){const k=C instanceof Uint8Array;if(typeof C!="string"&&!k)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:j,s:fe}=H(k?C:w(C));return new G(j,fe)}static fromHex(C){return this.fromDER(C)}assertValidity(){const{r:C,s:k}=this;if(!te(C))throw new Error("Invalid Signature: r must be 0 < r < n");if(!te(k))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const C=s.n>>o;return this.s>C}normalizeS(){return this.hasHighS()?new G(this.r,_(-this.s,s.n)):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){const C=L(m(this.s)),k=L(m(this.r)),j=C.length/2,fe=k.length/2,le=m(j),pe=m(fe);return`30${m(fe+j+4)}02${pe}${k}02${le}${C}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}t.Signature=G;function B(...U){if(!U.every(j=>j instanceof Uint8Array))throw new Error("Uint8Array list expected");if(U.length===1)return U[0];const C=U.reduce((j,fe)=>j+fe.length,0),k=new Uint8Array(C);for(let j=0,fe=0;j<U.length;j++){const le=U[j];k.set(le,fe),fe+=le.length}return k}const l=Array.from({length:256},(U,C)=>C.toString(16).padStart(2,"0"));function u(U){if(!(U instanceof Uint8Array))throw new Error("Expected Uint8Array");let C="";for(let k=0;k<U.length;k++)C+=l[U[k]];return C}const n=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function f(U){if(typeof U!="bigint")throw new Error("Expected bigint");if(!(r<=U&&U<n))throw new Error("Expected number 0 <= n < 2^256");return U.toString(16).padStart(64,"0")}function d(U){const C=w(f(U));if(C.length!==32)throw new Error("Error: expected 32 bytes");return C}function m(U){const C=U.toString(16);return C.length&1?`0${C}`:C}function x(U){if(typeof U!="string")throw new TypeError("hexToNumber: expected string, got "+typeof U);return BigInt(`0x${U}`)}function w(U){if(typeof U!="string")throw new TypeError("hexToBytes: expected string, got "+typeof U);if(U.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+U.length);const C=new Uint8Array(U.length/2);for(let k=0;k<C.length;k++){const j=k*2,fe=U.slice(j,j+2),le=Number.parseInt(fe,16);if(Number.isNaN(le)||le<0)throw new Error("Invalid byte sequence");C[k]=le}return C}function h(U){return x(u(U))}function g(U){return U instanceof Uint8Array?Uint8Array.from(U):w(U)}function v(U){if(typeof U=="number"&&Number.isSafeInteger(U)&&U>0)return BigInt(U);if(typeof U=="bigint"&&te(U))return U;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function _(U,C=s.P){const k=U%C;return k>=r?k:C+k}function V(U,C){const{P:k}=s;let j=U;for(;C-- >r;)j*=j,j%=k;return j}function be(U){const{P:C}=s,k=BigInt(6),j=BigInt(11),fe=BigInt(22),le=BigInt(23),pe=BigInt(44),me=BigInt(88),Be=U*U*U%C,ge=Be*Be*U%C,Pe=V(ge,i)*ge%C,Fe=V(Pe,i)*ge%C,Ie=V(Fe,p)*Be%C,$e=V(Ie,j)*Ie%C,He=V($e,fe)*$e%C,Ue=V(He,pe)*He%C,Je=V(Ue,me)*Ue%C,Ke=V(Je,pe)*He%C,Ze=V(Ke,i)*ge%C,mt=V(Ze,le)*$e%C,Mt=V(mt,k)*Be%C,bt=V(Mt,p);if(bt*bt%C!==U)throw new Error("Cannot find square root");return bt}function Me(U,C=s.P){if(U===r||C<=r)throw new Error(`invert: expected positive integers, got n=${U} mod=${C}`);let k=_(U,C),j=C,fe=r,le=o;for(;k!==r;){const me=j/k,Be=j%k,ge=fe-le*me;j=k,k=Be,fe=le,le=ge}if(j!==o)throw new Error("invert: does not exist");return _(fe,C)}function qe(U,C=s.P){const k=new Array(U.length),j=U.reduce((le,pe,me)=>pe===r?le:(k[me]=le,_(le*pe,C)),o),fe=Me(j,C);return U.reduceRight((le,pe,me)=>pe===r?le:(k[me]=_(le*k[me],C),_(le*pe,C)),fe),k}function Ne(U){const C=U.length*8-R*8,k=h(U);return C>0?k>>BigInt(C):k}function Te(U,C=!1){const k=Ne(U);if(C)return k;const{n:j}=s;return k>=j?k-j:k}let P,F;class q{constructor(C,k){if(this.hashLen=C,this.qByteLen=k,typeof C!="number"||C<2)throw new Error("hashLen must be a number");if(typeof k!="number"||k<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(C).fill(1),this.k=new Uint8Array(C).fill(0),this.counter=0}hmac(...C){return t.utils.hmacSha256(this.k,...C)}hmacSync(...C){return F(this.k,...C)}checkSync(){if(typeof F!="function")throw new ue("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(C=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),C),this.v=await this.hmac(this.v),C.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),C),this.v=await this.hmac(this.v))}reseedSync(C=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),C),this.v=this.hmacSync(this.v),C.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),C),this.v=this.hmacSync(this.v))}async generate(){this.incr();let C=0;const k=[];for(;C<this.qByteLen;){this.v=await this.hmac(this.v);const j=this.v.slice();k.push(j),C+=this.v.length}return B(...k)}generateSync(){this.checkSync(),this.incr();let C=0;const k=[];for(;C<this.qByteLen;){this.v=this.hmacSync(this.v);const j=this.v.slice();k.push(j),C+=this.v.length}return B(...k)}}function te(U){return r<U&&U<s.n}function Z(U){return r<U&&U<s.P}function J(U,C,k,j=!0){const{n:fe}=s,le=Te(U,!0);if(!te(le))return;const pe=Me(le,fe),me=T.BASE.multiply(le),Be=_(me.x,fe);if(Be===r)return;const ge=_(pe*_(C+k*Be,fe),fe);if(ge===r)return;let Pe=new G(Be,ge),Fe=(me.x===Pe.r?0:2)|Number(me.y&o);return j&&Pe.hasHighS()&&(Pe=Pe.normalizeS(),Fe^=1),{sig:Pe,recovery:Fe}}function se(U){let C;if(typeof U=="bigint")C=U;else if(typeof U=="number"&&Number.isSafeInteger(U)&&U>0)C=BigInt(U);else if(typeof U=="string"){if(U.length!==2*R)throw new Error("Expected 32 bytes of private key");C=x(U)}else if(U instanceof Uint8Array){if(U.length!==R)throw new Error("Expected 32 bytes of private key");C=h(U)}else throw new TypeError("Expected valid private key");if(!te(C))throw new Error("Expected private key: 0 < key < n");return C}function z(U){return U instanceof T?(U.assertValidity(),U):T.fromHex(U)}function K(U){if(U instanceof G)return U.assertValidity(),U;try{return G.fromDER(U)}catch{return G.fromCompact(U)}}function ie(U,C=!1){return T.fromPrivateKey(U).toRawBytes(C)}t.getPublicKey=ie;function ne(U,C,k,j=!1){return T.fromSignature(U,C,k).toRawBytes(j)}t.recoverPublicKey=ne;function ce(U){const C=U instanceof Uint8Array,k=typeof U=="string",j=(C||k)&&U.length;return C?j===$||j===re:k?j===$*2||j===re*2:U instanceof T}function we(U,C,k=!1){if(ce(U))throw new TypeError("getSharedSecret: first arg must be private key");if(!ce(C))throw new TypeError("getSharedSecret: second arg must be public key");const j=z(C);return j.assertValidity(),j.multiply(se(U)).toRawBytes(k)}t.getSharedSecret=we;function D(U){const C=U.length>I?U.slice(0,I):U;return h(C)}function S(U){const C=D(U),k=_(C,s.n);return O(k<r?C:k)}function O(U){return d(U)}function Q(U,C,k){if(U==null)throw new Error(`sign: expected valid message hash, not "${U}"`);const j=g(U),fe=se(C),le=[O(fe),S(j)];if(k!=null){k===!0&&(k=t.utils.randomBytes(I));const Be=g(k);if(Be.length!==I)throw new Error(`sign: Expected ${I} bytes of extra data`);le.push(Be)}const pe=B(...le),me=D(j);return{seed:pe,m:me,d:fe}}function y(U,C){const{sig:k,recovery:j}=U,{der:fe,recovered:le}=Object.assign({canonical:!0,der:!0},C),pe=fe?k.toDERRawBytes():k.toCompactRawBytes();return le?[pe,j]:pe}async function c(U,C,k={}){const{seed:j,m:fe,d:le}=Q(U,C,k.extraEntropy),pe=new q(Y,R);await pe.reseed(j);let me;for(;!(me=J(await pe.generate(),fe,le,k.canonical));)await pe.reseed();return y(me,k)}t.sign=c;function b(U,C,k={}){const{seed:j,m:fe,d:le}=Q(U,C,k.extraEntropy),pe=new q(Y,R);pe.reseedSync(j);let me;for(;!(me=J(pe.generateSync(),fe,le,k.canonical));)pe.reseedSync();return y(me,k)}t.signSync=b;const E={strict:!0};function N(U,C,k,j=E){let fe;try{fe=K(U),C=g(C)}catch{return!1}const{r:le,s:pe}=fe;if(j.strict&&fe.hasHighS())return!1;const me=Te(C);let Be;try{Be=z(k)}catch{return!1}const{n:ge}=s,Pe=Me(pe,ge),Fe=_(me*Pe,ge),Ie=_(le*Pe,ge),$e=T.BASE.multiplyAndAddUnsafe(Be,Fe,Ie);return $e?_($e.x,ge)===le:!1}t.verify=N;function W(U){return _(h(U),s.n)}class X{constructor(C,k){this.r=C,this.s=k,this.assertValidity()}static fromHex(C){const k=g(C);if(k.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${k.length}`);const j=h(k.subarray(0,32)),fe=h(k.subarray(32,64));return new X(j,fe)}assertValidity(){const{r:C,s:k}=this;if(!Z(C)||!te(k))throw new Error("Invalid signature")}toHex(){return f(this.r)+f(this.s)}toRawBytes(){return w(this.toHex())}}function ve(U){return T.fromPrivateKey(U).toRawX()}class _e{constructor(C,k,j=t.utils.randomBytes()){if(C==null)throw new TypeError(`sign: Expected valid message, not "${C}"`);this.m=g(C);const{x:fe,scalar:le}=this.getScalar(se(k));if(this.px=fe,this.d=le,this.rand=g(j),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(C){const k=T.fromPrivateKey(C),j=k.hasEvenY()?C:s.n-C;return{point:k,scalar:j,x:k.toRawX()}}initNonce(C,k){return d(C^h(k))}finalizeNonce(C){const k=_(h(C),s.n);if(k===r)throw new Error("sign: Creation of signature failed. k is zero");const{point:j,x:fe,scalar:le}=this.getScalar(k);return{R:j,rx:fe,k:le}}finalizeSig(C,k,j,fe){return new X(C.x,_(k+j*fe,s.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:C,d:k,px:j,rand:fe}=this,le=t.utils.taggedHash,pe=this.initNonce(k,await le(We.aux,fe)),{R:me,rx:Be,k:ge}=this.finalizeNonce(await le(We.nonce,pe,j,C)),Pe=W(await le(We.challenge,Be,j,C)),Fe=this.finalizeSig(me,ge,Pe,k);return await je(Fe,C,j)||this.error(),Fe}calcSync(){const{m:C,d:k,px:j,rand:fe}=this,le=t.utils.taggedHashSync,pe=this.initNonce(k,le(We.aux,fe)),{R:me,rx:Be,k:ge}=this.finalizeNonce(le(We.nonce,pe,j,C)),Pe=W(le(We.challenge,Be,j,C)),Fe=this.finalizeSig(me,ge,Pe,k);return Ge(Fe,C,j)||this.error(),Fe}}async function xe(U,C,k){return new _e(U,C,k).calc()}function Se(U,C,k){return new _e(U,C,k).calcSync()}function Ce(U,C,k){const j=U instanceof X,fe=j?U:X.fromHex(U);return j&&fe.assertValidity(),{...fe,m:g(C),P:z(k)}}function Oe(U,C,k,j){const fe=T.BASE.multiplyAndAddUnsafe(C,se(k),_(-j,s.n));return!(!fe||!fe.hasEvenY()||fe.x!==U)}async function je(U,C,k){try{const{r:j,s:fe,m:le,P:pe}=Ce(U,C,k),me=W(await t.utils.taggedHash(We.challenge,d(j),pe.toRawX(),le));return Oe(j,pe,fe,me)}catch{return!1}}function Ge(U,C,k){try{const{r:j,s:fe,m:le,P:pe}=Ce(U,C,k),me=W(t.utils.taggedHashSync(We.challenge,d(j),pe.toRawX(),le));return Oe(j,pe,fe,me)}catch(j){if(j instanceof ue)throw j;return!1}}t.schnorr={Signature:X,getPublicKey:ve,sign:xe,verify:je,signSync:Se,verifySync:Ge},T.BASE._setWindowSize(8);const Re={node:e,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},We={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Xe={};t.utils={bytesToHex:u,hexToBytes:w,concatBytes:B,mod:_,invert:Me,isValidPrivateKey(U){try{return se(U),!0}catch{return!1}},_bigintTo32Bytes:d,_normalizePrivateKey:se,hashToPrivateKey:U=>{U=g(U);const C=R+8;if(U.length<C||U.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const k=_(h(U),s.n-o)+o;return d(k)},randomBytes:(U=32)=>{if(Re.web)return Re.web.getRandomValues(new Uint8Array(U));if(Re.node){const{randomBytes:C}=Re.node;return Uint8Array.from(C(U))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(R+8)),precompute(U=8,C=T.BASE){const k=C===T.BASE?C:new T(C.x,C.y);return k._setWindowSize(U),k.multiply(i),k},sha256:async(...U)=>{if(Re.web){const C=await Re.web.subtle.digest("SHA-256",B(...U));return new Uint8Array(C)}else if(Re.node){const{createHash:C}=Re.node,k=C("sha256");return U.forEach(j=>k.update(j)),Uint8Array.from(k.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(U,...C)=>{if(Re.web){const k=await Re.web.subtle.importKey("raw",U,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),j=B(...C),fe=await Re.web.subtle.sign("HMAC",k,j);return new Uint8Array(fe)}else if(Re.node){const{createHmac:k}=Re.node,j=k("sha256",U);return C.forEach(fe=>j.update(fe)),Uint8Array.from(j.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(U,...C)=>{let k=Xe[U];if(k===void 0){const j=await t.utils.sha256(Uint8Array.from(U,fe=>fe.charCodeAt(0)));k=B(j,j),Xe[U]=k}return t.utils.sha256(k,...C)},taggedHashSync:(U,...C)=>{if(typeof P!="function")throw new ue("sha256Sync is undefined, you need to set it");let k=Xe[U];if(k===void 0){const j=P(Uint8Array.from(U,fe=>fe.charCodeAt(0)));k=B(j,j),Xe[U]=k}return P(k,...C)},_JacobianPoint:de},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get(){return P},set(U){P||(P=U)}},hmacSha256Sync:{configurable:!1,get(){return F},set(U){F||(F=U)}}})})(Ys);var Si;function O0(){if(Si)return hr;Si=1;var t=Ae&&Ae.__createBinding||(Object.create?function(I,R,Y,$){$===void 0&&($=Y);var re=Object.getOwnPropertyDescriptor(R,Y);(!re||("get"in re?!R.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return R[Y]}}),Object.defineProperty(I,$,re)}:function(I,R,Y,$){$===void 0&&($=Y),I[$]=R[Y]}),e=Ae&&Ae.__setModuleDefault||(Object.create?function(I,R){Object.defineProperty(I,"default",{enumerable:!0,value:R})}:function(I,R){I.default=R}),r=Ae&&Ae.__importStar||function(I){if(I&&I.__esModule)return I;var R={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&t(R,I,Y);return e(R,I),R};Object.defineProperty(hr,"__esModule",{value:!0}),hr.verifySignature=hr.sign=void 0;const o=Qn,p=Qr(),i=r(Ys),a=It,s=new o.ec("secp256k1");i.utils.sha256Sync=(...I)=>{const R=(0,a.createHash)("sha256");for(const Y of I)R.update(Y);return R.digest()},i.utils.hmacSha256Sync=(I,...R)=>{const Y=(0,a.createHmac)("sha256",Buffer.from(I));return R.forEach($=>Y.update($)),Uint8Array.from(Y.digest())};function M(I,R,Y){if((Y??"default")==="default"){const oe=s.keyFromPrivate(R).sign(I);return(0,p.encodeSignature)(oe)}else{const re=i.schnorr.signSync((0,p.hexToBinUnsafe)(I),(0,p.hexToBinUnsafe)(R));return(0,p.binToHex)(re)}}hr.sign=M;function A(I,R,Y,$){const re=$??"default";try{return re==="default"?s.keyFromPublic(R,"hex").verify(I,(0,p.signatureDecode)(s,Y)):i.schnorr.verifySync((0,p.hexToBinUnsafe)(Y),(0,p.hexToBinUnsafe)(I),(0,p.hexToBinUnsafe)(R))}catch{return!1}}return hr.verifySignature=A,hr}var Qs={},eo={exports:{}};(function(t){(function(e){var r,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,p=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",M=1e14,A=14,I=9007199254740991,R=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Y=1e7,$=1e9;function re(T){var L,ee,H,G=V.prototype={constructor:V,toString:null,valueOf:null},B=new V(1),l=20,u=4,n=-7,f=21,d=-1e7,m=1e7,x=!1,w=1,h=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},v="0123456789abcdefghijklmnopqrstuvwxyz",_=!0;function V(P,F){var q,te,Z,J,se,z,K,ie,ne=this;if(!(ne instanceof V))return new V(P,F);if(F==null){if(P&&P._isBigNumber===!0){ne.s=P.s,!P.c||P.e>m?ne.c=ne.e=null:P.e<d?ne.c=[ne.e=0]:(ne.e=P.e,ne.c=P.c.slice());return}if((z=typeof P=="number")&&P*0==0){if(ne.s=1/P<0?(P=-P,-1):1,P===~~P){for(J=0,se=P;se>=10;se/=10,J++);J>m?ne.c=ne.e=null:(ne.e=J,ne.c=[P]);return}ie=String(P)}else{if(!o.test(ie=String(P)))return H(ne,ie,z);ne.s=ie.charCodeAt(0)==45?(ie=ie.slice(1),-1):1}(J=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(se=ie.search(/e/i))>0?(J<0&&(J=se),J+=+ie.slice(se+1),ie=ie.substring(0,se)):J<0&&(J=ie.length)}else{if(he(F,2,v.length,"Base"),F==10&&_)return ne=new V(P),Ne(ne,l+ne.e+1,u);if(ie=String(P),z=typeof P=="number"){if(P*0!=0)return H(ne,ie,z,F);if(ne.s=1/P<0?(ie=ie.slice(1),-1):1,V.DEBUG&&ie.replace(/^0\.0*|\./,"").length>15)throw Error(s+P)}else ne.s=ie.charCodeAt(0)===45?(ie=ie.slice(1),-1):1;for(q=v.slice(0,F),J=se=0,K=ie.length;se<K;se++)if(q.indexOf(te=ie.charAt(se))<0){if(te=="."){if(se>J){J=K;continue}}else if(!Z&&(ie==ie.toUpperCase()&&(ie=ie.toLowerCase())||ie==ie.toLowerCase()&&(ie=ie.toUpperCase()))){Z=!0,se=-1,J=0;continue}return H(ne,String(P),z,F)}z=!1,ie=ee(ie,F,10,ne.s),(J=ie.indexOf("."))>-1?ie=ie.replace(".",""):J=ie.length}for(se=0;ie.charCodeAt(se)===48;se++);for(K=ie.length;ie.charCodeAt(--K)===48;);if(ie=ie.slice(se,++K)){if(K-=se,z&&V.DEBUG&&K>15&&(P>I||P!==i(P)))throw Error(s+ne.s*P);if((J=J-se-1)>m)ne.c=ne.e=null;else if(J<d)ne.c=[ne.e=0];else{if(ne.e=J,ne.c=[],se=(J+1)%A,J<0&&(se+=A),se<K){for(se&&ne.c.push(+ie.slice(0,se)),K-=A;se<K;)ne.c.push(+ie.slice(se,se+=A));se=A-(ie=ie.slice(se)).length}else se-=K;for(;se--;ie+="0");ne.c.push(+ie)}}else ne.c=[ne.e=0]}V.clone=re,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(P){var F,q;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(F="DECIMAL_PLACES")&&(q=P[F],he(q,0,$,F),l=q),P.hasOwnProperty(F="ROUNDING_MODE")&&(q=P[F],he(q,0,8,F),u=q),P.hasOwnProperty(F="EXPONENTIAL_AT")&&(q=P[F],q&&q.pop?(he(q[0],-$,0,F),he(q[1],0,$,F),n=q[0],f=q[1]):(he(q,-$,$,F),n=-(f=q<0?-q:q))),P.hasOwnProperty(F="RANGE"))if(q=P[F],q&&q.pop)he(q[0],-$,-1,F),he(q[1],1,$,F),d=q[0],m=q[1];else if(he(q,-$,$,F),q)d=-(m=q<0?-q:q);else throw Error(a+F+" cannot be zero: "+q);if(P.hasOwnProperty(F="CRYPTO"))if(q=P[F],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))x=q;else throw x=!q,Error(a+"crypto unavailable");else x=q;else throw Error(a+F+" not true or false: "+q);if(P.hasOwnProperty(F="MODULO_MODE")&&(q=P[F],he(q,0,9,F),w=q),P.hasOwnProperty(F="POW_PRECISION")&&(q=P[F],he(q,0,$,F),h=q),P.hasOwnProperty(F="FORMAT"))if(q=P[F],typeof q=="object")g=q;else throw Error(a+F+" not an object: "+q);if(P.hasOwnProperty(F="ALPHABET"))if(q=P[F],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))_=q.slice(0,10)=="0123456789",v=q;else throw Error(a+F+" invalid: "+q)}else throw Error(a+"Object expected: "+P);return{DECIMAL_PLACES:l,ROUNDING_MODE:u,EXPONENTIAL_AT:[n,f],RANGE:[d,m],CRYPTO:x,MODULO_MODE:w,POW_PRECISION:h,FORMAT:g,ALPHABET:v}},V.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!V.DEBUG)return!0;var F,q,te=P.c,Z=P.e,J=P.s;e:if({}.toString.call(te)=="[object Array]"){if((J===1||J===-1)&&Z>=-$&&Z<=$&&Z===i(Z)){if(te[0]===0){if(Z===0&&te.length===1)return!0;break e}if(F=(Z+1)%A,F<1&&(F+=A),String(te[0]).length==F){for(F=0;F<te.length;F++)if(q=te[F],q<0||q>=M||q!==i(q))break e;if(q!==0)return!0}}}else if(te===null&&Z===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+P)},V.maximum=V.max=function(){return Me(arguments,G.lt)},V.minimum=V.min=function(){return Me(arguments,G.gt)},V.random=function(){var P=9007199254740992,F=Math.random()*P&2097151?function(){return i(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var te,Z,J,se,z,K=0,ie=[],ne=new V(B);if(q==null?q=l:he(q,0,$),se=p(q/A),x)if(crypto.getRandomValues){for(te=crypto.getRandomValues(new Uint32Array(se*=2));K<se;)z=te[K]*131072+(te[K+1]>>>11),z>=9e15?(Z=crypto.getRandomValues(new Uint32Array(2)),te[K]=Z[0],te[K+1]=Z[1]):(ie.push(z%1e14),K+=2);K=se/2}else if(crypto.randomBytes){for(te=crypto.randomBytes(se*=7);K<se;)z=(te[K]&31)*281474976710656+te[K+1]*1099511627776+te[K+2]*4294967296+te[K+3]*16777216+(te[K+4]<<16)+(te[K+5]<<8)+te[K+6],z>=9e15?crypto.randomBytes(7).copy(te,K):(ie.push(z%1e14),K+=7);K=se/7}else throw x=!1,Error(a+"crypto unavailable");if(!x)for(;K<se;)z=F(),z<9e15&&(ie[K++]=z%1e14);for(se=ie[--K],q%=A,se&&q&&(z=R[A-q],ie[K]=i(se/z)*z);ie[K]===0;ie.pop(),K--);if(K<0)ie=[J=0];else{for(J=-1;ie[0]===0;ie.splice(0,1),J-=A);for(K=1,z=ie[0];z>=10;z/=10,K++);K<A&&(J-=A-K)}return ne.e=J,ne.c=ie,ne}}(),V.sum=function(){for(var P=1,F=arguments,q=new V(F[0]);P<F.length;)q=q.plus(F[P++]);return q},ee=function(){var P="0123456789";function F(q,te,Z,J){for(var se,z=[0],K,ie=0,ne=q.length;ie<ne;){for(K=z.length;K--;z[K]*=te);for(z[0]+=J.indexOf(q.charAt(ie++)),se=0;se<z.length;se++)z[se]>Z-1&&(z[se+1]==null&&(z[se+1]=0),z[se+1]+=z[se]/Z|0,z[se]%=Z)}return z.reverse()}return function(q,te,Z,J,se){var z,K,ie,ne,ce,we,D,S,O=q.indexOf("."),Q=l,y=u;for(O>=0&&(ne=h,h=0,q=q.replace(".",""),S=new V(te),we=S.pow(q.length-O),h=ne,S.c=F(ye(ae(we.c),we.e,"0"),10,Z,P),S.e=S.c.length),D=F(q,te,Z,se?(z=v,P):(z=P,v)),ie=ne=D.length;D[--ne]==0;D.pop());if(!D[0])return z.charAt(0);if(O<0?--ie:(we.c=D,we.e=ie,we.s=J,we=L(we,S,Q,y,Z),D=we.c,ce=we.r,ie=we.e),K=ie+Q+1,O=D[K],ne=Z/2,ce=ce||K<0||D[K+1]!=null,ce=y<4?(O!=null||ce)&&(y==0||y==(we.s<0?3:2)):O>ne||O==ne&&(y==4||ce||y==6&&D[K-1]&1||y==(we.s<0?8:7)),K<1||!D[0])q=ce?ye(z.charAt(1),-Q,z.charAt(0)):z.charAt(0);else{if(D.length=K,ce)for(--Z;++D[--K]>Z;)D[K]=0,K||(++ie,D=[1].concat(D));for(ne=D.length;!D[--ne];);for(O=0,q="";O<=ne;q+=z.charAt(D[O++]));q=ye(q,ie,z.charAt(0))}return q}}(),L=function(){function P(te,Z,J){var se,z,K,ie,ne=0,ce=te.length,we=Z%Y,D=Z/Y|0;for(te=te.slice();ce--;)K=te[ce]%Y,ie=te[ce]/Y|0,se=D*K+ie*we,z=we*K+se%Y*Y+ne,ne=(z/J|0)+(se/Y|0)+D*ie,te[ce]=z%J;return ne&&(te=[ne].concat(te)),te}function F(te,Z,J,se){var z,K;if(J!=se)K=J>se?1:-1;else for(z=K=0;z<J;z++)if(te[z]!=Z[z]){K=te[z]>Z[z]?1:-1;break}return K}function q(te,Z,J,se){for(var z=0;J--;)te[J]-=z,z=te[J]<Z[J]?1:0,te[J]=z*se+te[J]-Z[J];for(;!te[0]&&te.length>1;te.splice(0,1));}return function(te,Z,J,se,z){var K,ie,ne,ce,we,D,S,O,Q,y,c,b,E,N,W,X,ve,_e=te.s==Z.s?1:-1,xe=te.c,Se=Z.c;if(!xe||!xe[0]||!Se||!Se[0])return new V(!te.s||!Z.s||(xe?Se&&xe[0]==Se[0]:!Se)?NaN:xe&&xe[0]==0||!Se?_e*0:_e/0);for(O=new V(_e),Q=O.c=[],ie=te.e-Z.e,_e=J+ie+1,z||(z=M,ie=oe(te.e/A)-oe(Z.e/A),_e=_e/A|0),ne=0;Se[ne]==(xe[ne]||0);ne++);if(Se[ne]>(xe[ne]||0)&&ie--,_e<0)Q.push(1),ce=!0;else{for(N=xe.length,X=Se.length,ne=0,_e+=2,we=i(z/(Se[0]+1)),we>1&&(Se=P(Se,we,z),xe=P(xe,we,z),X=Se.length,N=xe.length),E=X,y=xe.slice(0,X),c=y.length;c<X;y[c++]=0);ve=Se.slice(),ve=[0].concat(ve),W=Se[0],Se[1]>=z/2&&W++;do{if(we=0,K=F(Se,y,X,c),K<0){if(b=y[0],X!=c&&(b=b*z+(y[1]||0)),we=i(b/W),we>1)for(we>=z&&(we=z-1),D=P(Se,we,z),S=D.length,c=y.length;F(D,y,S,c)==1;)we--,q(D,X<S?ve:Se,S,z),S=D.length,K=1;else we==0&&(K=we=1),D=Se.slice(),S=D.length;if(S<c&&(D=[0].concat(D)),q(y,D,c,z),c=y.length,K==-1)for(;F(Se,y,X,c)<1;)we++,q(y,X<c?ve:Se,c,z),c=y.length}else K===0&&(we++,y=[0]);Q[ne++]=we,y[0]?y[c++]=xe[E]||0:(y=[xe[E]],c=1)}while((E++<N||y[0]!=null)&&_e--);ce=y[0]!=null,Q[0]||Q.splice(0,1)}if(z==M){for(ne=1,_e=Q[0];_e>=10;_e/=10,ne++);Ne(O,J+(O.e=ne+ie*A-1)+1,se,ce)}else O.e=ie,O.r=+ce;return O}}();function be(P,F,q,te){var Z,J,se,z,K;if(q==null?q=u:he(q,0,8),!P.c)return P.toString();if(Z=P.c[0],se=P.e,F==null)K=ae(P.c),K=te==1||te==2&&(se<=n||se>=f)?Ee(K,se):ye(K,se,"0");else if(P=Ne(new V(P),F,q),J=P.e,K=ae(P.c),z=K.length,te==1||te==2&&(F<=J||J<=n)){for(;z<F;K+="0",z++);K=Ee(K,J)}else if(F-=se,K=ye(K,J,"0"),J+1>z){if(--F>0)for(K+=".";F--;K+="0");}else if(F+=J-z,F>0)for(J+1==z&&(K+=".");F--;K+="0");return P.s<0&&Z?"-"+K:K}function Me(P,F){for(var q,te=1,Z=new V(P[0]);te<P.length;te++)if(q=new V(P[te]),q.s)F.call(Z,q)&&(Z=q);else{Z=q;break}return Z}function qe(P,F,q){for(var te=1,Z=F.length;!F[--Z];F.pop());for(Z=F[0];Z>=10;Z/=10,te++);return(q=te+q*A-1)>m?P.c=P.e=null:q<d?P.c=[P.e=0]:(P.e=q,P.c=F),P}H=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,q=/^\.([^.]+)$/,te=/^-?(Infinity|NaN)$/,Z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,se,z,K){var ie,ne=z?se:se.replace(Z,"");if(te.test(ne))J.s=isNaN(ne)?null:ne<0?-1:1;else{if(!z&&(ne=ne.replace(P,function(ce,we,D){return ie=(D=D.toLowerCase())=="x"?16:D=="b"?2:8,!K||K==ie?we:ce}),K&&(ie=K,ne=ne.replace(F,"$1").replace(q,"0.$1")),se!=ne))return new V(ne,ie);if(V.DEBUG)throw Error(a+"Not a"+(K?" base "+K:"")+" number: "+se);J.s=null}J.c=J.e=null}}();function Ne(P,F,q,te){var Z,J,se,z,K,ie,ne,ce=P.c,we=R;if(ce){e:{for(Z=1,z=ce[0];z>=10;z/=10,Z++);if(J=F-Z,J<0)J+=A,se=F,K=ce[ie=0],ne=K/we[Z-se-1]%10|0;else if(ie=p((J+1)/A),ie>=ce.length)if(te){for(;ce.length<=ie;ce.push(0));K=ne=0,Z=1,J%=A,se=J-A+1}else break e;else{for(K=z=ce[ie],Z=1;z>=10;z/=10,Z++);J%=A,se=J-A+Z,ne=se<0?0:K/we[Z-se-1]%10|0}if(te=te||F<0||ce[ie+1]!=null||(se<0?K:K%we[Z-se-1]),te=q<4?(ne||te)&&(q==0||q==(P.s<0?3:2)):ne>5||ne==5&&(q==4||te||q==6&&(J>0?se>0?K/we[Z-se]:0:ce[ie-1])%10&1||q==(P.s<0?8:7)),F<1||!ce[0])return ce.length=0,te?(F-=P.e+1,ce[0]=we[(A-F%A)%A],P.e=-F||0):ce[0]=P.e=0,P;if(J==0?(ce.length=ie,z=1,ie--):(ce.length=ie+1,z=we[A-J],ce[ie]=se>0?i(K/we[Z-se]%we[se])*z:0),te)for(;;)if(ie==0){for(J=1,se=ce[0];se>=10;se/=10,J++);for(se=ce[0]+=z,z=1;se>=10;se/=10,z++);J!=z&&(P.e++,ce[0]==M&&(ce[0]=1));break}else{if(ce[ie]+=z,ce[ie]!=M)break;ce[ie--]=0,z=1}for(J=ce.length;ce[--J]===0;ce.pop());}P.e>m?P.c=P.e=null:P.e<d&&(P.c=[P.e=0])}return P}function Te(P){var F,q=P.e;return q===null?P.toString():(F=ae(P.c),F=q<=n||q>=f?Ee(F,q):ye(F,q,"0"),P.s<0?"-"+F:F)}return G.absoluteValue=G.abs=function(){var P=new V(this);return P.s<0&&(P.s=1),P},G.comparedTo=function(P,F){return ue(this,new V(P,F))},G.decimalPlaces=G.dp=function(P,F){var q,te,Z,J=this;if(P!=null)return he(P,0,$),F==null?F=u:he(F,0,8),Ne(new V(J),P+J.e+1,F);if(!(q=J.c))return null;if(te=((Z=q.length-1)-oe(this.e/A))*A,Z=q[Z])for(;Z%10==0;Z/=10,te--);return te<0&&(te=0),te},G.dividedBy=G.div=function(P,F){return L(this,new V(P,F),l,u)},G.dividedToIntegerBy=G.idiv=function(P,F){return L(this,new V(P,F),0,1)},G.exponentiatedBy=G.pow=function(P,F){var q,te,Z,J,se,z,K,ie,ne,ce=this;if(P=new V(P),P.c&&!P.isInteger())throw Error(a+"Exponent not an integer: "+Te(P));if(F!=null&&(F=new V(F)),z=P.e>14,!ce.c||!ce.c[0]||ce.c[0]==1&&!ce.e&&ce.c.length==1||!P.c||!P.c[0])return ne=new V(Math.pow(+Te(ce),z?P.s*(2-de(P)):+Te(P))),F?ne.mod(F):ne;if(K=P.s<0,F){if(F.c?!F.c[0]:!F.s)return new V(NaN);te=!K&&ce.isInteger()&&F.isInteger(),te&&(ce=ce.mod(F))}else{if(P.e>9&&(ce.e>0||ce.e<-1||(ce.e==0?ce.c[0]>1||z&&ce.c[1]>=24e7:ce.c[0]<8e13||z&&ce.c[0]<=9999975e7)))return J=ce.s<0&&de(P)?-0:0,ce.e>-1&&(J=1/J),new V(K?1/J:J);h&&(J=p(h/A+2))}for(z?(q=new V(.5),K&&(P.s=1),ie=de(P)):(Z=Math.abs(+Te(P)),ie=Z%2),ne=new V(B);;){if(ie){if(ne=ne.times(ce),!ne.c)break;J?ne.c.length>J&&(ne.c.length=J):te&&(ne=ne.mod(F))}if(Z){if(Z=i(Z/2),Z===0)break;ie=Z%2}else if(P=P.times(q),Ne(P,P.e+1,1),P.e>14)ie=de(P);else{if(Z=+Te(P),Z===0)break;ie=Z%2}ce=ce.times(ce),J?ce.c&&ce.c.length>J&&(ce.c.length=J):te&&(ce=ce.mod(F))}return te?ne:(K&&(ne=B.div(ne)),F?ne.mod(F):J?Ne(ne,h,u,se):ne)},G.integerValue=function(P){var F=new V(this);return P==null?P=u:he(P,0,8),Ne(F,F.e+1,P)},G.isEqualTo=G.eq=function(P,F){return ue(this,new V(P,F))===0},G.isFinite=function(){return!!this.c},G.isGreaterThan=G.gt=function(P,F){return ue(this,new V(P,F))>0},G.isGreaterThanOrEqualTo=G.gte=function(P,F){return(F=ue(this,new V(P,F)))===1||F===0},G.isInteger=function(){return!!this.c&&oe(this.e/A)>this.c.length-2},G.isLessThan=G.lt=function(P,F){return ue(this,new V(P,F))<0},G.isLessThanOrEqualTo=G.lte=function(P,F){return(F=ue(this,new V(P,F)))===-1||F===0},G.isNaN=function(){return!this.s},G.isNegative=function(){return this.s<0},G.isPositive=function(){return this.s>0},G.isZero=function(){return!!this.c&&this.c[0]==0},G.minus=function(P,F){var q,te,Z,J,se=this,z=se.s;if(P=new V(P,F),F=P.s,!z||!F)return new V(NaN);if(z!=F)return P.s=-F,se.plus(P);var K=se.e/A,ie=P.e/A,ne=se.c,ce=P.c;if(!K||!ie){if(!ne||!ce)return ne?(P.s=-F,P):new V(ce?se:NaN);if(!ne[0]||!ce[0])return ce[0]?(P.s=-F,P):new V(ne[0]?se:u==3?-0:0)}if(K=oe(K),ie=oe(ie),ne=ne.slice(),z=K-ie){for((J=z<0)?(z=-z,Z=ne):(ie=K,Z=ce),Z.reverse(),F=z;F--;Z.push(0));Z.reverse()}else for(te=(J=(z=ne.length)<(F=ce.length))?z:F,z=F=0;F<te;F++)if(ne[F]!=ce[F]){J=ne[F]<ce[F];break}if(J&&(Z=ne,ne=ce,ce=Z,P.s=-P.s),F=(te=ce.length)-(q=ne.length),F>0)for(;F--;ne[q++]=0);for(F=M-1;te>z;){if(ne[--te]<ce[te]){for(q=te;q&&!ne[--q];ne[q]=F);--ne[q],ne[te]+=M}ne[te]-=ce[te]}for(;ne[0]==0;ne.splice(0,1),--ie);return ne[0]?qe(P,ne,ie):(P.s=u==3?-1:1,P.c=[P.e=0],P)},G.modulo=G.mod=function(P,F){var q,te,Z=this;return P=new V(P,F),!Z.c||!P.s||P.c&&!P.c[0]?new V(NaN):!P.c||Z.c&&!Z.c[0]?new V(Z):(w==9?(te=P.s,P.s=1,q=L(Z,P,0,3),P.s=te,q.s*=te):q=L(Z,P,0,w),P=Z.minus(q.times(P)),!P.c[0]&&w==1&&(P.s=Z.s),P)},G.multipliedBy=G.times=function(P,F){var q,te,Z,J,se,z,K,ie,ne,ce,we,D,S,O,Q,y=this,c=y.c,b=(P=new V(P,F)).c;if(!c||!b||!c[0]||!b[0])return!y.s||!P.s||c&&!c[0]&&!b||b&&!b[0]&&!c?P.c=P.e=P.s=null:(P.s*=y.s,!c||!b?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(te=oe(y.e/A)+oe(P.e/A),P.s*=y.s,K=c.length,ce=b.length,K<ce&&(S=c,c=b,b=S,Z=K,K=ce,ce=Z),Z=K+ce,S=[];Z--;S.push(0));for(O=M,Q=Y,Z=ce;--Z>=0;){for(q=0,we=b[Z]%Q,D=b[Z]/Q|0,se=K,J=Z+se;J>Z;)ie=c[--se]%Q,ne=c[se]/Q|0,z=D*ie+ne*we,ie=we*ie+z%Q*Q+S[J]+q,q=(ie/O|0)+(z/Q|0)+D*ne,S[J--]=ie%O;S[J]=q}return q?++te:S.splice(0,1),qe(P,S,te)},G.negated=function(){var P=new V(this);return P.s=-P.s||null,P},G.plus=function(P,F){var q,te=this,Z=te.s;if(P=new V(P,F),F=P.s,!Z||!F)return new V(NaN);if(Z!=F)return P.s=-F,te.minus(P);var J=te.e/A,se=P.e/A,z=te.c,K=P.c;if(!J||!se){if(!z||!K)return new V(Z/0);if(!z[0]||!K[0])return K[0]?P:new V(z[0]?te:Z*0)}if(J=oe(J),se=oe(se),z=z.slice(),Z=J-se){for(Z>0?(se=J,q=K):(Z=-Z,q=z),q.reverse();Z--;q.push(0));q.reverse()}for(Z=z.length,F=K.length,Z-F<0&&(q=K,K=z,z=q,F=Z),Z=0;F;)Z=(z[--F]=z[F]+K[F]+Z)/M|0,z[F]=M===z[F]?0:z[F]%M;return Z&&(z=[Z].concat(z),++se),qe(P,z,se)},G.precision=G.sd=function(P,F){var q,te,Z,J=this;if(P!=null&&P!==!!P)return he(P,1,$),F==null?F=u:he(F,0,8),Ne(new V(J),P,F);if(!(q=J.c))return null;if(Z=q.length-1,te=Z*A+1,Z=q[Z]){for(;Z%10==0;Z/=10,te--);for(Z=q[0];Z>=10;Z/=10,te++);}return P&&J.e+1>te&&(te=J.e+1),te},G.shiftedBy=function(P){return he(P,-I,I),this.times("1e"+P)},G.squareRoot=G.sqrt=function(){var P,F,q,te,Z,J=this,se=J.c,z=J.s,K=J.e,ie=l+4,ne=new V("0.5");if(z!==1||!se||!se[0])return new V(!z||z<0&&(!se||se[0])?NaN:se?J:1/0);if(z=Math.sqrt(+Te(J)),z==0||z==1/0?(F=ae(se),(F.length+K)%2==0&&(F+="0"),z=Math.sqrt(+F),K=oe((K+1)/2)-(K<0||K%2),z==1/0?F="5e"+K:(F=z.toExponential(),F=F.slice(0,F.indexOf("e")+1)+K),q=new V(F)):q=new V(z+""),q.c[0]){for(K=q.e,z=K+ie,z<3&&(z=0);;)if(Z=q,q=ne.times(Z.plus(L(J,Z,ie,1))),ae(Z.c).slice(0,z)===(F=ae(q.c)).slice(0,z))if(q.e<K&&--z,F=F.slice(z-3,z+1),F=="9999"||!te&&F=="4999"){if(!te&&(Ne(Z,Z.e+l+2,0),Z.times(Z).eq(J))){q=Z;break}ie+=4,z+=4,te=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(Ne(q,q.e+l+2,1),P=!q.times(q).eq(J));break}}return Ne(q,q.e+l+1,u,P)},G.toExponential=function(P,F){return P!=null&&(he(P,0,$),P++),be(this,P,F,1)},G.toFixed=function(P,F){return P!=null&&(he(P,0,$),P=P+this.e+1),be(this,P,F)},G.toFormat=function(P,F,q){var te,Z=this;if(q==null)P!=null&&F&&typeof F=="object"?(q=F,F=null):P&&typeof P=="object"?(q=P,P=F=null):q=g;else if(typeof q!="object")throw Error(a+"Argument not an object: "+q);if(te=Z.toFixed(P,F),Z.c){var J,se=te.split("."),z=+q.groupSize,K=+q.secondaryGroupSize,ie=q.groupSeparator||"",ne=se[0],ce=se[1],we=Z.s<0,D=we?ne.slice(1):ne,S=D.length;if(K&&(J=z,z=K,K=J,S-=J),z>0&&S>0){for(J=S%z||z,ne=D.substr(0,J);J<S;J+=z)ne+=ie+D.substr(J,z);K>0&&(ne+=ie+D.slice(J)),we&&(ne="-"+ne)}te=ce?ne+(q.decimalSeparator||"")+((K=+q.fractionGroupSize)?ce.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):ce):ne}return(q.prefix||"")+te+(q.suffix||"")},G.toFraction=function(P){var F,q,te,Z,J,se,z,K,ie,ne,ce,we,D=this,S=D.c;if(P!=null&&(z=new V(P),!z.isInteger()&&(z.c||z.s!==1)||z.lt(B)))throw Error(a+"Argument "+(z.isInteger()?"out of range: ":"not an integer: ")+Te(z));if(!S)return new V(D);for(F=new V(B),ie=q=new V(B),te=K=new V(B),we=ae(S),J=F.e=we.length-D.e-1,F.c[0]=R[(se=J%A)<0?A+se:se],P=!P||z.comparedTo(F)>0?J>0?F:ie:z,se=m,m=1/0,z=new V(we),K.c[0]=0;ne=L(z,F,0,1),Z=q.plus(ne.times(te)),Z.comparedTo(P)!=1;)q=te,te=Z,ie=K.plus(ne.times(Z=ie)),K=Z,F=z.minus(ne.times(Z=F)),z=Z;return Z=L(P.minus(q),te,0,1),K=K.plus(Z.times(ie)),q=q.plus(Z.times(te)),K.s=ie.s=D.s,J=J*2,ce=L(ie,te,J,u).minus(D).abs().comparedTo(L(K,q,J,u).minus(D).abs())<1?[ie,te]:[K,q],m=se,ce},G.toNumber=function(){return+Te(this)},G.toPrecision=function(P,F){return P!=null&&he(P,1,$),be(this,P,F,2)},G.toString=function(P){var F,q=this,te=q.s,Z=q.e;return Z===null?te?(F="Infinity",te<0&&(F="-"+F)):F="NaN":(P==null?F=Z<=n||Z>=f?Ee(ae(q.c),Z):ye(ae(q.c),Z,"0"):P===10&&_?(q=Ne(new V(q),l+Z+1,u),F=ye(ae(q.c),q.e,"0")):(he(P,2,v.length,"Base"),F=ee(ye(ae(q.c),Z,"0"),10,P,te,!0)),te<0&&q.c[0]&&(F="-"+F)),F},G.valueOf=G.toJSON=function(){return Te(this)},G._isBigNumber=!0,T!=null&&V.set(T),V}function oe(T){var L=T|0;return T>0||T===L?L:L-1}function ae(T){for(var L,ee,H=1,G=T.length,B=T[0]+"";H<G;){for(L=T[H++]+"",ee=A-L.length;ee--;L="0"+L);B+=L}for(G=B.length;B.charCodeAt(--G)===48;);return B.slice(0,G+1||1)}function ue(T,L){var ee,H,G=T.c,B=L.c,l=T.s,u=L.s,n=T.e,f=L.e;if(!l||!u)return null;if(ee=G&&!G[0],H=B&&!B[0],ee||H)return ee?H?0:-u:l;if(l!=u)return l;if(ee=l<0,H=n==f,!G||!B)return H?0:!G^ee?1:-1;if(!H)return n>f^ee?1:-1;for(u=(n=G.length)<(f=B.length)?n:f,l=0;l<u;l++)if(G[l]!=B[l])return G[l]>B[l]^ee?1:-1;return n==f?0:n>f^ee?1:-1}function he(T,L,ee,H){if(T<L||T>ee||T!==i(T))throw Error(a+(H||"Argument")+(typeof T=="number"?T<L||T>ee?" out of range: ":" not an integer: ":" not a primitive number: ")+String(T))}function de(T){var L=T.c.length-1;return oe(T.e/A)==L&&T.c[L]%2!=0}function Ee(T,L){return(T.length>1?T.charAt(0)+"."+T.slice(1):T)+(L<0?"e":"e+")+L}function ye(T,L,ee){var H,G;if(L<0){for(G=ee+".";++L;G+=ee);T=G+T}else if(H=T.length,++L>H){for(G=ee,L-=H;--L;G+=ee);T+=G}else L<H&&(T=T.slice(0,L)+"."+T.slice(L));return T}r=re(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(Ae)})(eo);var N0=eo.exports;(function(t){var e=Ae&&Ae.__importDefault||function(oe){return oe&&oe.__esModule?oe:{default:oe}};Object.defineProperty(t,"__esModule",{value:!0}),t.number256ToBigint=t.convertAlphAmountWithDecimals=t.convertAmountWithDecimals=t.prettifyNumber=t.prettifyExactAmount=t.prettifyTokenAmount=t.prettifyAttoAlphAmount=t.prettifyNumberConfig=t.isNumeric=void 0;const r=e(N0),o=oe=>!isNaN(parseFloat(oe))&&isFinite(oe);t.isNumeric=o,t.prettifyNumberConfig={ALPH:{minDecimalPlaces:2,maxDecimalPlaces:10,minDecimalSignificantDigits:2,decimalPlacesWhenZero:2},TOKEN:{minDecimalPlaces:4,maxDecimalPlaces:16,minDecimalSignificantDigits:2,decimalPlacesWhenZero:1},Exact:{minDecimalPlaces:18,maxDecimalPlaces:18,minDecimalSignificantDigits:0,decimalPlacesWhenZero:0}};function p(oe){return s(oe,18,t.prettifyNumberConfig.ALPH)}t.prettifyAttoAlphAmount=p;function i(oe,ae){return s(oe,ae,t.prettifyNumberConfig.TOKEN)}t.prettifyTokenAmount=i;function a(oe,ae){return s(oe,ae,t.prettifyNumberConfig.Exact)}t.prettifyExactAmount=a;function s(oe,ae,ue){const he=R(re(oe),ae);if(!(0,t.isNumeric)(he))return;const de=new r.default(he);let Ee;if(de.gte(1))Ee=de.toFormat(ue.minDecimalPlaces);else{const ee=de.toFormat(ue.maxDecimalPlaces).split(".")[1],H=ee==null?void 0:ee.match(/^0+/),G=H&&H.length?H[0].length:0,B=Math.max(G+ue.minDecimalSignificantDigits,ue.minDecimalPlaces);Ee=de.toFormat(B)}let ye=Ee.replace(/0+$/,"");const T=1+Ee.indexOf(".")+ue.decimalPlacesWhenZero;return ye.length<T&&(ye=Ee.substring(0,T)),ye[ye.length-1]==="."&&(ye=ye.slice(0,-1)),ye}t.prettifyNumber=s;const M=BigInt(-1),A=BigInt(0),I="0000";function R(oe,ae){let ue="";oe<A&&(ue="-",oe*=M);let he=oe.toString();if(ae===0)return ue+he;for(;he.length<=ae;)he=I+he;const de=he.length-ae;for(he=he.substring(0,de)+"."+he.substring(de);he[0]==="0"&&he[1]!==".";)he=he.substring(1);for(;he[he.length-1]==="0"&&he[he.length-2]!==".";)he=he.substring(0,he.length-1);return ue+he}function Y(oe,ae){try{const ue=new r.default(oe).multipliedBy(Math.pow(10,ae));return BigInt(ue.toFormat(0,{groupSeparator:""}))}catch{return}}t.convertAmountWithDecimals=Y;function $(oe){return Y(oe,18)}t.convertAlphAmountWithDecimals=$;function re(oe){return typeof oe=="string"?BigInt(oe):oe}t.number256ToBigint=re})(Qs);var Ei;function pt(){return Ei||(Ei=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(o,p,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(p,i);(!s||("get"in s?!p.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return p[i]}}),Object.defineProperty(o,a,s)}:function(o,p,i,a){a===void 0&&(a=i),o[a]=p[i]}),r=Ae&&Ae.__exportStar||function(o,p){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(p,i)&&e(p,o,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(un,t),r(hn,t),r(Wr,t),r(ke,t),r(En,t),r(O0(),t),r(Qs,t)}(Cn)),Cn}var Ii;function li(){if(Ii)return Le;Ii=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.request=Le.forwardRequests=Le.typeLength=Le.fromApiVal=Le.fromApiArray=Le.fromApiVals=Le.toApiVal=Le.toApiArray=Le.toApiAddress=Le.toApiByteVec=Le.fromApiNumber256=Le.toApiNumber256Optional=Le.toApiNumber256=Le.toApiBoolean=Le.fromApiTokens=Le.fromApiToken=Le.toApiTokens=Le.toApiToken=void 0;const t=pt();t.assertType;function e(T){return{id:T.id,amount:a(T.amount)}}Le.toApiToken=e;function r(T){return T==null?void 0:T.map(e)}Le.toApiTokens=r;function o(T){return{id:T.id,amount:M(T.amount)}}Le.fromApiToken=o;function p(T){return T==null?void 0:T.map(o)}Le.fromApiTokens=p;function i(T){if(typeof T=="boolean")return T;throw new Error(`Invalid boolean value: ${T}`)}Le.toApiBoolean=i;function a(T){if(typeof T=="number"&&Number.isInteger(T)||typeof T=="bigint")return T.toString();if(typeof T=="string")return T;throw new Error(`Invalid 256 bit number: ${T}`)}Le.toApiNumber256=a;function s(T){return T===void 0?void 0:a(T)}Le.toApiNumber256Optional=s;function M(T){return BigInt(T)}Le.fromApiNumber256=M;function A(T){if(typeof T=="string"){try{const L=t.bs58.decode(T);if(L.length==33&&L[0]==3)return Buffer.from(L.slice(1)).toString("hex")}catch{return T}return T}else throw new Error(`Invalid string: ${T}`)}Le.toApiByteVec=A;function I(T){if(typeof T=="string")try{return t.bs58.decode(T),T}catch{throw new Error(`Invalid base58 string: ${T}`)}else throw new Error(`Invalid string: ${T}`)}Le.toApiAddress=I;function R(T,L){if(!Array.isArray(L))throw new Error(`Expected array, got ${L}`);const ee=T.lastIndexOf(";");if(ee==-1)throw new Error(`Invalid Val type: ${T}`);const H=T.slice(1,ee),G=parseInt(T.slice(ee+1,-1));if(L.length!=G)throw new Error(`Invalid val dimension: ${L}`);return{value:L.map(B=>Y(B,H)),type:"Array"}}Le.toApiArray=R;function Y(T,L){return L==="Bool"?{value:i(T),type:L}:L==="U256"||L==="I256"?{value:a(T),type:L}:L==="ByteVec"?{value:A(T),type:L}:L==="Address"?{value:I(T),type:L}:R(L,T)}Le.toApiVal=Y;function $(T,L,ee,H=!1){if(T.length===0)throw new Error("Not enough Vals");const G=T[`${L}`];if(ee==="Bool"&&G.type===ee)return[G.value,L+1];if((ee==="U256"||ee==="I256")&&G.type===ee)return[M(G.value),L+1];if((ee==="ByteVec"||ee==="Address")&&(G.type===ee||H))return[G.value,L+1];{const[B,l]=ue(ee),u=l.reduce((d,m)=>d*m),n=L+u,f=T.slice(L,n);if(f.length==u&&f.every(d=>d.type===B)){const d=f.map(m=>ae(m,B));return[he(d,l),n]}else throw new Error(`Invalid array Val type: ${f}, ${ee}`)}}function re(T,L,ee,H=!1){let G=0;const B={};return ee.forEach((l,u)=>{const n=L[`${u}`],[f,d]=$(T,G,l,H);G=d,B[`${n}`]=f}),B}Le.fromApiVals=re;function oe(T,L){let ee=0;const H=[];for(const G of L){const[B,l]=$(T,ee,G);H.push(B),ee=l}return H}Le.fromApiArray=oe;function ae(T,L){if(T.type==="Bool"&&T.type===L)return T.value;if((T.type==="U256"||T.type==="I256")&&T.type===L)return M(T.value);if((T.type==="ByteVec"||T.type==="Address")&&T.type===L)return T.value;throw new Error(`Invalid node.Val type: ${T}`)}Le.fromApiVal=ae;function ue(T){const L=T.lastIndexOf(";");if(L===-1)throw new Error(`Invalid Val type: ${T}`);const ee=T.slice(1,L),H=parseInt(T.slice(L+1,-1));if(ee[0]=="["){const[G,B]=ue(ee);return[G,(B.unshift(H),B)]}else return[ee,[H]]}function he(T,L){if(L.length==1)return T;{const ee=[],H=T.length/L[0],G=L.slice(1);for(let B=0;B<T.length;B+=H){const l=T.slice(B,B+H);ee.push(he(l,G))}return ee}}function de(T){if(T==="U256"||T==="I256"||T==="Bool"||T==="ByteVec"||T==="Address")return 1;const[,L]=ue(T);return L.reduce((ee,H)=>ee*H)}Le.typeLength=de;function Ee(T,L){for(const[ee,H]of Object.entries(T))for(const G of Object.keys(H))H[`${G}`]=async(...B)=>L({path:ee,method:G,params:B})}Le.forwardRequests=Ee;async function ye(T,L){const ee=T[`${L.path}`][`${L.method}`];return ee(...L.params)}return Le.request=ye,Le}var Dn={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function o(H){return H&&DataView.prototype.isPrototypeOf(H)}if(r.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(H){return H&&p.indexOf(Object.prototype.toString.call(H))>-1};function a(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(H))throw new TypeError("Invalid character in header field name");return H.toLowerCase()}function s(H){return typeof H!="string"&&(H=String(H)),H}function M(H){var G={next:function(){var B=H.shift();return{done:B===void 0,value:B}}};return r.iterable&&(G[Symbol.iterator]=function(){return G}),G}function A(H){this.map={},H instanceof A?H.forEach(function(G,B){this.append(B,G)},this):Array.isArray(H)?H.forEach(function(G){this.append(G[0],G[1])},this):H&&Object.getOwnPropertyNames(H).forEach(function(G){this.append(G,H[G])},this)}A.prototype.append=function(H,G){H=a(H),G=s(G);var B=this.map[H];this.map[H]=B?B+", "+G:G},A.prototype.delete=function(H){delete this.map[a(H)]},A.prototype.get=function(H){return H=a(H),this.has(H)?this.map[H]:null},A.prototype.has=function(H){return this.map.hasOwnProperty(a(H))},A.prototype.set=function(H,G){this.map[a(H)]=s(G)},A.prototype.forEach=function(H,G){for(var B in this.map)this.map.hasOwnProperty(B)&&H.call(G,this.map[B],B,this)},A.prototype.keys=function(){var H=[];return this.forEach(function(G,B){H.push(B)}),M(H)},A.prototype.values=function(){var H=[];return this.forEach(function(G){H.push(G)}),M(H)},A.prototype.entries=function(){var H=[];return this.forEach(function(G,B){H.push([B,G])}),M(H)},r.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function I(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0}function R(H){return new Promise(function(G,B){H.onload=function(){G(H.result)},H.onerror=function(){B(H.error)}})}function Y(H){var G=new FileReader,B=R(G);return G.readAsArrayBuffer(H),B}function $(H){var G=new FileReader,B=R(G);return G.readAsText(H),B}function re(H){for(var G=new Uint8Array(H),B=new Array(G.length),l=0;l<G.length;l++)B[l]=String.fromCharCode(G[l]);return B.join("")}function oe(H){if(H.slice)return H.slice(0);var G=new Uint8Array(H.byteLength);return G.set(new Uint8Array(H)),G.buffer}function ae(){return this.bodyUsed=!1,this._initBody=function(H){this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:r.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:r.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():r.arrayBuffer&&r.blob&&o(H)?(this._bodyArrayBuffer=oe(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||i(H))?this._bodyArrayBuffer=oe(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var H=I(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?I(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Y)}),this.text=function(){var H=I(this);if(H)return H;if(this._bodyBlob)return $(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(re(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(Ee)}),this.json=function(){return this.text().then(JSON.parse)},this}var ue=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function he(H){var G=H.toUpperCase();return ue.indexOf(G)>-1?G:H}function de(H,G){G=G||{};var B=G.body;if(H instanceof de){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,G.headers||(this.headers=new A(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!B&&H._bodyInit!=null&&(B=H._bodyInit,H.bodyUsed=!0)}else this.url=String(H);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new A(G.headers)),this.method=he(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}de.prototype.clone=function(){return new de(this,{body:this._bodyInit})};function Ee(H){var G=new FormData;return H.trim().split("&").forEach(function(B){if(B){var l=B.split("="),u=l.shift().replace(/\+/g," "),n=l.join("=").replace(/\+/g," ");G.append(decodeURIComponent(u),decodeURIComponent(n))}}),G}function ye(H){var G=new A,B=H.replace(/\r?\n[\t ]+/g," ");return B.split(/\r?\n/).forEach(function(l){var u=l.split(":"),n=u.shift().trim();if(n){var f=u.join(":").trim();G.append(n,f)}}),G}ae.call(de.prototype);function T(H,G){G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new A(G.headers),this.url=G.url||"",this._initBody(H)}ae.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},T.error=function(){var H=new T(null,{status:0,statusText:""});return H.type="error",H};var L=[301,302,303,307,308];T.redirect=function(H,G){if(L.indexOf(G)===-1)throw new RangeError("Invalid status code");return new T(null,{status:G,headers:{location:H}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(G,B){this.message=G,this.name=B;var l=Error(G);this.stack=l.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function ee(H,G){return new Promise(function(B,l){var u=new de(H,G);if(u.signal&&u.signal.aborted)return l(new e.DOMException("Aborted","AbortError"));var n=new XMLHttpRequest;function f(){n.abort()}n.onload=function(){var d={status:n.status,statusText:n.statusText,headers:ye(n.getAllResponseHeaders()||"")};d.url="responseURL"in n?n.responseURL:d.headers.get("X-Request-URL");var m="response"in n?n.response:n.responseText;B(new T(m,d))},n.onerror=function(){l(new TypeError("Network request failed"))},n.ontimeout=function(){l(new TypeError("Network request failed"))},n.onabort=function(){l(new e.DOMException("Aborted","AbortError"))},n.open(u.method,u.url,!0),u.credentials==="include"?n.withCredentials=!0:u.credentials==="omit"&&(n.withCredentials=!1),"responseType"in n&&r.blob&&(n.responseType="blob"),u.headers.forEach(function(d,m){n.setRequestHeader(m,d)}),u.signal&&(u.signal.addEventListener("abort",f),n.onreadystatechange=function(){n.readyState===4&&u.signal.removeEventListener("abort",f)}),n.send(typeof u._bodyInit>"u"?null:u._bodyInit)})}return ee.polyfill=!0,t.fetch||(t.fetch=ee,t.Headers=A,t.Request=de,t.Response=T),e.Headers=A,e.Request=de,e.Response=T,e.fetch=ee,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:Ae)})();var Ln={},Er={},F0;function Kt(){}Kt.prototype=Object.create(null);function Ye(){Ye.init.call(this)}Ye.EventEmitter=Ye;Ye.usingDomains=!1;Ye.prototype.domain=void 0;Ye.prototype._events=void 0;Ye.prototype._maxListeners=void 0;Ye.defaultMaxListeners=10;Ye.init=function(){this.domain=null,Ye.usingDomains&&F0.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new Kt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ye.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function to(t){return t._maxListeners===void 0?Ye.defaultMaxListeners:t._maxListeners}Ye.prototype.getMaxListeners=function(){return to(this)};function q0(t,e,r){if(e)t.call(r);else for(var o=t.length,p=Jr(t,o),i=0;i<o;++i)p[i].call(r)}function U0(t,e,r,o){if(e)t.call(r,o);else for(var p=t.length,i=Jr(t,p),a=0;a<p;++a)i[a].call(r,o)}function k0(t,e,r,o,p){if(e)t.call(r,o,p);else for(var i=t.length,a=Jr(t,i),s=0;s<i;++s)a[s].call(r,o,p)}function H0(t,e,r,o,p,i){if(e)t.call(r,o,p,i);else for(var a=t.length,s=Jr(t,a),M=0;M<a;++M)s[M].call(r,o,p,i)}function $0(t,e,r,o){if(e)t.apply(r,o);else for(var p=t.length,i=Jr(t,p),a=0;a<p;++a)i[a].apply(r,o)}Ye.prototype.emit=function(e){var r,o,p,i,a,s,M,A=e==="error";if(s=this._events,s)A=A&&s.error==null;else if(!A)return!1;if(M=this.domain,A){if(r=arguments[1],M)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=M,r.domainThrown=!1,M.emit("error",r);else{if(r instanceof Error)throw r;var I=new Error('Uncaught, unspecified "error" event. ('+r+")");throw I.context=r,I}return!1}if(o=s[e],!o)return!1;var R=typeof o=="function";switch(p=arguments.length,p){case 1:q0(o,R,this);break;case 2:U0(o,R,this,arguments[1]);break;case 3:k0(o,R,this,arguments[1],arguments[2]);break;case 4:H0(o,R,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(p-1),a=1;a<p;a++)i[a-1]=arguments[a];$0(o,R,this,i)}return!0};function ro(t,e,r,o){var p,i,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=t._events,i?(i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]):(i=t._events=new Kt,t._eventsCount=0),!a)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=o?[r,a]:[a,r]:o?a.unshift(r):a.push(r),!a.warned&&(p=to(t),p&&p>0&&a.length>p)){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,D0(s)}return t}function D0(t){typeof console.warn=="function"?console.warn(t):console.log(t)}Ye.prototype.addListener=function(e,r){return ro(this,e,r,!1)};Ye.prototype.on=Ye.prototype.addListener;Ye.prototype.prependListener=function(e,r){return ro(this,e,r,!0)};function no(t,e,r){var o=!1;function p(){t.removeListener(e,p),o||(o=!0,r.apply(t,arguments))}return p.listener=r,p}Ye.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,no(this,e,r)),this};Ye.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,no(this,e,r)),this};Ye.prototype.removeListener=function(e,r){var o,p,i,a,s;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(p=this._events,!p)return this;if(o=p[e],!o)return this;if(o===r||o.listener&&o.listener===r)--this._eventsCount===0?this._events=new Kt:(delete p[e],p.removeListener&&this.emit("removeListener",e,o.listener||r));else if(typeof o!="function"){for(i=-1,a=o.length;a-- >0;)if(o[a]===r||o[a].listener&&o[a].listener===r){s=o[a].listener,i=a;break}if(i<0)return this;if(o.length===1){if(o[0]=void 0,--this._eventsCount===0)return this._events=new Kt,this;delete p[e]}else L0(o,i);p.removeListener&&this.emit("removeListener",e,s||r)}return this};Ye.prototype.removeAllListeners=function(e){var r,o;if(o=this._events,!o)return this;if(!o.removeListener)return arguments.length===0?(this._events=new Kt,this._eventsCount=0):o[e]&&(--this._eventsCount===0?this._events=new Kt:delete o[e]),this;if(arguments.length===0){for(var p=Object.keys(o),i=0,a;i<p.length;++i)a=p[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=new Kt,this._eventsCount=0,this}if(r=o[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};Ye.prototype.listeners=function(e){var r,o,p=this._events;return p?(r=p[e],r?typeof r=="function"?o=[r.listener||r]:o=z0(r):o=[]):o=[],o};Ye.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):io.call(t,e)};Ye.prototype.listenerCount=io;function io(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}Ye.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function L0(t,e){for(var r=e,o=r+1,p=t.length;o<p;r+=1,o+=1)t[r]=t[o];t.pop()}function Jr(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function z0(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}const j0=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Ye,default:Ye},Symbol.toStringTag,{value:"Module"})),G0=Qi(j0);var W0=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.RateLimit=Er.Sema=void 0;const V0=W0(G0);function K0(t,e,r,o,p){for(let i=0;i<p;++i)r[i+o]=t[i+e],t[i+e]=void 0}function Z0(t){return t=t>>>0,t=t-1,t=t|t>>1,t=t|t>>2,t=t|t>>4,t=t|t>>8,t=t|t>>16,t+1}function Bi(t){return Z0(Math.min(Math.max(16,t),1073741824))}class Ti{constructor(e){this._capacity=Bi(e),this._length=0,this._front=0,this.arr=[]}push(e){const r=this._length;this.checkCapacity(r+1);const o=this._front+r&this._capacity-1;return this.arr[o]=e,this._length=r+1,r+1}pop(){const e=this._length;if(e===0)return;const r=this._front+e-1&this._capacity-1,o=this.arr[r];return this.arr[r]=void 0,this._length=e-1,o}shift(){const e=this._length;if(e===0)return;const r=this._front,o=this.arr[r];return this.arr[r]=void 0,this._front=r+1&this._capacity-1,this._length=e-1,o}get length(){return this._length}checkCapacity(e){this._capacity<e&&this.resizeTo(Bi(this._capacity*1.5+16))}resizeTo(e){const r=this._capacity;this._capacity=e;const o=this._front,p=this._length;if(o+p>r){const i=o+p&r-1;K0(this.arr,0,this.arr,r,i)}}}class J0 extends V0.default{}function Pi(t){return typeof t=="function"}function Ci(){return"1"}class so{constructor(e,{initFn:r=Ci,pauseFn:o,resumeFn:p,capacity:i=10}={}){if(Pi(o)!==Pi(p))throw new Error("pauseFn and resumeFn must be both set for pausing");this.nrTokens=e,this.free=new Ti(e),this.waiting=new Ti(i),this.releaseEmitter=new J0,this.noTokens=r===Ci,this.pauseFn=o,this.resumeFn=p,this.paused=!1,this.releaseEmitter.on("release",a=>{const s=this.waiting.shift();s?s.resolve(a):(this.resumeFn&&this.paused&&(this.paused=!1,this.resumeFn()),this.free.push(a))});for(let a=0;a<e;a++)this.free.push(r())}tryAcquire(){return this.free.pop()}async acquire(){let e=this.tryAcquire();return e!==void 0?e:new Promise((r,o)=>{this.pauseFn&&!this.paused&&(this.paused=!0,this.pauseFn()),this.waiting.push({resolve:r,reject:o})})}release(e){this.releaseEmitter.emit("release",this.noTokens?"1":e)}drain(){const e=new Array(this.nrTokens);for(let r=0;r<this.nrTokens;r++)e[r]=this.acquire();return Promise.all(e)}nrWaiting(){return this.waiting.length}}Er.Sema=so;function X0(t,{timeUnit:e=1e3,uniformDistribution:r=!1}={}){const o=new so(r?1:t),p=r?e/t:e;return async function(){await o.acquire(),setTimeout(()=>o.release(),p)}}Er.RateLimit=X0;var Ri;function Xr(){return Ri||(Ri=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THROTTLE_FETCH=t.DEFAULT_RATE_LIMIT=t.RETRY_LIMIT_WHEN_429=t.throttledFetch=t.retryFetch=t.convertHttpResponse=void 0;const e=pt(),r=Er;function o(a){if(a.error)throw new Error(`[API Error] - ${a.error.detail}`);return a.data}t.convertHttpResponse=o;async function p(...a){const s=async M=>{const A=await fetch(...a);if(A.status===429&&M<t.RETRY_LIMIT_WHEN_429){const I=M+1;return await(0,e.sleep)(I*500),await s(I)}else return A};return s(0)}t.retryFetch=p;function i(a){const s=(0,r.RateLimit)(a);return async(...A)=>(await s(),p(...A))}t.throttledFetch=i,t.RETRY_LIMIT_WHEN_429=3,t.DEFAULT_RATE_LIMIT=3,t.DEFAULT_THROTTLE_FETCH=i(t.DEFAULT_RATE_LIMIT)}(Ln)),Ln}var Oi;function oo(){return Oi||(Oi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.HttpClient=t.ContentType=void 0;const e=Xr();var r;(function(i){i.Json="application/json",i.FormData="multipart/form-data",i.UrlEncoded="application/x-www-form-urlencoded",i.Text="text/plain"})(r=t.ContentType||(t.ContentType={}));class o{constructor(a={}){this.baseUrl="../",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...s)=>fetch(...s),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=s=>{this.securityData=s},this.contentFormatters={[r.Json]:s=>s!==null&&(typeof s=="object"||typeof s=="string")?JSON.stringify(s):s,[r.Text]:s=>s!==null&&typeof s!="string"?JSON.stringify(s):s,[r.FormData]:s=>Object.keys(s||{}).reduce((M,A)=>{const I=s[A];return M.append(A,I instanceof Blob?I:typeof I=="object"&&I!==null?JSON.stringify(I):`${I}`),M},new FormData),[r.UrlEncoded]:s=>this.toQueryString(s)},this.createAbortSignal=s=>{if(this.abortControllers.has(s)){const A=this.abortControllers.get(s);return A?A.signal:void 0}const M=new AbortController;return this.abortControllers.set(s,M),M.signal},this.abortRequest=s=>{const M=this.abortControllers.get(s);M&&(M.abort(),this.abortControllers.delete(s))},this.request=async({body:s,secure:M,path:A,type:I,query:R,format:Y,baseUrl:$,cancelToken:re,...oe})=>{const ae=(typeof M=="boolean"?M:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},ue=this.mergeRequestParams(oe,ae),he=R&&this.toQueryString(R),de=this.contentFormatters[I||r.Json],Ee=Y||ue.format;return this.customFetch(`${$||this.baseUrl||""}${A}${he?`?${he}`:""}`,{...ue,headers:{...ue.headers||{},...I&&I!==r.FormData?{"Content-Type":I}:{}},signal:re?this.createAbortSignal(re):ue.signal,body:typeof s>"u"||s===null?null:de(s)}).then(async ye=>{const T=ye;T.data=null,T.error=null;const L=Ee?await ye[Ee]().then(ee=>(T.ok?T.data=ee:T.error=ee,T)).catch(ee=>(T.error=ee,T)):T;return re&&this.abortControllers.delete(re),L})},Object.assign(this,a)}encodeQueryParam(a,s){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof s=="number"?s:`${s}`)}`}addQueryParam(a,s){return this.encodeQueryParam(s,a[s])}addArrayQueryParam(a,s){return a[s].map(A=>this.encodeQueryParam(s,A)).join("&")}toQueryString(a){const s=a||{};return Object.keys(s).filter(A=>typeof s[A]<"u").map(A=>Array.isArray(s[A])?this.addArrayQueryParam(s,A):this.addQueryParam(s,A)).join("&")}addQueryParams(a){const s=this.toQueryString(a);return s?`?${s}`:""}mergeRequestParams(a,s){return{...this.baseApiParams,...a,...s||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...s&&s.headers||{}}}}}t.HttpClient=o;class p extends o{constructor(){super(...arguments),this.wallets={getWallets:(a={})=>this.request({path:"/wallets",method:"GET",format:"json",...a}).then(e.convertHttpResponse),putWallets:(a,s={})=>this.request({path:"/wallets",method:"PUT",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postWallets:(a,s={})=>this.request({path:"/wallets",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),getWalletsWalletName:(a,s={})=>this.request({path:`/wallets/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),deleteWalletsWalletName:(a,s,M={})=>this.request({path:`/wallets/${a}`,method:"DELETE",body:s,type:r.Json,...M}).then(e.convertHttpResponse),postWalletsWalletNameLock:(a,s={})=>this.request({path:`/wallets/${a}/lock`,method:"POST",...s}).then(e.convertHttpResponse),postWalletsWalletNameUnlock:(a,s,M={})=>this.request({path:`/wallets/${a}/unlock`,method:"POST",body:s,type:r.Json,...M}).then(e.convertHttpResponse),getWalletsWalletNameBalances:(a,s={})=>this.request({path:`/wallets/${a}/balances`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),postWalletsWalletNameRevealMnemonic:(a,s,M={})=>this.request({path:`/wallets/${a}/reveal-mnemonic`,method:"POST",body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),postWalletsWalletNameTransfer:(a,s,M={})=>this.request({path:`/wallets/${a}/transfer`,method:"POST",body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),postWalletsWalletNameSweepActiveAddress:(a,s,M={})=>this.request({path:`/wallets/${a}/sweep-active-address`,method:"POST",body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),postWalletsWalletNameSweepAllAddresses:(a,s,M={})=>this.request({path:`/wallets/${a}/sweep-all-addresses`,method:"POST",body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),postWalletsWalletNameSign:(a,s,M={})=>this.request({path:`/wallets/${a}/sign`,method:"POST",body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),getWalletsWalletNameAddresses:(a,s={})=>this.request({path:`/wallets/${a}/addresses`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getWalletsWalletNameAddressesAddress:(a,s,M={})=>this.request({path:`/wallets/${a}/addresses/${s}`,method:"GET",format:"json",...M}).then(e.convertHttpResponse),getWalletsWalletNameMinerAddresses:(a,s={})=>this.request({path:`/wallets/${a}/miner-addresses`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),postWalletsWalletNameDeriveNextAddress:(a,s,M={})=>this.request({path:`/wallets/${a}/derive-next-address`,method:"POST",query:s,format:"json",...M}).then(e.convertHttpResponse),postWalletsWalletNameDeriveNextMinerAddresses:(a,s={})=>this.request({path:`/wallets/${a}/derive-next-miner-addresses`,method:"POST",format:"json",...s}).then(e.convertHttpResponse),postWalletsWalletNameChangeActiveAddress:(a,s,M={})=>this.request({path:`/wallets/${a}/change-active-address`,method:"POST",body:s,type:r.Json,...M}).then(e.convertHttpResponse)},this.infos={getInfosNode:(a={})=>this.request({path:"/infos/node",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosVersion:(a={})=>this.request({path:"/infos/version",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosChainParams:(a={})=>this.request({path:"/infos/chain-params",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosSelfClique:(a={})=>this.request({path:"/infos/self-clique",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosInterCliquePeerInfo:(a={})=>this.request({path:"/infos/inter-clique-peer-info",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosDiscoveredNeighbors:(a={})=>this.request({path:"/infos/discovered-neighbors",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosMisbehaviors:(a={})=>this.request({path:"/infos/misbehaviors",method:"GET",format:"json",...a}).then(e.convertHttpResponse),postInfosMisbehaviors:(a,s={})=>this.request({path:"/infos/misbehaviors",method:"POST",body:a,type:r.Json,...s}).then(e.convertHttpResponse),getInfosUnreachable:(a={})=>this.request({path:"/infos/unreachable",method:"GET",format:"json",...a}).then(e.convertHttpResponse),postInfosDiscovery:(a,s={})=>this.request({path:"/infos/discovery",method:"POST",body:a,type:r.Json,...s}).then(e.convertHttpResponse),getInfosHistoryHashrate:(a,s={})=>this.request({path:"/infos/history-hashrate",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getInfosCurrentHashrate:(a,s={})=>this.request({path:"/infos/current-hashrate",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getInfosCurrentDifficulty:(a={})=>this.request({path:"/infos/current-difficulty",method:"GET",format:"json",...a}).then(e.convertHttpResponse)},this.blockflow={getBlockflowBlocks:(a,s={})=>this.request({path:"/blockflow/blocks",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlockflowBlocksWithEvents:(a,s={})=>this.request({path:"/blockflow/blocks-with-events",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlockflowBlocksBlockHash:(a,s={})=>this.request({path:`/blockflow/blocks/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getBlockflowBlocksWithEventsBlockHash:(a,s={})=>this.request({path:`/blockflow/blocks-with-events/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getBlockflowIsBlockInMainChain:(a,s={})=>this.request({path:"/blockflow/is-block-in-main-chain",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlockflowHashes:(a,s={})=>this.request({path:"/blockflow/hashes",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlockflowChainInfo:(a,s={})=>this.request({path:"/blockflow/chain-info",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlockflowHeadersBlockHash:(a,s={})=>this.request({path:`/blockflow/headers/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse)},this.addresses={getAddressesAddressBalance:(a,s={})=>this.request({path:`/addresses/${a}/balance`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressUtxos:(a,s={})=>this.request({path:`/addresses/${a}/utxos`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressGroup:(a,s={})=>this.request({path:`/addresses/${a}/group`,method:"GET",format:"json",...s}).then(e.convertHttpResponse)},this.transactions={postTransactionsBuild:(a,s={})=>this.request({path:"/transactions/build",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postTransactionsSweepAddressBuild:(a,s={})=>this.request({path:"/transactions/sweep-address/build",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postTransactionsSubmit:(a,s={})=>this.request({path:"/transactions/submit",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postTransactionsDecodeUnsignedTx:(a,s={})=>this.request({path:"/transactions/decode-unsigned-tx",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),getTransactionsDetailsTxid:(a,s,M={})=>this.request({path:`/transactions/details/${a}`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getTransactionsStatus:(a,s={})=>this.request({path:"/transactions/status",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse)},this.mempool={getMempoolTransactions:(a={})=>this.request({path:"/mempool/transactions",method:"GET",format:"json",...a}).then(e.convertHttpResponse),deleteMempoolTransactions:(a={})=>this.request({path:"/mempool/transactions",method:"DELETE",...a}).then(e.convertHttpResponse),putMempoolTransactionsRebroadcast:(a,s={})=>this.request({path:"/mempool/transactions/rebroadcast",method:"PUT",query:a,...s}).then(e.convertHttpResponse),putMempoolTransactionsValidate:(a={})=>this.request({path:"/mempool/transactions/validate",method:"PUT",...a}).then(e.convertHttpResponse)},this.contracts={postContractsCompileScript:(a,s={})=>this.request({path:"/contracts/compile-script",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsUnsignedTxExecuteScript:(a,s={})=>this.request({path:"/contracts/unsigned-tx/execute-script",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsCompileContract:(a,s={})=>this.request({path:"/contracts/compile-contract",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsCompileProject:(a,s={})=>this.request({path:"/contracts/compile-project",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsUnsignedTxDeployContract:(a,s={})=>this.request({path:"/contracts/unsigned-tx/deploy-contract",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),getContractsAddressState:(a,s,M={})=>this.request({path:`/contracts/${a}/state`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),postContractsTestContract:(a,s={})=>this.request({path:"/contracts/test-contract",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsCallContract:(a,s={})=>this.request({path:"/contracts/call-contract",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postContractsMulticallContract:(a,s={})=>this.request({path:"/contracts/multicall-contract",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse)},this.multisig={postMultisigAddress:(a,s={})=>this.request({path:"/multisig/address",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postMultisigBuild:(a,s={})=>this.request({path:"/multisig/build",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),postMultisigSubmit:(a,s={})=>this.request({path:"/multisig/submit",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse)},this.utils={postUtilsVerifySignature:(a,s={})=>this.request({path:"/utils/verify-signature",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),putUtilsCheckHashIndexing:(a={})=>this.request({path:"/utils/check-hash-indexing",method:"PUT",...a}).then(e.convertHttpResponse)},this.miners={postMinersCpuMining:(a,s={})=>this.request({path:"/miners/cpu-mining",method:"POST",query:a,format:"json",...s}).then(e.convertHttpResponse),postMinersCpuMiningMineOneBlock:(a,s={})=>this.request({path:"/miners/cpu-mining/mine-one-block",method:"POST",query:a,format:"json",...s}).then(e.convertHttpResponse),getMinersAddresses:(a={})=>this.request({path:"/miners/addresses",method:"GET",format:"json",...a}).then(e.convertHttpResponse),putMinersAddresses:(a,s={})=>this.request({path:"/miners/addresses",method:"PUT",body:a,type:r.Json,...s}).then(e.convertHttpResponse)},this.events={getEventsContractContractaddress:(a,s,M={})=>this.request({path:`/events/contract/${a}`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getEventsContractContractaddressCurrentCount:(a,s={})=>this.request({path:`/events/contract/${a}/current-count`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getEventsTxIdTxid:(a,s,M={})=>this.request({path:`/events/tx-id/${a}`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getEventsBlockHashBlockhash:(a,s,M={})=>this.request({path:`/events/block-hash/${a}`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse)}}}t.Api=p}(Dn)),Dn}var Ni;function Y0(){if(Ni)return Or;Ni=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.NodeProvider=void 0;const t=li(),e=oo(),r=Xr(),o=pt();function p(a,s,M){const A=new e.Api({baseUrl:a,baseApiParams:{secure:!0},securityWorker:I=>I!==null?{headers:{"X-API-KEY":`${I}`}}:{},customFetch:M??r.DEFAULT_THROTTLE_FETCH});return A.setSecurityData(s??null),A}class i{constructor(s,M,A){this.request=R=>(0,t.request)(this,R),this.fetchStdTokenMetaData=async R=>{const Y=(0,o.addressFromTokenId)(R),$=(0,o.groupOfAddress)(Y),re=Array.from([0,1,2,3],ae=>({methodIndex:ae,group:$,address:Y})),oe=await this.contracts.postContractsMulticallContract({calls:re});return{symbol:oe.results[0].returns[0].value,name:oe.results[1].returns[0].value,decimals:Number(oe.results[2].returns[0].value),totalSupply:BigInt(oe.results[3].returns[0].value)}},this.guessStdInterfaceId=async R=>{var ue;const Y=(0,o.addressFromTokenId)(R),$=(0,o.groupOfAddress)(Y),oe=(ue=(await this.contracts.getContractsAddressState((0,o.addressFromTokenId)(R),{group:$})).immFields.slice(-1).pop())==null?void 0:ue.value,ae="414c5048";if(typeof oe=="string"&&oe.startsWith(ae))return oe.slice(8)};let I;typeof s=="string"?I=p(s,M,A):typeof s=="function"?(I=new i("https://1.2.3.4:0"),(0,t.forwardRequests)(I,s)):I=s,this.wallets={...I.wallets},this.infos={...I.infos},this.blockflow={...I.blockflow},this.addresses={...I.addresses},this.transactions={...I.transactions},this.mempool={...I.mempool},this.contracts={...I.contracts},this.multisig={...I.multisig},this.utils={...I.utils},this.miners={...I.miners},this.events={...I.events}}static Proxy(s){return new i(s)}static Remote(s){return new i(s)}}return Or.NodeProvider=i,Or}var kr={},zn={},Fi;function ao(){return Fi||(Fi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.HttpClient=t.ContentType=t.IntervalType=void 0,function(i){i.Daily="daily",i.Hourly="hourly"}(t.IntervalType||(t.IntervalType={}));const e=Xr();var r;(function(i){i.Json="application/json",i.FormData="multipart/form-data",i.UrlEncoded="application/x-www-form-urlencoded",i.Text="text/plain"})(r=t.ContentType||(t.ContentType={}));class o{constructor(a={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...s)=>fetch(...s),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=s=>{this.securityData=s},this.contentFormatters={[r.Json]:s=>s!==null&&(typeof s=="object"||typeof s=="string")?JSON.stringify(s):s,[r.Text]:s=>s!==null&&typeof s!="string"?JSON.stringify(s):s,[r.FormData]:s=>Object.keys(s||{}).reduce((M,A)=>{const I=s[A];return M.append(A,I instanceof Blob?I:typeof I=="object"&&I!==null?JSON.stringify(I):`${I}`),M},new FormData),[r.UrlEncoded]:s=>this.toQueryString(s)},this.createAbortSignal=s=>{if(this.abortControllers.has(s)){const A=this.abortControllers.get(s);return A?A.signal:void 0}const M=new AbortController;return this.abortControllers.set(s,M),M.signal},this.abortRequest=s=>{const M=this.abortControllers.get(s);M&&(M.abort(),this.abortControllers.delete(s))},this.request=async({body:s,secure:M,path:A,type:I,query:R,format:Y,baseUrl:$,cancelToken:re,...oe})=>{const ae=(typeof M=="boolean"?M:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},ue=this.mergeRequestParams(oe,ae),he=R&&this.toQueryString(R),de=this.contentFormatters[I||r.Json],Ee=Y||ue.format;return this.customFetch(`${$||this.baseUrl||""}${A}${he?`?${he}`:""}`,{...ue,headers:{...ue.headers||{},...I&&I!==r.FormData?{"Content-Type":I}:{}},signal:re?this.createAbortSignal(re):ue.signal,body:typeof s>"u"||s===null?null:de(s)}).then(async ye=>{const T=ye;T.data=null,T.error=null;const L=Ee?await ye[Ee]().then(ee=>(T.ok?T.data=ee:T.error=ee,T)).catch(ee=>(T.error=ee,T)):T;return re&&this.abortControllers.delete(re),L})},Object.assign(this,a)}encodeQueryParam(a,s){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof s=="number"?s:`${s}`)}`}addQueryParam(a,s){return this.encodeQueryParam(s,a[s])}addArrayQueryParam(a,s){return a[s].map(A=>this.encodeQueryParam(s,A)).join("&")}toQueryString(a){const s=a||{};return Object.keys(s).filter(A=>typeof s[A]<"u").map(A=>Array.isArray(s[A])?this.addArrayQueryParam(s,A):this.addQueryParam(s,A)).join("&")}addQueryParams(a){const s=this.toQueryString(a);return s?`?${s}`:""}mergeRequestParams(a,s){return{...this.baseApiParams,...a,...s||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...s&&s.headers||{}}}}}t.HttpClient=o;class p extends o{constructor(){super(...arguments),this.blocks={getBlocks:(a,s={})=>this.request({path:"/blocks",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getBlocksBlockHash:(a,s={})=>this.request({path:`/blocks/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getBlocksBlockHashTransactions:(a,s,M={})=>this.request({path:`/blocks/${a}/transactions`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse)},this.transactions={getTransactionsTransactionHash:(a,s={})=>this.request({path:`/transactions/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse)},this.addresses={getAddressesAddress:(a,s={})=>this.request({path:`/addresses/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressTransactions:(a,s,M={})=>this.request({path:`/addresses/${a}/transactions`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),postAddressesTransactions:(a,s,M={})=>this.request({path:"/addresses/transactions",method:"POST",query:a,body:s,type:r.Json,format:"json",...M}).then(e.convertHttpResponse),getAddressesAddressTimerangedTransactions:(a,s,M={})=>this.request({path:`/addresses/${a}/timeranged-transactions`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getAddressesAddressTotalTransactions:(a,s={})=>this.request({path:`/addresses/${a}/total-transactions`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressMempoolTransactions:(a,s={})=>this.request({path:`/addresses/${a}/mempool/transactions`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressBalance:(a,s={})=>this.request({path:`/addresses/${a}/balance`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressTokens:(a,s,M={})=>this.request({path:`/addresses/${a}/tokens`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getAddressesAddressTokensTokenIdTransactions:(a,s,M,A={})=>this.request({path:`/addresses/${a}/tokens/${s}/transactions`,method:"GET",query:M,format:"json",...A}).then(e.convertHttpResponse),getAddressesAddressTokensTokenIdBalance:(a,s,M={})=>this.request({path:`/addresses/${a}/tokens/${s}/balance`,method:"GET",format:"json",...M}).then(e.convertHttpResponse),postAddressesUsed:(a,s={})=>this.request({path:"/addresses/used",method:"POST",body:a,type:r.Json,format:"json",...s}).then(e.convertHttpResponse),getAddressesAddressExportTransactionsCsv:(a,s,M={})=>this.request({path:`/addresses/${a}/export-transactions/csv`,method:"GET",query:s,format:"text",...M}).then(e.convertHttpResponse),getAddressesAddressAmountHistory:(a,s,M={})=>this.request({path:`/addresses/${a}/amount-history`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse)},this.infos={getInfos:(a={})=>this.request({path:"/infos",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosHeights:(a={})=>this.request({path:"/infos/heights",method:"GET",format:"json",...a}).then(e.convertHttpResponse),getInfosSupply:(a,s={})=>this.request({path:"/infos/supply",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getInfosSupplyTotalAlph:(a={})=>this.request({path:"/infos/supply/total-alph",method:"GET",format:"text",...a}).then(e.convertHttpResponse),getInfosSupplyCirculatingAlph:(a={})=>this.request({path:"/infos/supply/circulating-alph",method:"GET",format:"text",...a}).then(e.convertHttpResponse),getInfosSupplyReservedAlph:(a={})=>this.request({path:"/infos/supply/reserved-alph",method:"GET",format:"text",...a}).then(e.convertHttpResponse),getInfosSupplyLockedAlph:(a={})=>this.request({path:"/infos/supply/locked-alph",method:"GET",format:"text",...a}).then(e.convertHttpResponse),getInfosTotalTransactions:(a={})=>this.request({path:"/infos/total-transactions",method:"GET",format:"text",...a}).then(e.convertHttpResponse),getInfosAverageBlockTimes:(a={})=>this.request({path:"/infos/average-block-times",method:"GET",format:"json",...a}).then(e.convertHttpResponse)},this.mempool={getMempoolTransactions:(a,s={})=>this.request({path:"/mempool/transactions",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse)},this.tokens={getTokens:(a,s={})=>this.request({path:"/tokens",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getTokensTokenIdTransactions:(a,s,M={})=>this.request({path:`/tokens/${a}/transactions`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse)},this.charts={getChartsHashrates:(a,s={})=>this.request({path:"/charts/hashrates",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getChartsTransactionsCount:(a,s={})=>this.request({path:"/charts/transactions-count",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse),getChartsTransactionsCountPerChain:(a,s={})=>this.request({path:"/charts/transactions-count-per-chain",method:"GET",query:a,format:"json",...s}).then(e.convertHttpResponse)},this.contractEvents={getContractEventsTransactionIdTransactionId:(a,s={})=>this.request({path:`/contract-events/transaction-id/${a}`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getContractEventsContractAddressContractAddress:(a,s,M={})=>this.request({path:`/contract-events/contract-address/${a}`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse),getContractEventsContractAddressContractAddressInputAddressInputAddress:(a,s,M,A={})=>this.request({path:`/contract-events/contract-address/${a}/input-address/${s}`,method:"GET",query:M,format:"json",...A}).then(e.convertHttpResponse)},this.contracts={getContractsContractParent:(a,s={})=>this.request({path:`/contracts/${a}/parent`,method:"GET",format:"json",...s}).then(e.convertHttpResponse),getContractsContractSubContracts:(a,s,M={})=>this.request({path:`/contracts/${a}/sub-contracts`,method:"GET",query:s,format:"json",...M}).then(e.convertHttpResponse)},this.utils={putUtilsSanityCheck:(a={})=>this.request({path:"/utils/sanity-check",method:"PUT",...a}).then(e.convertHttpResponse),putUtilsUpdateGlobalLoglevel:(a,s={})=>this.request({path:"/utils/update-global-loglevel",method:"PUT",body:a,...s}).then(e.convertHttpResponse),putUtilsUpdateLogConfig:(a,s={})=>this.request({path:"/utils/update-log-config",method:"PUT",body:a,type:r.Json,...s}).then(e.convertHttpResponse)}}}t.Api=p}(zn)),zn}var qi;function Q0(){if(qi)return kr;qi=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.ExplorerProvider=void 0;const t=li(),e=ao(),r=Xr();function o(i,a,s){const M=new e.Api({baseUrl:i,baseApiParams:{secure:!0},securityWorker:A=>A!==null?{headers:{"X-API-KEY":`${A}`}}:{},customFetch:s??r.DEFAULT_THROTTLE_FETCH});return M.setSecurityData(a??null),M}class p{constructor(a,s,M){this.request=I=>(0,t.request)(this,I);let A;typeof a=="string"?A=o(a,s,M):typeof a=="function"?(A=new p("https://1.2.3.4:0"),(0,t.forwardRequests)(A,a)):A=a,this.blocks={...A.blocks},this.transactions={...A.transactions},this.addresses={...A.addresses},this.infos={...A.infos},this.mempool={...A.mempool},this.tokens={...A.tokens},this.charts={...A.charts},this.utils={...A.utils},this.contracts={...A.contracts},this.contractEvents={...A.contractEvents}}static Proxy(a){return new p(a)}static Remote(a){return new p(a)}}return kr.ExplorerProvider=p,kr}var Ui;function Yr(){return Ui||(Ui=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(i,a,s,M){M===void 0&&(M=s);var A=Object.getOwnPropertyDescriptor(a,s);(!A||("get"in A?!a.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,M,A)}:function(i,a,s,M){M===void 0&&(M=s),i[M]=a[s]}),r=Ae&&Ae.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),o=Ae&&Ae.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)},p=Ae&&Ae.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&e(a,i,s);return r(a,i),a};Object.defineProperty(t,"__esModule",{value:!0}),t.explorer=t.node=void 0,o(Y0(),t),o(Q0(),t),t.node=p(oo()),t.explorer=p(ao()),o(li(),t),o(Xr(),t)}(Pn)),Pn}var jn={},et={},ki;function fo(){if(ki)return et;ki=1;var t;Object.defineProperty(et,"__esModule",{value:!0}),et.buildDebugBytecode=et.encodeContractField=et.buildContractByteCode=et.buildScriptByteCode=et.encodeScriptField=et.encodeScriptFieldAsString=et.encodeAddress=et.encodeByteVec=et.encodeU256=et.encodeI256=et.encodeBool=void 0;const e=Zr,r=pt(),o=BigInt(0);class p{}p.oneByteBound=BigInt(64),p.twoByteBound=p.oneByteBound<<BigInt(8),p.fourByteBound=p.oneByteBound<<BigInt(8*3),p.u256UpperBound=BigInt(1)<<BigInt(256);class i{}t=i,i.oneByteBound=BigInt(32),i.twoByteBound=i.oneByteBound<<BigInt(8),i.fourByteBound=i.oneByteBound<<BigInt(8*3),i.i256UpperBound=BigInt(1)<<BigInt(255),i.i256LowerBound=-t.i256UpperBound;class a{}a.oneBytePrefix=0,a.oneByteNegPrefix=192,a.twoBytePrefix=64,a.twoByteNegPrefix=128,a.fourBytePrefix=128,a.fourByteNegPrefix=64,a.multiBytePrefix=192;function s(d){return d?Uint8Array.from([1]):Uint8Array.from([0])}et.encodeBool=s;function M(d){return d>=o?I(d):R(d)}et.encodeI256=M;function A(d,m,x){let w=d.toString(16);w.length%2===1?w="0"+w:m&&w[0]>="8"&&(w="00"+w);const h=w.length/2,g=new Uint8Array(h+1);for(let _=0;_<h;_++){const V=_*2,be=parseInt(w.slice(V,V+2),16);g[`${_+1}`]=x?~be:be}const v=h-4+a.multiBytePrefix;return g[0]=v,g}function I(d){if(d<i.oneByteBound)return new Uint8Array([Number(d)+a.oneBytePrefix]);if(d<i.twoByteBound){const m=Number(d);return new Uint8Array([(m>>8)+a.twoBytePrefix,m&255])}else if(d<i.fourByteBound){const m=Number(d);return new Uint8Array([(m>>24)+a.fourBytePrefix,m>>16&255,m>>8&255,m&255])}else{if(d<i.i256UpperBound)return A(d,!0,!1);throw Error(`Too large number for i256: ${d}`)}}function R(d){if(d>=-i.oneByteBound){const m=Number(d);return new Uint8Array([(m^a.oneByteNegPrefix)&255])}else if(d>=-i.twoByteBound){const m=Number(d);return new Uint8Array([(m>>8^a.twoByteNegPrefix)&255,m&255])}else if(d>=-i.fourByteBound){const m=Number(d);return new Uint8Array([(m>>24^a.fourByteNegPrefix)&255,m>>16&255,m>>8&255,m&255])}else{if(d>=i.i256LowerBound)return A(~d,!0,!0);throw Error(`Too small number for i256: ${d}`)}}function Y(d){if(d<o)throw Error(`Negative number for U256: ${d}`);if(d<p.oneByteBound)return new Uint8Array([Number(d)+a.oneBytePrefix]);if(d<p.twoByteBound){const m=Number(d);return new Uint8Array([(m>>8&255)+a.twoBytePrefix,m&255])}else if(d<p.fourByteBound){const m=Number(d);return new Uint8Array([(m>>24&255)+a.fourBytePrefix,m>>16&255,m>>8&255,m&255])}else{if(d<p.u256UpperBound)return A(d,!1,!1);throw Error(`Too large number for U256: ${d}`)}}et.encodeU256=Y;function $(d){if(!(0,r.isHexString)(d))throw Error(`Given value ${d} is not a valid hex string`);const m=e.Buffer.from(d,"hex"),x=e.Buffer.from(M(BigInt(m.length)));return e.Buffer.concat([x,m])}et.encodeByteVec=$;function re(d){return r.bs58.decode(d)}et.encodeAddress=re;function oe(d,m){return Error(`Invalid script field ${m} for type ${d}`)}var ae;(function(d){d[d.trueConst=3]="trueConst",d[d.falseConst=4]="falseConst",d[d.i256Const0=5]="i256Const0",d[d.i256Const1=6]="i256Const1",d[d.i256Const2=7]="i256Const2",d[d.i256Const3=8]="i256Const3",d[d.i256Const4=9]="i256Const4",d[d.i256Const5=10]="i256Const5",d[d.i256ConstN1=11]="i256ConstN1",d[d.u256Const0=12]="u256Const0",d[d.u256Const1=13]="u256Const1",d[d.u256Const2=14]="u256Const2",d[d.u256Const3=15]="u256Const3",d[d.u256Const4=16]="u256Const4",d[d.u256Const5=17]="u256Const5",d[d.i256Const=18]="i256Const",d[d.u256Const=19]="u256Const",d[d.bytesConst=20]="bytesConst",d[d.addressConst=21]="addressConst"})(ae||(ae={}));function ue(d){return new Uint8Array([ae.i256Const,...M(d)])}function he(d){return new Uint8Array([ae.u256Const,...Y(d)])}function de(d,m){return e.Buffer.from(Ee(d,m)).toString("hex")}et.encodeScriptFieldAsString=de;function Ee(d,m){switch(d){case"Bool":if(typeof m=="boolean"){const x=m?ae.trueConst:ae.falseConst;return new Uint8Array([x])}break;case"I256":if(typeof m=="number"&&Number.isInteger(m))return ue(BigInt(m));if(typeof m=="bigint")return ue(m);break;case"U256":if(typeof m=="number"&&Number.isInteger(m))return he(BigInt(m));if(typeof m=="bigint")return he(m);break;case"ByteVec":if(typeof m=="string")return new Uint8Array([ae.bytesConst,...$(m)]);break;case"Address":if(typeof m=="string")return new Uint8Array([ae.addressConst,...re(m)]);break}throw oe(d,m)}et.encodeScriptField=Ee;const ye=/\{([0-9]*)\}/g;function T(d,m,x){return d.replace(ye,(w,h)=>{const g=x.names[`${h}`],v=x.types[`${h}`];if(g in m){const _=m[`${g}`];return de(v,_)}else throw new Error(`The value of field ${g} is not provided`)})}et.buildScriptByteCode=T;function L(d,m,x){const h=m.isMutable.map((v,_)=>_).filter(v=>m.isMutable[`${v}`]===x).flatMap(v=>{const _=m.names[`${v}`],V=m.types[`${v}`];if(_ in d){const be=d[`${_}`];return u(V,be)}else throw new Error(`The value of field ${_} is not provided`)});return e.Buffer.from(M(BigInt(h.length))).toString("hex")+h.map(v=>e.Buffer.from(v).toString("hex")).join("")}function ee(d,m,x){const w=L(m,x,!1),h=L(m,x,!0);return d+w+h}et.buildContractByteCode=ee;var H;(function(d){d[d.Bool=0]="Bool",d[d.I256=1]="I256",d[d.U256=2]="U256",d[d.ByteVec=3]="ByteVec",d[d.Address=4]="Address"})(H||(H={}));function G(d){return new Uint8Array([H.I256,...M(d)])}function B(d){return new Uint8Array([H.U256,...Y(d)])}function l(d,m){if(!Array.isArray(m))throw new Error(`Expected array, got ${m}`);const x=d.lastIndexOf(";");if(x==-1)throw new Error(`Invalid Array type: ${d}`);const w=d.slice(1,x),h=parseInt(d.slice(x+1,-1));if(m.length!=h)throw new Error(`Invalid val dimension: ${m}`);return m.flatMap(g=>u(w,g))}function u(d,m){switch(d){case"Bool":if(typeof m=="boolean"){const x=m?1:0;return[new Uint8Array([H.Bool,x])]}break;case"I256":if(typeof m=="number"&&Number.isInteger(m))return[G(BigInt(m))];if(typeof m=="bigint")return[G(m)];break;case"U256":if(typeof m=="number"&&Number.isInteger(m))return[B(BigInt(m))];if(typeof m=="bigint")return[B(m)];break;case"ByteVec":if(typeof m=="string")return[new Uint8Array([H.ByteVec,...$(m)])];break;case"Address":if(typeof m=="string")return[new Uint8Array([H.Address,...re(m)])];break;default:return l(d,m)}throw n(d,m)}et.encodeContractField=u;function n(d,m){return Error(`Invalid API value ${m} for type ${d}`)}function f(d,m){if(m==="")return d;const x=/[=+-][0-9a-f]*/g;let w="",h=0;for(const g of m.matchAll(x)){const v=g[0],_=v[0];if(_==="="){const V=parseInt(v.substring(1));w=w+d.slice(h,h+V),h=h+V}else if(_==="+")w=w+v.substring(1);else{const V=parseInt(v.substring(1));h=h+V}}return w}return et.buildDebugBytecode=f,et}var Gn={},_t={},Hi;function co(){if(Hi)return _t;Hi=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.getCurrentExplorerProvider=_t.setCurrentExplorerProvider=_t.getCurrentNodeProvider=_t.setCurrentNodeProvider=void 0;const t=Yr();let e;function r(s,M,A){typeof s=="string"?e=new t.NodeProvider(s,M,A):e=s}_t.setCurrentNodeProvider=r;function o(){if(typeof e>"u")throw Error("No node provider is set.");return e}_t.getCurrentNodeProvider=o;let p;function i(s,M,A){typeof s=="string"?p=new t.ExplorerProvider(s,M,A):p=s}_t.setCurrentExplorerProvider=i;function a(){return p}return _t.getCurrentExplorerProvider=a,_t}var dr={},$i;function uo(){if($i)return dr;$i=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.subscribeToEvents=dr.EventSubscription=void 0;const t=Qr(),e=pt();class r extends e.Subscription{constructor(i,a,s){super(i),this.contractAddress=a,this.fromCount=typeof s>"u"?0:s,this.startPolling()}startPolling(){this.eventEmitter.on("tick",async()=>{await this.polling()}),this.eventEmitter.emit("tick")}currentEventCount(){return this.fromCount}async polling(){try{const i=await t.web3.getCurrentNodeProvider().events.getEventsContractContractaddress(this.contractAddress,{start:this.fromCount});if(this.cancelled)return;if(this.fromCount===i.nextStart){this.task=setTimeout(()=>this.eventEmitter.emit("tick"),this.pollingInterval);return}const a=i.events.map(s=>this.messageCallback(s));await Promise.all(a),this.fromCount=i.nextStart,await this.polling()}catch(i){await this.errorCallback(i,this)}}}dr.EventSubscription=r;function o(p,i,a){return new r(p,i,a)}return dr.subscribeToEvents=o,dr}var Di;function ec(){return Di||(Di=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(D,S,O,Q){Q===void 0&&(Q=O);var y=Object.getOwnPropertyDescriptor(S,O);(!y||("get"in y?!S.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return S[O]}}),Object.defineProperty(D,Q,y)}:function(D,S,O,Q){Q===void 0&&(Q=O),D[Q]=S[O]}),r=Ae&&Ae.__setModuleDefault||(Object.create?function(D,S){Object.defineProperty(D,"default",{enumerable:!0,value:S})}:function(D,S){D.default=S}),o=Ae&&Ae.__importStar||function(D){if(D&&D.__esModule)return D;var S={};if(D!=null)for(var O in D)O!=="default"&&Object.prototype.hasOwnProperty.call(D,O)&&e(S,D,O);return r(S,D),S},p=Ae&&Ae.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(t,"__esModule",{value:!0}),t.getContractEventsCurrentCount=t.multicallMethods=t.callMethod=t.subscribeContractEvents=t.subscribeContractEvent=t.decodeEvent=t.subscribeContractDestroyedEvent=t.subscribeContractCreatedEvent=t.fetchContractState=t.ContractInstance=t.testMethod=t.addStdIdToFields=t.subscribeEventsFromContract=t.decodeContractDestroyedEvent=t.decodeContractCreatedEvent=t.DestroyContractEventAddress=t.CreateContractEventAddress=t.ContractFactory=t.randomTxId=t.toApiVals=t.Script=t.Contract=t.Artifact=t.Project=t.DEFAULT_COMPILER_OPTIONS=t.DEFAULT_NODE_COMPILER_OPTIONS=t.StdIdFieldName=void 0;const i=Zr,a=It,s=p(It),M=It,A=Yr(),I=o(fo()),R=pt(),Y=co(),$=o(It),re=uo(),oe=_n;t.StdIdFieldName="__stdInterfaceId";var ae;(function(D){D[D.Contract=0]="Contract",D[D.Script=1]="Script",D[D.AbstractContract=2]="AbstractContract",D[D.Interface=3]="Interface"})(ae||(ae={})),t.DEFAULT_NODE_COMPILER_OPTIONS={ignoreUnusedConstantsWarnings:!1,ignoreUnusedVariablesWarnings:!1,ignoreUnusedFieldsWarnings:!1,ignoreUnusedPrivateFunctionsWarnings:!1,ignoreUpdateFieldsCheckWarnings:!1,ignoreCheckExternalCallerWarnings:!1},t.DEFAULT_COMPILER_OPTIONS={errorOnWarnings:!0,...t.DEFAULT_NODE_COMPILER_OPTIONS};class ue{constructor(S,O){this.matcher=new RegExp(S,"mg"),this.type=O}}function he(D){let S=0;for(let O=0;O<D.length&&D[`${O}`]==="..";O++)S+=1;return $.join(...D.slice(S))}class de{getArtifactPath(S){let O;if(this.isExternal){const Q=he(this.contractRelativePath.split($.sep)),y=$.join(".external",Q);O=$.join(S,y)}else O=$.join(S,this.contractRelativePath);return $.join($.dirname(O),`${this.name}.ral.json`)}constructor(S,O,Q,y,c,b){this.type=S,this.name=O,this.sourceCode=Q,this.sourceCodeHash=y,this.contractRelativePath=c,this.isExternal=b}static async from(S,O,Q,y,c){const b=await a.webcrypto.subtle.digest("SHA-256",i.Buffer.from(Q)),E=i.Buffer.from(b).toString("hex");return new de(S,O,Q,E,y,c)}}class Ee{constructor(S,O,Q){this.sourceInfo=S,this.artifact=O,this.warnings=Q}}class ye{static checkCompilerOptionsParameter(S){if(Object.keys(S).length!=Object.keys(t.DEFAULT_NODE_COMPILER_OPTIONS).length)throw Error(`Not all compiler options are set: ${S}`);const O={...S,...t.DEFAULT_NODE_COMPILER_OPTIONS};if(Object.keys(O).length!==Object.keys(t.DEFAULT_NODE_COMPILER_OPTIONS).length)throw Error(`There are unknown compiler options: ${S}`)}constructor(S,O,Q){ye.checkCompilerOptionsParameter(O),this.fullNodeVersion=S,this.compilerOptionsUsed=O,this.infos=Q}async saveToFile(S){const O=$.join(S,ye.artifactFileName),Q={fullNodeVersion:this.fullNodeVersion,compilerOptionsUsed:this.compilerOptionsUsed,infos:Object.fromEntries(new Map([...this.infos].sort()))},y=JSON.stringify(Q,null,2);return M.promises.writeFile(O,y)}needToReCompile(S,O,Q){if(ye.checkCompilerOptionsParameter(S),this.fullNodeVersion!==Q||!Object.entries(S).every(([c,b])=>this.compilerOptionsUsed[`${c}`]===b)||O.length!==this.infos.size)return!0;for(const c of O){const b=this.infos.get(c.name);if(typeof b>"u"||b.sourceCodeHash!==c.sourceCodeHash)return!0}return!1}static async from(S){const O=$.join(S,ye.artifactFileName);if(s.default.existsSync(O))try{const Q=await M.promises.readFile(O),y=JSON.parse(Q.toString()),c=y.fullNodeVersion,b=y.compilerOptionsUsed,E=new Map(Object.entries(y.infos));return new ye(c,b,E)}catch(Q){console.log(`Failed to load project artifact, error: ${Q}`);return}}}ye.artifactFileName=".project.json";class T{static buildProjectArtifact(S,O,Q,y,c){const b=new Map;Q.forEach(N=>{b.set(N.artifact.name,{sourceFile:N.sourceInfo.contractRelativePath,sourceCodeHash:N.sourceInfo.sourceCodeHash,bytecodeDebugPatch:N.artifact.bytecodeDebugPatch,codeHashDebug:N.artifact.codeHashDebug,warnings:N.warnings})}),y.forEach(N=>{b.set(N.artifact.name,{sourceFile:N.sourceInfo.contractRelativePath,sourceCodeHash:N.sourceInfo.sourceCodeHash,bytecodeDebugPatch:N.artifact.bytecodeDebugPatch,codeHashDebug:"",warnings:N.warnings})});const E=Q.size+y.size;return O.slice(E).forEach(N=>{b.set(N.name,{sourceFile:N.contractRelativePath,sourceCodeHash:N.sourceCodeHash,bytecodeDebugPatch:"",codeHashDebug:"",warnings:[]})}),new ye(S,c,b)}constructor(S,O,Q,y,c,b,E){this.contractsRootDir=S,this.artifactsRootDir=O,this.sourceInfos=Q,this.contracts=y,this.scripts=c,this.projectArtifact=E,b&&T.checkCompilerWarnings([...[...y.entries()].map(N=>N[1].warnings).flat(),...[...c.entries()].map(N=>N[1].warnings).flat()],b)}static checkCompilerWarnings(S,O){if(S.length!==0){const Q="  - ",c=`Compilation warnings:
`+(Q+S.join(`
`+Q))+`
`;if(O)throw new Error(c);console.log(c)}}static contract(S){const O=T.currentProject.contracts.get(S);if(typeof O>"u")throw new Error(`Contract "${S}" does not exist`);return O.artifact}static script(S){const O=T.currentProject.scripts.get(S);if(typeof O>"u")throw new Error(`Script "${S}" does not exist`);return O.artifact}async saveArtifactsToFile(S){const O=this.artifactsRootDir,Q=async function(y){const c=y.sourceInfo.getArtifactPath(O),b=$.dirname(c);return s.default.existsSync(b)||s.default.mkdirSync(b,{recursive:!0}),M.promises.writeFile(c,y.artifact.toString())};this.contracts.forEach(y=>Q(y)),this.scripts.forEach(y=>Q(y)),await this.projectArtifact.saveToFile(S)}contractByCodeHash(S){const O=[...this.contracts.values()].find(Q=>Q.artifact.codeHash===S||Q.artifact.codeHashDebug==S);if(typeof O>"u")throw new Error(`Unknown code with code hash: ${S}`);return O.artifact}static async compile(S,O,Q,y,c,b,E,N){const X=Q.reduce((Oe,je)=>(Oe.find(Ge=>Ge.sourceCodeHash===je.sourceCodeHash)===void 0&&Oe.push(je),Oe),[]).map(Oe=>Oe.sourceCode).join(`
`),ve=await O.contracts.postContractsCompileProject({code:X,compilerOptions:N}),_e=new Map,xe=new Map;ve.contracts.forEach(Oe=>{const je=Q.find(Re=>Re.type===ae.Contract&&Re.name===Oe.name);if(je===void 0)throw new Error(`SourceInfo does not exist for contract ${Oe.name}`);const Ge=ee.fromCompileResult(Oe);_e.set(Ge.name,new Ee(je,Ge,Oe.warnings))}),ve.scripts.forEach(Oe=>{const je=Q.find(Re=>Re.type===ae.Script&&Re.name===Oe.name);if(je===void 0)throw new Error(`SourceInfo does not exist for script ${Oe.name}`);const Ge=H.fromCompileResult(Oe);xe.set(Ge.name,new Ee(je,Ge,Oe.warnings))});const Se=T.buildProjectArtifact(S,Q,_e,xe,N),Ce=new T(c,b,Q,_e,xe,E,Se);return await Ce.saveArtifactsToFile(y),Ce}static async loadArtifacts(S,O,Q,y,c,b,E,N){try{const W=new Map,X=new Map;for(const ve of O){const _e=Q.infos.get(ve.name);if(typeof _e>"u")throw Error(`Unable to find project info for ${ve.name}, please rebuild the project`);const xe=_e.warnings,Se=ve.getArtifactPath(b);if(ve.type===ae.Contract){const Ce=await ee.fromArtifactFile(Se,_e.bytecodeDebugPatch,_e.codeHashDebug);W.set(Ce.name,new Ee(ve,Ce,xe))}else if(ve.type===ae.Script){const Ce=await H.fromArtifactFile(Se,_e.bytecodeDebugPatch);X.set(Ce.name,new Ee(ve,Ce,xe))}}return new T(c,b,O,W,X,E,Q)}catch(W){return console.log(`Failed to load artifacts, error: ${W}, try to re-compile contracts...`),T.compile(Q.fullNodeVersion,S,O,y,c,b,E,N)}}static getImportSourcePath(S,O){const Q=O.split("/");if(Q.length>1&&Q[0]==="std"){const c=$.dirname(__filename);return $.join(c,"..","..","..",O)}let y=S;for(;;){const c=$.join(y,"node_modules",O);if(s.default.existsSync(c))return c;const b=y;if(y=$.join(y,".."),b===y)throw new Error(`Specified import file does not exist: ${O}`)}}static async handleImports(S,O,Q,y){const c=[],b=Q.replace(T.importRegex,N=>(c.push(N),"")),E=[];for(const N of c){const W=N.slice(8,-1),X=W.endsWith(".ral")?W:W+".ral";if(!y.includes(X)){y.push(X);const ve=T.getImportSourcePath(S,X),_e=await T.loadSourceFile(S,O,ve,y,!0);E.push(..._e)}}return[b,E]}static async loadSourceFile(S,O,Q,y,c){const b=$.relative(O,Q);if(!Q.endsWith(".ral"))throw new Error(`Invalid filename: ${Q}, smart contract file name should end with ".ral"`);const E=await M.promises.readFile(Q),[N,W]=await T.handleImports(S,O,E.toString(),y);if(N.match(new RegExp('^import "',"mg"))!==null)throw new Error(`Invalid import statements, source: ${Q}`);const X=W;for(const ve of this.matchers){const _e=N.matchAll(ve.matcher);for(const xe of _e){const Se=await de.from(ve.type,xe[1],N,b,c);X.push(Se)}}return X}static async loadSourceFiles(S,O){const Q=[],y=[],c=async function(E){const N=await M.promises.readdir(E,{withFileTypes:!0});for(const W of N)if(W.isFile()){const X=$.join(E,W.name),ve=await T.loadSourceFile(S,O,X,Q,!1);y.push(...ve)}else{const X=$.join(E,W.name);await c(X)}};await c(O);const b=y.filter(E=>E.type===ae.Contract||E.type===ae.Script).length;if(y.length===0||b===0)throw new Error("Project have no source files");return y.sort((E,N)=>E.type-N.type)}static async build(S={},O=".",Q=T.DEFAULT_CONTRACTS_DIR,y=T.DEFAULT_ARTIFACTS_DIR,c=void 0){const b=(0,Y.getCurrentNodeProvider)(),E=c??(await b.infos.getInfosVersion()).version,N=await T.loadSourceFiles(O,Q),{errorOnWarnings:W,...X}={...t.DEFAULT_COMPILER_OPTIONS,...S},ve=await ye.from(O);ve===void 0||ve.needToReCompile(X,N,E)?(console.log(`Compiling contracts in folder "${Q}"`),T.currentProject=await T.compile(E,b,N,O,Q,y,W,X)):(console.log(`Contracts are compiled already. Loading them from folder "${y}"`),T.currentProject=await T.loadArtifacts(b,N,ve,O,Q,y,W,X))}}t.Project=T,T.importRegex=new RegExp('^import "[^"./]+/[^"]*[a-z][a-z_0-9]*(.ral)?"',"mg"),T.abstractContractMatcher=new ue("^Abstract Contract ([A-Z][a-zA-Z0-9]*)",ae.AbstractContract),T.contractMatcher=new ue("^Contract ([A-Z][a-zA-Z0-9]*)",ae.Contract),T.interfaceMatcher=new ue("^Interface ([A-Z][a-zA-Z0-9]*)",ae.Interface),T.scriptMatcher=new ue("^TxScript ([A-Z][a-zA-Z0-9]*)",ae.Script),T.matchers=[T.abstractContractMatcher,T.contractMatcher,T.interfaceMatcher,T.scriptMatcher],T.DEFAULT_CONTRACTS_DIR="contracts",T.DEFAULT_ARTIFACTS_DIR="artifacts";class L{constructor(S,O,Q){this.version=S,this.name=O,this.functions=Q}publicFunctions(){return this.functions.filter(S=>S.isPublic).map(S=>S.name)}usingPreapprovedAssetsFunctions(){return this.functions.filter(S=>S.usePreapprovedAssets).map(S=>S.name)}usingAssetsInContractFunctions(){return this.functions.filter(S=>S.useAssetsInContract).map(S=>S.name)}}t.Artifact=L;class ee extends L{constructor(S,O,Q,y,c,b,E,N,W,X,ve,_e){super(S,O,W),this.bytecode=Q,this.bytecodeDebugPatch=y,this.codeHash=c,this.fieldsSig=E,this.eventsSig=N,this.constants=X,this.enums=ve,this.stdInterfaceId=_e,this.bytecodeDebug=I.buildDebugBytecode(this.bytecode,this.bytecodeDebugPatch),this.codeHashDebug=b}static fromJson(S,O="",Q=""){if(S.version==null||S.name==null||S.bytecode==null||S.codeHash==null||S.fieldsSig==null||S.eventsSig==null||S.constants==null||S.enums==null||S.functions==null)throw Error("The artifact JSON for contract is incomplete");return new ee(S.version,S.name,S.bytecode,O,S.codeHash,Q||S.codeHash,S.fieldsSig,S.eventsSig,S.functions,S.constants,S.enums,S.stdInterfaceId===null?void 0:S.stdInterfaceId)}static fromCompileResult(S){return new ee(S.version,S.name,S.bytecode,S.bytecodeDebugPatch,S.codeHash,S.codeHashDebug,S.fields,S.events,S.functions,S.constants,S.enums,S.stdInterfaceId)}static async fromArtifactFile(S,O,Q){const y=await M.promises.readFile(S),c=JSON.parse(y.toString());return ee.fromJson(c,O,Q)}toString(){const S={version:this.version,name:this.name,bytecode:this.bytecode,codeHash:this.codeHash,fieldsSig:this.fieldsSig,eventsSig:this.eventsSig,functions:this.functions,constants:this.constants,enums:this.enums};return this.stdInterfaceId!==void 0&&(S.stdInterfaceId=this.stdInterfaceId),JSON.stringify(S,null,2)}toState(S,O,Q){const y=typeof Q<"u"?Q:ee.randomAddress();return{address:y,contractId:(0,R.binToHex)((0,R.contractIdFromAddress)(y)),bytecode:this.bytecode,codeHash:this.codeHash,fields:S,fieldsSig:this.fieldsSig,asset:O}}static randomAddress(){const S=new Uint8Array(33);return a.webcrypto.getRandomValues(S),S[0]=3,R.bs58.encode(S)}printDebugMessages(S,O){O.length!=0&&(console.log(`Testing ${this.name}.${S}:`),O.forEach(Q=>console.log(`Debug - ${Q.contractAddress} - ${Q.message}`)))}toApiFields(S){return typeof S>"u"?[]:m(S,this.fieldsSig)}toApiArgs(S,O){if(O){const Q=this.functions.find(y=>y.name==S);if(Q==null)throw new Error(`Invalid function name: ${S}`);return x(O,Q)}else return[]}getMethodIndex(S){return this.functions.findIndex(O=>O.name===S)}toApiContractStates(S){return typeof S<"u"?S.map(O=>d(O)):void 0}toApiTestContractParams(S,O){const Q=O.initialFields===void 0?[]:f(O.initialFields,this.fieldsSig,!1),y=O.initialFields===void 0?[]:f(O.initialFields,this.fieldsSig,!0);return{group:O.group,blockHash:O.blockHash,blockTimeStamp:O.blockTimeStamp,txId:O.txId,address:O.address,bytecode:this.bytecodeDebug,initialImmFields:Q,initialMutFields:y,initialAsset:typeof O.initialAsset<"u"?l(O.initialAsset):void 0,methodIndex:this.getMethodIndex(S),args:this.toApiArgs(S,O.testArgs),existingContracts:this.toApiContractStates(O.existingContracts),inputAssets:g(O.inputAssets)}}fromApiContractState(S){return{address:S.address,contractId:(0,R.binToHex)((0,R.contractIdFromAddress)(S.address)),bytecode:S.bytecode,initialStateHash:S.initialStateHash,codeHash:S.codeHash,fields:G(S.immFields,S.mutFields,this.fieldsSig),fieldsSig:this.fieldsSig,asset:u(S.asset)}}static fromApiContractState(S){return T.currentProject.contractByCodeHash(S.codeHash).fromApiContractState(S)}static fromApiEvent(S,O,Q){let y,c;if(S.eventIndex==ee.ContractCreatedEventIndex)y=qe(B(S.fields,ee.ContractCreatedEvent,!0)),c=ee.ContractCreatedEvent.name;else if(S.eventIndex==ee.ContractDestroyedEventIndex)y=B(S.fields,ee.ContractDestroyedEvent,!0),c=ee.ContractDestroyedEvent.name;else{const E=T.currentProject.contractByCodeHash(O).eventsSig[S.eventIndex];y=B(S.fields,E),c=E.name}return{txId:Q,blockHash:S.blockHash,contractAddress:S.contractAddress,name:c,eventIndex:S.eventIndex,fields:y}}fromApiTestContractResult(S,O,Q){const y=this.functions.findIndex(W=>W.name===S),c=this.functions[`${y}`].returnTypes,b=(0,A.fromApiArray)(O.returns,c),E=b.length===0?null:b.length===1?b[0]:b,N=new Map;return N.set(O.address,O.codeHash),O.contracts.forEach(W=>N.set(W.address,W.codeHash)),{contractId:(0,R.binToHex)((0,R.contractIdFromAddress)(O.address)),contractAddress:O.address,returns:E,gasUsed:O.gasUsed,contracts:O.contracts.map(W=>ee.fromApiContractState(W)),txOutputs:O.txOutputs.map(v),events:ee.fromApiEvents(O.events,N,Q),debugMessages:O.debugMessages}}async txParamsForDeployment(S,O){const Q=O.initialFields??{},y=this.buildByteCodeToDeploy(F(this,Q)),c=await S.getSelectedAccount();return{signerAddress:c.address,signerKeyType:c.keyType,bytecode:y,initialAttoAlphAmount:O==null?void 0:O.initialAttoAlphAmount,issueTokenAmount:O==null?void 0:O.issueTokenAmount,initialTokenAmounts:O==null?void 0:O.initialTokenAmounts,gasAmount:O==null?void 0:O.gasAmount,gasPrice:O==null?void 0:O.gasPrice}}buildByteCodeToDeploy(S){return I.buildContractByteCode(this.bytecode,S,this.fieldsSig)}static fromApiEvents(S,O,Q){return S.map(y=>{const c=y.contractAddress,b=O.get(c);if(typeof b<"u"||y.eventIndex<0)return ee.fromApiEvent(y,b,Q);throw Error(`Cannot find codeHash for the contract address: ${c}`)})}toApiCallContract(S,O,Q,y){const c=this.functions[`${y}`],b=w(S.args??{},c.paramNames,c.paramTypes);return{...S,group:O,address:Q,methodIndex:y,args:b}}fromApiCallContractResult(S,O,Q){const y=this.functions[`${Q}`].returnTypes,c=(0,A.fromApiArray)(S.returns,y),b=c.length===0?null:c.length===1?c[0]:c,E=new Map;return S.contracts.forEach(N=>E.set(N.address,N.codeHash)),{returns:b,gasUsed:S.gasUsed,contracts:S.contracts.map(N=>ee.fromApiContractState(N)),txInputs:S.txInputs,txOutputs:S.txOutputs.map(N=>v(N)),events:ee.fromApiEvents(S.events,E,O)}}}t.Contract=ee,ee.ContractCreatedEventIndex=-1,ee.ContractCreatedEvent={name:"ContractCreated",fieldNames:["address","parentAddress","stdInterfaceId"],fieldTypes:["Address","Address","ByteVec"]},ee.ContractDestroyedEventIndex=-2,ee.ContractDestroyedEvent={name:"ContractDestroyed",fieldNames:["address"],fieldTypes:["Address"]};class H extends L{constructor(S,O,Q,y,c,b){super(S,O,b),this.bytecodeTemplate=Q,this.bytecodeDebugPatch=y,this.fieldsSig=c}static fromCompileResult(S){return new H(S.version,S.name,S.bytecodeTemplate,S.bytecodeDebugPatch,S.fields,S.functions)}static fromJson(S,O=""){if(S.version==null||S.name==null||S.bytecodeTemplate==null||S.fieldsSig==null||S.functions==null)throw Error("The artifact JSON for script is incomplete");return new H(S.version,S.name,S.bytecodeTemplate,O,S.fieldsSig,S.functions)}static async fromArtifactFile(S,O){const Q=await M.promises.readFile(S),y=JSON.parse(Q.toString());return this.fromJson(y,O)}toString(){const S={version:this.version,name:this.name,bytecodeTemplate:this.bytecodeTemplate,fieldsSig:this.fieldsSig,functions:this.functions};return JSON.stringify(S,null,2)}async txParamsForExecution(S,O){const Q=await S.getSelectedAccount();return{signerAddress:Q.address,signerKeyType:Q.keyType,bytecode:this.buildByteCodeToDeploy(O.initialFields??{}),attoAlphAmount:O.attoAlphAmount,tokens:O.tokens,gasAmount:O.gasAmount,gasPrice:O.gasPrice}}buildByteCodeToDeploy(S){return I.buildScriptByteCode(this.bytecodeTemplate,S,this.fieldsSig)}}t.Script=H;function G(D,S,O){const Q=[];let y=0,c=0;return O.types.flatMap((E,N)=>Array((0,A.typeLength)(E)).fill(O.isMutable[`${N}`])).forEach(E=>{E?(Q.push(S[`${c}`]),c+=1):(Q.push(D[`${y}`]),y+=1)}),(0,A.fromApiVals)(Q,O.names,O.types)}function B(D,S,O=!1){return(0,A.fromApiVals)(D,S.fieldNames,S.fieldTypes,O)}function l(D){return{attoAlphAmount:(0,A.toApiNumber256)(D.alphAmount),tokens:typeof D.tokens<"u"?D.tokens.map(A.toApiToken):[]}}function u(D){return{alphAmount:(0,A.fromApiNumber256)(D.attoAlphAmount),tokens:(0,A.fromApiTokens)(D.tokens)}}function n(D,S){if(S in D)return D[`${S}`];throw Error(`No Val exists for ${S}`)}function f(D,S,O){const Q=S.names.map((b,E)=>E).filter(b=>S.isMutable[`${b}`]===O),y=Q.map(b=>S.names[`${b}`]),c=Q.map(b=>S.types[`${b}`]);return w(D,y,c)}function d(D){const S=D.fields??{};return{address:D.address,bytecode:D.bytecode,codeHash:D.codeHash,initialStateHash:D.initialStateHash,immFields:f(S,D.fieldsSig,!1),mutFields:f(S,D.fieldsSig,!0),asset:l(D.asset)}}function m(D,S){return w(D,S.names,S.types)}function x(D,S){return w(D,S.paramNames,S.paramTypes)}function w(D,S,O){return S.map((Q,y)=>{const c=n(D,Q),b=O[`${y}`];return(0,A.toApiVal)(c,b)})}t.toApiVals=w;function h(D){return{address:D.address,asset:l(D.asset)}}function g(D){return typeof D<"u"?D.map(h):void 0}function v(D){if(D.type==="AssetOutput"){const S=D;return{type:"AssetOutput",address:S.address,alphAmount:(0,A.fromApiNumber256)(S.attoAlphAmount),tokens:(0,A.fromApiTokens)(S.tokens),lockTime:S.lockTime,message:S.message}}else if(D.type==="ContractOutput"){const S=D;return{type:"ContractOutput",address:S.address,alphAmount:(0,A.fromApiNumber256)(S.attoAlphAmount),tokens:(0,A.fromApiTokens)(S.tokens)}}else throw new Error(`Unknown output type: ${D}`)}function _(){const D=new Uint8Array(32);return a.webcrypto.getRandomValues(D),(0,R.binToHex)(D)}t.randomTxId=_,R.assertType;class V{constructor(S){this.contract=S}async deploy(S,O){const Q=await this.contract.txParamsForDeployment(S,{...O,initialFields:F(this.contract,O.initialFields)}),y=await S.signAndSubmitDeployContractTx(Q);return{...y,contractInstance:this.at(y.contractAddress)}}stateForTest(S,O,Q){const y={alphAmount:(O==null?void 0:O.alphAmount)??oe.ONE_ALPH,tokens:O==null?void 0:O.tokens};return this.contract.toState(F(this.contract,S),y,Q)}}t.ContractFactory=V;function be(D){const S=new Uint8Array(32).fill(0);return S[31]=D,(0,R.addressFromContractId)((0,R.binToHex)(S))}t.CreateContractEventAddress=be(-1),t.DestroyContractEventAddress=be(-2);function Me(D,S,O){if(D.eventIndex!==O)throw new Error(`Invalid event index: ${D.eventIndex}, expected: ${O}`);return B(D.fields,S,!0)}function qe(D){const S=D.parentAddress,O=D.stdInterfaceId;return{address:D.address,parentAddress:S===""?void 0:S,stdInterfaceIdGuessed:O===""?void 0:O}}function Ne(D){const S=Me(D,ee.ContractCreatedEvent,ee.ContractCreatedEventIndex);return{blockHash:D.blockHash,txId:D.txId,eventIndex:D.eventIndex,name:ee.ContractCreatedEvent.name,fields:qe(S)}}t.decodeContractCreatedEvent=Ne;function Te(D){const S=Me(D,ee.ContractDestroyedEvent,ee.ContractDestroyedEventIndex);return{blockHash:D.blockHash,txId:D.txId,eventIndex:D.eventIndex,name:ee.ContractDestroyedEvent.name,fields:{address:S.address}}}t.decodeContractDestroyedEvent=Te;function P(D,S,O,Q,y){const c=N=>N.eventIndex!==O?Promise.resolve():D.messageCallback(Q(N)),b=(N,W)=>D.errorCallback(N,W),E={pollingInterval:D.pollingInterval,messageCallback:c,errorCallback:b};return(0,re.subscribeToEvents)(E,S,y)}t.subscribeEventsFromContract=P;function F(D,S){const O="414c5048";return D.stdInterfaceId===void 0?S:{...S,__stdInterfaceId:O+D.stdInterfaceId}}t.addStdIdToFields=F;async function q(D,S,O){const Q=(O==null?void 0:O.txId)??_(),y=O.initialFields===void 0?{}:O.initialFields,c=D.contract.toApiTestContractParams(S,{...O,txId:Q,initialFields:F(D.contract,y),testArgs:O.testArgs===void 0?{}:O.testArgs}),b=await(0,Y.getCurrentNodeProvider)().contracts.postContractsTestContract(c),E=D.contract.fromApiTestContractResult(S,b,Q);return D.contract.printDebugMessages(S,E.debugMessages),E}t.testMethod=q;class te{constructor(S){this.address=S,this.contractId=(0,R.binToHex)((0,R.contractIdFromAddress)(S)),this.groupIndex=(0,R.groupOfAddress)(S)}}t.ContractInstance=te;async function Z(D,S){const O=await(0,Y.getCurrentNodeProvider)().contracts.getContractsAddressState(S.address,{group:S.groupIndex}),Q=D.contract.fromApiContractState(O);return{...Q,fields:Q.fields}}t.fetchContractState=Z;function J(D,S){return P(D,t.CreateContractEventAddress,ee.ContractCreatedEventIndex,O=>({...Ne(O),contractAddress:t.CreateContractEventAddress}),S)}t.subscribeContractCreatedEvent=J;function se(D,S){return P(D,t.DestroyContractEventAddress,ee.ContractDestroyedEventIndex,O=>({...Te(O),contractAddress:t.DestroyContractEventAddress}),S)}t.subscribeContractDestroyedEvent=se;function z(D,S,O,Q){if(O.eventIndex!==Q&&!(Q>=0&&Q<D.eventsSig.length))throw new Error("Invalid event index: "+O.eventIndex+", expected: "+Q);const y=D.eventsSig[`${Q}`],c=y.fieldNames,b=y.fieldTypes,E=(0,A.fromApiVals)(O.fields,c,b);return{contractAddress:S.address,blockHash:O.blockHash,txId:O.txId,eventIndex:O.eventIndex,name:y.name,fields:E}}t.decodeEvent=z;function K(D,S,O,Q,y){const c=D.eventsSig.findIndex(b=>b.name===Q);return P(O,S.address,c,b=>z(D,S,b,c),y)}t.subscribeContractEvent=K;function ie(D,S,O,Q){const y=E=>O.messageCallback({...z(D,S,E,E.eventIndex),contractAddress:S.address}),c=(E,N)=>O.errorCallback(E,N),b={pollingInterval:O.pollingInterval,messageCallback:y,errorCallback:c};return(0,re.subscribeToEvents)(b,S.address,Q)}t.subscribeContractEvents=ie;async function ne(D,S,O,Q){const y=D.contract.getMethodIndex(O),c=(Q==null?void 0:Q.txId)??_(),b=D.contract.toApiCallContract({...Q,txId:c,args:Q.args===void 0?{}:Q.args},S.groupIndex,S.address,y),E=await(0,Y.getCurrentNodeProvider)().contracts.postContractsCallContract(b);return D.contract.fromApiCallContractResult(E,c,y)}t.callMethod=ne;async function ce(D,S,O){const Q=Object.entries(O),y=Q.map(E=>{const[N,W]=E,X=D.contract.getMethodIndex(N),ve=(W==null?void 0:W.txId)??_();return D.contract.toApiCallContract({...W,txId:ve,args:W.args===void 0?{}:W.args},S.groupIndex,S.address,X)}),c=await(0,Y.getCurrentNodeProvider)().contracts.postContractsMulticallContract({calls:y}),b={};return y.forEach((E,N)=>{const W=E.methodIndex,X=c.results[`${W}`],ve=Q[`${N}`][0];b[`${ve}`]=D.contract.fromApiCallContractResult(X,E.txId,W)}),b}t.multicallMethods=ce;async function we(D){return(0,Y.getCurrentNodeProvider)().events.getEventsContractContractaddressCurrentCount(D).catch(S=>{if(S instanceof Error&&S.message.includes(`${D} not found`))return 0;throw S})}t.getContractEventsCurrentCount=we}(Gn)),Gn}var Li;function tc(){return Li||(Li=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(o,p,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(p,i);(!s||("get"in s?!p.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return p[i]}}),Object.defineProperty(o,a,s)}:function(o,p,i,a){a===void 0&&(a=i),o[a]=p[i]}),r=Ae&&Ae.__exportStar||function(o,p){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(p,i)&&e(p,o,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(fo(),t),r(ec(),t),r(uo(),t)}(jn)),jn}var Wn={},tt={},Hr={},zi;function ho(){if(zi)return Hr;zi=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.TransactionBuilder=void 0;const t=Qr(),e=Yr(),r=pt(),o=lo();class p{static from(a,s,M){const A=typeof a=="string"?new e.NodeProvider(a,s,M):a;return new class extends p{get nodeProvider(){return A}}}static validatePublicKey(a,s,M){if((0,r.addressFromPublicKey)(s,M)!==a.signerAddress)throw new Error("Unmatched public key")}async buildTransferTx(a,s){p.validatePublicKey(a,s,a.signerKeyType);const{destinations:M,gasPrice:A,...I}=a,R={fromPublicKey:s,fromPublicKeyType:a.signerKeyType,destinations:(0,o.toApiDestinations)(M),gasPrice:(0,e.toApiNumber256Optional)(A),...I},Y=await this.nodeProvider.transactions.postTransactionsBuild(R);return{...Y,gasPrice:(0,e.fromApiNumber256)(Y.gasPrice)}}async buildDeployContractTx(a,s){p.validatePublicKey(a,s,a.signerKeyType);const{initialAttoAlphAmount:M,initialTokenAmounts:A,issueTokenAmount:I,gasPrice:R,...Y}=a,$={fromPublicKey:s,fromPublicKeyType:a.signerKeyType,initialAttoAlphAmount:(0,e.toApiNumber256Optional)(M),initialTokenAmounts:(0,e.toApiTokens)(A),issueTokenAmount:(0,e.toApiNumber256Optional)(I),gasPrice:(0,e.toApiNumber256Optional)(R),...Y},re=await this.nodeProvider.contracts.postContractsUnsignedTxDeployContract($),oe=t.utils.binToHex(t.utils.contractIdFromAddress(re.contractAddress));return{...re,groupIndex:re.fromGroup,contractId:oe,gasPrice:(0,e.fromApiNumber256)(re.gasPrice)}}async buildExecuteScriptTx(a,s){p.validatePublicKey(a,s,a.signerKeyType);const{attoAlphAmount:M,tokens:A,gasPrice:I,...R}=a,Y={fromPublicKey:s,fromPublicKeyType:a.signerKeyType,attoAlphAmount:(0,e.toApiNumber256Optional)(M),tokens:(0,e.toApiTokens)(A),gasPrice:(0,e.toApiNumber256Optional)(I),...R},$=await this.nodeProvider.contracts.postContractsUnsignedTxExecuteScript(Y);return{...$,groupIndex:$.fromGroup,gasPrice:(0,e.fromApiNumber256)($.gasPrice)}}async buildUnsignedTx(a){const s={unsignedTx:a.unsignedTx},M=await this.nodeProvider.transactions.postTransactionsDecodeUnsignedTx(s);return{fromGroup:M.fromGroup,toGroup:M.toGroup,unsignedTx:a.unsignedTx,txId:M.unsignedTx.txId,gasAmount:M.unsignedTx.gasAmount,gasPrice:(0,e.fromApiNumber256)(M.unsignedTx.gasPrice)}}}return Hr.TransactionBuilder=p,Hr}var ji;function lo(){if(ji)return tt;ji=1;var t=Ae&&Ae.__createBinding||(Object.create?function(T,L,ee,H){H===void 0&&(H=ee);var G=Object.getOwnPropertyDescriptor(L,ee);(!G||("get"in G?!L.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return L[ee]}}),Object.defineProperty(T,H,G)}:function(T,L,ee,H){H===void 0&&(H=ee),T[H]=L[ee]}),e=Ae&&Ae.__setModuleDefault||(Object.create?function(T,L){Object.defineProperty(T,"default",{enumerable:!0,value:L})}:function(T,L){T.default=L}),r=Ae&&Ae.__importStar||function(T){if(T&&T.__esModule)return T;var L={};if(T!=null)for(var ee in T)ee!=="default"&&Object.prototype.hasOwnProperty.call(T,ee)&&t(L,T,ee);return e(L,T),L},o=Ae&&Ae.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.fromApiDestination=tt.toApiDestinations=tt.toApiDestination=tt.verifySignedMessage=tt.hashMessage=tt.extendMessage=tt.SignerProviderWithCachedAccounts=tt.SignerProviderWithMultipleAccounts=tt.SignerProviderSimple=tt.InteractiveSignerProvider=tt.SignerProvider=void 0;const p=Zr,i=It,a=Yr(),s=r(pt()),M=o(Ds),A=ho(),I=pt();class R{async getSelectedAccount(){const L=await this.unsafeGetSelectedAccount();return R.validateAccount(L),L}static validateAccount(L){const ee=(0,I.addressFromPublicKey)(L.publicKey,L.keyType),H=(0,I.groupOfAddress)(ee);if(ee!==L.address||H!==L.group)throw Error(`Invalid accounot data: ${JSON.stringify(L)}`)}}tt.SignerProvider=R;class Y extends R{async enable(L){const ee=await this.unsafeEnable(L);return R.validateAccount(ee),ee}}tt.InteractiveSignerProvider=Y;class $ extends R{async submitTransaction(L){const ee={unsignedTx:L.unsignedTx,signature:L.signature};return this.nodeProvider.transactions.postTransactionsSubmit(ee)}async signAndSubmitTransferTx(L){const ee=await this.signTransferTx(L);return await this.submitTransaction(ee),ee}async signAndSubmitDeployContractTx(L){const ee=await this.signDeployContractTx(L);return await this.submitTransaction(ee),ee}async signAndSubmitExecuteScriptTx(L){const ee=await this.signExecuteScriptTx(L);return await this.submitTransaction(ee),ee}async signAndSubmitUnsignedTx(L){const ee=await this.signUnsignedTx(L);return await this.submitTransaction(ee),ee}async usePublicKey(L){const{signerAddress:ee,...H}=L;return{fromPublicKey:await this.getPublicKey(ee),...H}}async signTransferTx(L){const ee=await this.buildTransferTx(L);return{signature:await this.signRaw(L.signerAddress,ee.txId),...ee}}async buildTransferTx(L){return A.TransactionBuilder.from(this.nodeProvider).buildTransferTx(L,await this.getPublicKey(L.signerAddress))}async signDeployContractTx(L){const ee=await this.buildDeployContractTx(L);return{signature:await this.signRaw(L.signerAddress,ee.txId),...ee}}async buildDeployContractTx(L){return A.TransactionBuilder.from(this.nodeProvider).buildDeployContractTx(L,await this.getPublicKey(L.signerAddress))}async signExecuteScriptTx(L){const ee=await this.buildExecuteScriptTx(L);return{signature:await this.signRaw(L.signerAddress,ee.txId),...ee}}async buildExecuteScriptTx(L){return A.TransactionBuilder.from(this.nodeProvider).buildExecuteScriptTx(L,await this.getPublicKey(L.signerAddress))}async signUnsignedTx(L){const ee=await A.TransactionBuilder.from(this.nodeProvider).buildUnsignedTx(L);return{signature:await this.signRaw(L.signerAddress,ee.txId),...ee}}async signMessage(L){const ee=ue(L.message,L.messageHasher);return{signature:await this.signRaw(L.signerAddress,ee)}}}tt.SignerProviderSimple=$;class re extends ${async getAccount(L){const H=(await this.getAccounts()).find(G=>G.address===L);if(typeof H>"u")throw new Error("Unmatched signerAddress");return H}async getPublicKey(L){return(await this.getAccount(L)).publicKey}}tt.SignerProviderWithMultipleAccounts=re;class oe extends re{constructor(){super(...arguments),this._selectedAccount=void 0,this._accounts=new Map}unsafeGetSelectedAccount(){if(this._selectedAccount===void 0)throw Error("No account is selected yet");return Promise.resolve(this._selectedAccount)}setSelectedAccount(L){const ee=this._accounts.get(L);if(ee===void 0)throw Error("The address is not in the accounts");return this._selectedAccount=ee,Promise.resolve()}getAccounts(){return Promise.resolve(Array.from(this._accounts.values()))}async getAccount(L){const ee=this._accounts.get(L);if(ee===void 0)throw Error("The address is not in the accounts");return Promise.resolve(ee)}}tt.SignerProviderWithCachedAccounts=oe;function ae(T){return"Alephium Signed Message: "+T}tt.extendMessage=ae;function ue(T,L){switch(L){case"alephium":return s.binToHex(M.default.blake2b(ae(T),void 0,32));case"sha256":const ee=(0,i.createHash)("sha256");return ee.update(p.Buffer.from(T)),s.binToHex(ee.digest());case"blake2b":return s.binToHex(M.default.blake2b(T,void 0,32));case"identity":return T;default:throw Error(`Invalid message hasher: ${L}`)}}tt.hashMessage=ue;function he(T,L,ee,H,G){const B=ue(T,L);return s.verifySignature(B,ee,H,G)}tt.verifySignedMessage=he;function de(T){return{...T,attoAlphAmount:(0,a.toApiNumber256)(T.attoAlphAmount),tokens:(0,a.toApiTokens)(T.tokens)}}tt.toApiDestination=de;function Ee(T){return T.map(de)}tt.toApiDestinations=Ee;function ye(T){return{...T,attoAlphAmount:(0,a.fromApiNumber256)(T.attoAlphAmount),tokens:(0,a.fromApiTokens)(T.tokens)}}return tt.fromApiDestination=ye,tt}var Vn={},Gi;function rc(){if(Gi)return Vn;Gi=1,Object.defineProperty(Vn,"__esModule",{value:!0});const t=pt();return t.assertType,(0,t.assertType)(),(0,t.assertType)(),(0,t.assertType)(),(0,t.assertType)(),(0,t.assertType)(),(0,t.assertType)(),(0,t.assertType)(),t.assertType,(0,t.assertType)(),Vn}var Wi;function nc(){return Wi||(Wi=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(o,p,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(p,i);(!s||("get"in s?!p.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return p[i]}}),Object.defineProperty(o,a,s)}:function(o,p,i,a){a===void 0&&(a=i),o[a]=p[i]}),r=Ae&&Ae.__exportStar||function(o,p){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(p,i)&&e(p,o,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(lo(),t),r(rc(),t),r(ho(),t)}(Wn)),Wn}var Kn={},lr={},Vi;function ic(){if(Vi)return lr;Vi=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.subscribeToTxStatus=lr.TxStatusSubscription=void 0;const t=Qr(),e=pt();class r extends e.Subscription{constructor(i,a,s,M){super(i),this.txId=a,this.fromGroup=s,this.toGroup=M,this.startPolling()}async polling(){try{const i=await t.web3.getCurrentNodeProvider().transactions.getTransactionsStatus({txId:this.txId,fromGroup:this.fromGroup,toGroup:this.toGroup});await this.messageCallback(i)}catch(i){await this.errorCallback(i,this)}}}lr.TxStatusSubscription=r;function o(p,i,a,s){return new r(p,i,a,s)}return lr.subscribeToTxStatus=o,lr}var pr={},Ki;function sc(){if(Ki)return pr;Ki=1;var t=Ae&&Ae.__createBinding||(Object.create?function(a,s,M,A){A===void 0&&(A=M);var I=Object.getOwnPropertyDescriptor(s,M);(!I||("get"in I?!s.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return s[M]}}),Object.defineProperty(a,A,I)}:function(a,s,M,A){A===void 0&&(A=M),a[A]=s[M]}),e=Ae&&Ae.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),r=Ae&&Ae.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var M in a)M!=="default"&&Object.prototype.hasOwnProperty.call(a,M)&&t(s,a,M);return e(s,a),s};Object.defineProperty(pr,"__esModule",{value:!0}),pr.transactionVerifySignature=pr.transactionSign=void 0;const o=r(pt());function p(a,s,M){return o.sign(a,s,M)}pr.transactionSign=p;function i(a,s,M,A){return o.verifySignature(a,s,M,A)}return pr.transactionVerifySignature=i,pr}var Zi;function oc(){return Zi||(Zi=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(o,p,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(p,i);(!s||("get"in s?!p.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return p[i]}}),Object.defineProperty(o,a,s)}:function(o,p,i,a){a===void 0&&(a=i),o[a]=p[i]}),r=Ae&&Ae.__exportStar||function(o,p){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(p,i)&&e(p,o,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(ic(),t),r(sc(),t)}(Kn)),Kn}var po={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});(function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(o,p,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(p,i);(!s||("get"in s?!p.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return p[i]}}),Object.defineProperty(o,a,s)}:function(o,p,i,a){a===void 0&&(a=i),o[a]=p[i]}),r=Ae&&Ae.__exportStar||function(o,p){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(p,i)&&e(p,o,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(bo,t)})(po);var Ji;function Qr(){return Ji||(Ji=1,function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(i,a,s,M){M===void 0&&(M=s);var A=Object.getOwnPropertyDescriptor(a,s);(!A||("get"in A?!a.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,M,A)}:function(i,a,s,M){M===void 0&&(M=s),i[M]=a[s]}),r=Ae&&Ae.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),o=Ae&&Ae.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)},p=Ae&&Ae.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&e(a,i,s);return r(a,i),a};Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.web3=void 0,BigInt.prototype.toJSON=function(){return this.toString()},o(Yr(),t),o(tc(),t),o(nc(),t),o(pt(),t),o(oc(),t),o(po,t),o(_n,t),t.web3=p(co()),t.utils=p(pt())}(Tn)),Tn}var Xi=Qr();const Yi=(t,e)=>{const[r,o]=qt.useState(localStorage.getItem(t)||e);return qt.useEffect(()=>{localStorage.setItem(t,r)},[t,r]),[r,o]},ac=["testnet","mainnet"],pi=qt.createContext({client:void 0,networkType:"mainnet",currentTheme:"light",switchTheme:()=>null,snackbarMessage:void 0,setSnackbarMessage:()=>null,timestampPrecisionMode:"off",setTimestampPrecisionMode:()=>null}),fc=({children:t})=>{const[e,r]=Yi("theme","light"),[o,p]=qt.useState(),[i,a]=qt.useState("mainnet"),[s,M]=qt.useState(),[A,I]=Yi("timestampPrecisionMode","off");return qt.useEffect(()=>{let R=window.VITE_BACKEND_URL,Y=window.VITE_NETWORK_TYPE;if(R||(R="https://testnet-backend.alephium.org",Y="testnet",console.info(`
        • DEVELOPMENT MODE •

        Using local env. variables if available.
        You can set them using a .env file placed at the project's root.

        - Backend URL: ${R}
        - Network Type: ${Y}
      `)),!R)throw new Error("The VITE_BACKEND_URL environment variable must be defined");if(Y){if(!ac.includes(Y))throw new Error("Value of the VITE_NETWORK_TYPE environment variable is invalid")}else throw new Error("The VITE_NETWORK_TYPE environment variable must be defined");try{p(new Xi.ExplorerProvider(R,void 0,Xi.throttledFetch(5)))}catch{throw new Error("Could not create explorer client")}a(Y)},[]),qt.useEffect(()=>{s&&(!s.duration||s.duration>0)&&setTimeout(()=>M(void 0),s.duration||3e3)},[s]),vo.jsx(pi.Provider,{value:{client:o,networkType:i,currentTheme:e,switchTheme:r,snackbarMessage:s,setSnackbarMessage:M,timestampPrecisionMode:A,setTimestampPrecisionMode:I},children:t})},cc=()=>qt.useContext(pi),dc=Object.freeze(Object.defineProperty({__proto__:null,GlobalContext:pi,GlobalContextProvider:fc,useGlobalContext:cc},Symbol.toStringTag,{value:"Module"}));export{dc as g,Xi as s,cc as u};
