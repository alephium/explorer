{"version":3,"sources":["images/block-icon.svg","images/transaction-icon.svg","images/explorer-logo-light.svg","images/explorer-logo-dark.svg","images/address-icon.svg","style/themes.ts","style/globalStyles.ts","serviceWorker.js","components/ThemeSwitcher.tsx","components/Sidebar.tsx","hooks/useWindowSize.ts","components/SearchBar.tsx","components/PageTitle.tsx","utils/client.ts","utils/util.tsx","components/LoadingSpinner.tsx","components/RefreshTimer.tsx","components/Tooltip.tsx","components/Section.tsx","components/Table.tsx","components/Buttons.tsx","components/Amount.tsx","components/Links.tsx","sections/BlockSection.tsx","components/Badge.tsx","hooks/useTableDetailsState.ts","sections/BlockInfoSection.tsx","sections/TransactionInfoSection.tsx","sections/AddressInfoSection.tsx","index.tsx"],"names":["module","exports","darkTheme","name","body","textPrimary","textSecondary","textAccent","link","linkHighlight","bgPrimary","bgSecondary","bgHighlight","borderPrimary","borderHighlight","tooltip","lightTheme","GlobalStyle","createGlobalStyle","normalize","theme","deviceSizes","deviceBreakPoints","mobile","desktop","Boolean","window","location","hostname","match","getButtonColor","buttonTheme","toggleVariants","light","left","backgroundColor","dark","toggleWidth","Toggle","styled","div","ToggleContent","ToggleIcon","ToggleFloatingIndicator","motion","ThemeSwitcher","currentTheme","switchTheme","onClick","color","size","variants","animate","transition","duration","type","Logo","img","HamburgerButton","Backdrop","SidebarContainer","open","Header","header","Tabs","Tab","NavLink","TabIcon","Sidebar","useTheme","windowWidth","useState","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","lastWindowWidth","useRef","setOpen","current","alt","src","logoLight","logoDark","to","blockIcon","addressIcon","transactionIcon","opacity","exit","initial","Container","SearchIcon","Search","SearchInput","input","SearchBar","active","setActive","placeholder","TitleWrapper","Title","h1","Surtitle","h2","Subtitle","SecondaryTitle","PageTitle","title","surtitle","subtitle","AlephClient","url","fetchAPI","this","path","a","fetch","resp","json","id","fromTs","toTs","MONEY_SYMBOL","abbreviateAmount","num","isNeg","tier","Math","log10","Number","suffix","scaled","pow","dec","calcDec","trunc","truncateToDecimals","ScrollToTop","getScrollContainer","pathname","useLocation","scrollTo","useInterval","callback","delay","shouldPause","savedCallback","setInterval","clearInterval","Spinner","Loader","LoadingSpinner","Timer","span","RefreshTimer","lastRefreshTimestamp","isLoading","timeLeft","setTimeLeft","round","Date","now","Tooltip","rebuildTooltips","ReactTooltip","rebuild","SectionContext","React","createContext","Section","children","Provider","value","Table","props","TableWrapper","StyledTable","TableHeader","headerTitles","columnWidths","compact","transparent","StyledTableHeader","map","v","i","key","style","Row","tr","isActive","OpenConditionContext","DetailsRow","openCondition","useContext","className","AnimatedCell","colSpan","condition","AnimatedCellContainer","closed","rotate","DetailToggle","isOpen","padding","textAlign","overflow","DetailToggleWrapper","HighlightedCell","StyledHighlightedCell","table","bodyOnly","main","css","hasDetails","noBorder","thead","TableBody","tbody","tdStyles","s","tdPos","td","TextButton","StyledTextButton","button","Amount","toString","TightLink","maxWidth","text","display","StyledLink","data-tip","AddressLink","address","txHashRef","amount","AddressWrapper","OutputValue","TxLink","Link","dayjs","extend","relativeTime","Content","TableBodyCustomStyles","BlockIcon","LoadMore","BlockSection","from","subtract","fetchTs","setFetchTs","displayFromTs","setDisplayFromTs","blocks","setBlocks","loading","setLoading","lastPollingTime","setLastPollingTime","client","APIContext","console","log","format","valueOf","fetchedBlocks","length","prev","_","unionBy","sort","b","timestamp","getBlocks","useCallback","add","loadMore","previousDisplayFromTs","newDisplayFromTs","filter","isAfter","hash","transactions","chainFrom","chainTo","Badge","content","prefix","parseFloat","getBadgeColor","badgeType","useTableDetailsState","defaultState","detailOpen","setDetailOpen","toggleDetail","TransactionRow","t","transaction","TransactionIcon","inputs","outputs","reduce","acc","o","BlockTableBodyCustomStyles","TXTableBodyCustomStyles","BlockInfoSection","useParams","blockInfo","setBlockInfo","block","status","detail","TransactionInfoSection","txInfo","setTxInfo","spent","AddressTransactionRow","isOut","findIndex","uniq","output","AddressTableBodyCustomStyles","addressInfo","setAddressInfo","balance","t1","t2","App","localStorageKey","defaultValue","localStorage","getItem","setValue","setItem","useStateWithLocalStorage","setTheme","setClient","contentRef","getContentRef","params","URLSearchParams","search","process","createClient","get","MainContainer","ContentWrapper","ref","SectionWrapper","exact","AddressInfoSection","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1cef23b3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/block-icon.682b8cf6.svg\";","module.exports = __webpack_public_path__ + \"static/media/transaction-icon.4452d13c.svg\";","module.exports = __webpack_public_path__ + \"static/media/explorer-logo-light.28afe50a.svg\";","module.exports = __webpack_public_path__ + \"static/media/explorer-logo-dark.fc3855bd.svg\";","module.exports = __webpack_public_path__ + \"static/media/address-icon.c970ba50.svg\";","import { DefaultTheme } from \"styled-components\"\n\nexport type ThemeType = 'light' | 'dark'\n\nexport const darkTheme: DefaultTheme = {\n  name: 'dark',\n  body: '#212126',\n\n  textPrimary: 'rgba(255, 255, 255, 0.8)',\n  textSecondary: 'rgba(255, 255, 255, 0.35)',\n  textAccent: '#FFD036',\n\n  link: '#53A9F5',\n  linkHighlight: '#0E82E7',\n\n  bgPrimary: '#212126',\n  bgSecondary: '#18191C',\n  bgHighlight: 'rgba(0, 0, 0, 0.1)',\n\n  borderPrimary: '#34353A',\n  borderHighlight: '#585962',\n\n  tooltip: 'black',\n}\n\nexport const lightTheme: DefaultTheme = {\n  name: 'light',\n  body: 'white',\n  \n  textPrimary: 'rgba(15, 15, 15, 0.95)',\n  textSecondary: 'rgba(15, 15, 15, 0.50)',\n  textAccent: '#FF7B03',\n\n  link: '#0E82E7',\n  linkHighlight: '#53A9F5',\n\n  bgPrimary: 'white',\n  bgSecondary: '#FAFAFA',\n  bgHighlight: 'rgba(0, 0, 0, 0.02)',\n\n  borderPrimary: '#F2F2F3',\n  borderHighlight: '#D1D1D4',\n\n  tooltip: 'black',\n}\n\n","import { createGlobalStyle } from 'styled-components'\nimport normalize from 'styled-normalize'\n\nconst GlobalStyle = createGlobalStyle`\n  ${normalize}\n\n  body {\n    background-color: ${({ theme }) => theme.body};\n    transition: background-color 0.2s ease;\n\n    color: ${({ theme }) => theme.textPrimary};\n  }\n\n  a {\n    color: ${({ theme }) => theme.link};;\n    cursor: pointer;\n\n    &:hover {\n      color: ${({ theme }) => theme.linkHighlight};;\n    }\n  }\n\n  // Animations\n  @keyframes spin {\n    from {\n        transform:rotate(0deg);\n    }\n    to {\n        transform:rotate(360deg);\n    }\n  }\n`\n\n// Breakpoints\n\nexport const deviceSizes = {\n  mobile: 1024,\n  desktop: 1920\n}\n\nexport const deviceBreakPoints = {\n  mobile: `(max-width: ${deviceSizes.mobile}px)`,\n  desktop: `(max-width: ${deviceSizes.desktop}px)`,\n};\n\nexport default GlobalStyle","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react'\nimport styled from 'styled-components'\nimport { Moon, Sun } from 'react-feather'\nimport { ThemeType } from '../style/themes'\nimport { motion } from 'framer-motion'\n\ninterface ThemeSwitcherProps {\n  currentTheme: ThemeType\n  switchTheme: (arg0: ThemeType) => void\n}\n\nconst getButtonColor = (theme: ThemeType, buttonTheme: string) => {\n  return theme === buttonTheme \n    ? (theme === 'dark' ? '#F6C76A' : 'white')\n    : '#646775'\n}\n\nconst toggleWidth = 70\nconst toggleHeight = 35\nconst toggleIndicatorSize = toggleWidth / 2\n\nconst toggleVariants = {\n  light: { left: 0, backgroundColor: '#F6C76A' },\n  dark: { left: toggleWidth - toggleIndicatorSize, backgroundColor: '#3A0595' },\n}\n\nconst ThemeSwitcher: React.FC<ThemeSwitcherProps> = ({ currentTheme, switchTheme }) => (\n  <Toggle onClick={() => switchTheme(currentTheme === 'light' ? 'dark' : 'light')}>\n    <ToggleContent>\n      <ToggleIcon><Sun onClick={() => switchTheme('light')} color={getButtonColor(currentTheme, 'light')} size={18} /></ToggleIcon>\n      <ToggleIcon><Moon onClick={() => switchTheme('dark')} color={getButtonColor(currentTheme, 'dark')} size={18} /></ToggleIcon>\n    </ToggleContent>\n    <ToggleFloatingIndicator variants={toggleVariants} animate={currentTheme} transition={{duration: 0.5, type: 'spring'}}/>\n  </Toggle>\n)\n\nconst Toggle = styled.div`\n  position: absolute;\n  width: ${toggleWidth}px;\n  height: ${toggleHeight}px;\n  top: 20px;\n  right: 5vw;\n  border: 2px solid ${({ theme }) => theme.borderPrimary };\n  border-radius: 60px;\n  background-color: ${({ theme }) => theme.bgSecondary};\n  cursor: pointer;\n  box-sizing: content-box;\n\n  svg {\n    cursor: pointer;\n  }\n`\n\nconst ToggleContent = styled.div`\n  position: absolute;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  z-index: 1;\n`\n\nconst ToggleIcon = styled.div`\n  display: flex;\n  flex: 1;\n\n  * {\n    margin: auto;\n  }\n`\n\nconst ToggleFloatingIndicator = styled(motion.div)`\n  position: absolute;\n  width: ${toggleIndicatorSize}px;\n  height: ${toggleIndicatorSize}px;\n  background-color: ${({theme}) => theme.textPrimary };\n  border-radius: 60px;\n  z-index: 0;\n`\n\nexport default ThemeSwitcher","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { NavLink } from 'react-router-dom'\nimport styled, { useTheme } from 'styled-components'\n\nimport logoLight from '../images/explorer-logo-light.svg'\nimport logoDark from '../images/explorer-logo-dark.svg'\nimport blockIcon from '../images/block-icon.svg'\nimport addressIcon from '../images/address-icon.svg'\nimport transactionIcon from '../images/transaction-icon.svg'\nimport { deviceBreakPoints, deviceSizes } from '../style/globalStyles';\nimport { Menu, X } from 'react-feather';\nimport { useWindowSize } from '../hooks/useWindowSize';\nimport { AnimatePresence, motion } from 'framer-motion';\n\n\nconst Sidebar = () => {\n  const theme = useTheme()\n  const windowWidth = useWindowSize().width\n  const lastWindowWidth = useRef(windowWidth)\n  const [open, setOpen] = useState(false)\n\n  useEffect(() => {\n    if (windowWidth) {\n\n      if (lastWindowWidth.current && lastWindowWidth.current >= deviceSizes.mobile && windowWidth < deviceSizes.mobile && open) {\n        setOpen(false)\n      }\n  \n      lastWindowWidth.current = windowWidth\n    }\n\n  }, [open, windowWidth])\n\n  return (\n    <>\n      <HamburgerButton onClick={() => setOpen(!open)}>\n        {open ? <X /> : <Menu />}\n      </ HamburgerButton>\n      <SidebarContainer open={open}>\n        <Header>\n          <Logo alt=\"alephium\" src={theme.name === 'light' ? logoLight : logoDark } />\n        </Header>\n        <Tabs>\n          <Tab to=\"/blocks\" onClick={() => setOpen(false)}><TabIcon src={blockIcon} alt=\"blocks\" /> Blocks</Tab>\n          <Tab to=\"/addresses\" onClick={() => setOpen(false)}><TabIcon src={addressIcon} alt=\"addresses\" /> Addresses</Tab> \n          <Tab to=\"/transactions\" onClick={() => setOpen(false)}><TabIcon src={transactionIcon} alt=\"transactions\" /> Transactions</Tab>\n        </Tabs>\n      </SidebarContainer>\n      <AnimatePresence>{open && <Backdrop onClick={() => setOpen(false)} animate={{ opacity: 0.4 }} exit={{ opacity: 0 }} initial={{ opacity: 0 }} transition={{ duration: 0.15 }} />}</AnimatePresence>\n    </>\n  );\n}\n\n\n/* STYLES */\n\nconst Logo = styled.img`\n  height: 100px;\n  width: 150px;\n\n  @media ${deviceBreakPoints.mobile} { \n    margin-left: 45px;\n    width: 125px;\n  }\n`\n\nconst HamburgerButton = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 20px;\n  display: none;\n  z-index: 200;\n\n  @media ${deviceBreakPoints.mobile} { \n    display: block;\n    cursor: pointer;\n  }\n`\n\nconst Backdrop = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: black;\n  z-index: 99;\n`\n\ninterface SidebarContainerProps {\n  open: boolean\n}\n\nconst SidebarContainer = styled.div<SidebarContainerProps>`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 300px;\n  padding: 0 20px;\n  background-color: ${( { theme }) => theme.bgSecondary };\n  border-right: 2px solid ${( { theme }) => theme.borderPrimary };\n\n  @media ${deviceBreakPoints.mobile} { \n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    z-index: 100;\n    width: 250px;\n\n    transition: all 0.15s ease-out;\n    transform: ${ ({open}) => !open ? 'translateX(-100%)': '' }\n  }\n`\n\nconst Header = styled.header`\n  display: flex;\n  align-items: center;\n`\n\nconst Tabs = styled.div`\n  margin-top: 5vw;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Tab = styled(NavLink)`\n  font-size: 1.2rem;\n  font-weight: 600;\n  cursor: pointer;\n  margin-bottom: 25px;\n  display: flex;\n  align-items: center;\n  transition: all 0.15s ease;\n  position: relative;\n\n  color: ${( { theme }) => theme.textSecondary };\n  &.active {\n    color: ${( { theme }) => theme.textPrimary };\n\n    img {\n      filter: none;\n    }\n\n    &::after {\n      content: \"\";\n      display: block;\n      width: 20px;\n      height: 3px;\n      position: absolute;\n      left: 40px;\n      bottom: -6px;\n      background: linear-gradient(to left, #6510F7, #F76110) border-box;\n    }\n  }\n  &:hover {\n    color: ${({ theme }) => theme.textPrimary};\n  }\n`\n\nconst TabIcon = styled.img`\n  height: 25px;\n  width: 25px;\n  margin-right: 15px; \n  filter: grayscale(100%);\n`\n\nexport default Sidebar\n","import { useState, useEffect } from 'react';\n\nexport function useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<{width: undefined | number, height: undefined | number}>({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    \n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    \n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    \n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport { motion } from 'framer-motion'\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Search } from 'react-feather'\n\nconst SearchBar = () => {\n \n const [active, setActive] = useState(false)\n\n const handleInputClick = () => setActive(true)\n const handleBackdropClick = () => setActive(false)\n\n return (\n  <Container>\n    <div>\n      <SearchInput onClick={handleInputClick} placeholder=\"Search for an address or a tx...\"/>\n      <SearchIcon />\n    </div>\n    {active && <Backdrop onClick={handleBackdropClick} animate={{ opacity: 1 }} transition={{ duration: 0.15 }}/>}\n  </Container>\n )\n}\n\nconst Container = styled.div`\n  position: relative;\n`\n\nconst SearchIcon = styled(Search)`\n  color: ${({theme}) => theme.textPrimary};\n  position: absolute;\n  right: 20px;\n  top: 12px;\n  z-index: 11;\n`\n\nconst SearchInput = styled.input`\n  position: absolute;\n  width: 100%;\n  height: 50px;\n  border-radius: 30px;\n  padding: 0 20px;\n  color: ${({theme}) => theme.textPrimary};\n  background: ${({theme}) => theme.bgSecondary};\n  border: 2px solid ${({theme}) => theme.borderPrimary};\n  transition: all 0.15s ease-out;\n\n  &:hover {\n    border: 2px solid ${({theme}) => theme.borderHighlight};\n  }\n\n  &:focus, &:active {\n    box-shadow: 0 15px 15px rgba(0, 0, 0, 0.15);\n    background: \n      linear-gradient(${({theme}) => `${theme.bgSecondary}, ${theme.bgSecondary}`}) padding-box, /*this is your grey background*/\n      linear-gradient(to right, #6510F7, #F76110) border-box;\n    border: 2px solid transparent;\n    z-index: 10;\n  }\n`\n\nconst Backdrop = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 9;\n  opacity: 0;\n`\n\nexport default SearchBar","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react'\nimport styled from 'styled-components'\n\n\ninterface PageTitleProps {\n  title: string\n  surtitle?: string | JSX.Element\n  subtitle?: string | JSX.Element\n}\n\nconst PageTitle: React.FC<PageTitleProps> = ({ title, surtitle, subtitle }) => (\n  <TitleWrapper>\n    {surtitle && <Surtitle>{surtitle}</Surtitle>}\n    <Title>\n      {title}\n    </Title>\n    {subtitle && <Subtitle>{subtitle}</Subtitle>}\n  </TitleWrapper>\n)\n\nconst TitleWrapper = styled.div`\n  margin-bottom: 40px;\n`\n\nconst Title = styled.h1`\n  font-family: 'Poppins';\n  font-weight: bold;\n  font-size: 3.5rem;\n  color: ${({ theme }) => theme.textPrimary };\n  margin: 0 0 5px 0;\n`\n\nconst Surtitle = styled.h2`\n  font-family: 'Poppins';\n  font-weight: 500;\n  font-size: 1.8rem;\n  color: ${({ theme }) => theme.textSecondary };\n  margin-bottom: 0;\n  overflow: hidden;\n`\n\nconst Subtitle = styled.h2`\n  font-family: 'Poppins';\n  font-weight: 500;\n  font-size: 1.8rem;\n  color: ${({ theme }) => theme.textSecondary };\n  margin: 0;\n`\n\nexport const SecondaryTitle = styled.h2`\n  margin-top: 40px;\n`\n\nexport default PageTitle","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport { Block, Transaction, Address } from \"../types/api\";\n\nexport interface APIError {\n  status: number\n  detail: string\n}\n\nexport class AlephClient {\n  url: string\n  fetchAPI: <T>(path: string) => Promise<T & APIError>\n\n  constructor(url: string) {\n    this.url = url\n    this.fetchAPI = async function <T>(path: string) {\n      const resp = await fetch(url + path)\n      return await resp.json() as Promise<T>\n    }\n  }\n\n  async block(id: string) {\n    return await this.fetchAPI<Block>('/blocks/' + id);\n  }\n\n  async blocks(fromTs: number, toTs: number) {\n    return await this.fetchAPI<Block[]>('/blocks?fromTs=' + fromTs + '&toTs=' + toTs);\n  }\n\n  async address(id: string) {\n    return await this.fetchAPI<Address>('/addresses/' + id);\n  }\n\n  async transaction(id: string) {\n    return await this.fetchAPI<Transaction>('/transactions/' + id);\n  }\n}\n","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport { AlephClient } from \"./client\";\nimport { useEffect, useRef } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { FC } from \"react\";\n\n// ==== API\n\nexport function createClient(url: any) {\n  if (!url) { url = process.env.REACT_APP_ALEPHIUM_HOST; }\n  if (!url) { url = 'http://localhost:9090'; }\n  const client = new AlephClient(url);\n\n  console.log('Connecting to: ' + client.url);\n\n  return client;\n}\n\n// ==== MATHS\n\nvar MONEY_SYMBOL = [\"\", \"k\", \"M\", \"B\", \"T\", \"q\", \"Q\"];\n\nexport const truncateToDecimals = (num: number, dec = 2) => {\n  const calcDec = Math.pow(10, dec);\n  return Math.trunc(num * calcDec) / calcDec;\n}\n\nexport const abbreviateAmount = (num: number) => {\n  const isNeg = num < 0\n  if (isNeg) num = num * -1\n\n  \n  // what tier? (determines SI symbol)\n  let tier = Math.log10(Number(num)) / 3 | 0\n\n  \n  // if zero, we don't need a suffix\n  if(tier <= 0) return num\n  if(tier > 6) tier = 6\n  \n  // get suffix and determine scale\n  const suffix = MONEY_SYMBOL[tier]\n  const scale = Math.pow(10, tier * 3)\n\n  // scale the bigNum\n  let scaled = num / scale\n\n  // format bigNum and add suffix\n  if (isNeg) scaled = scaled * -1\n  \n  return truncateToDecimals(scaled, 2) + suffix\n}\n\nexport const createRandomId = () => Math.random().toString(36).substring(7)\n\n// ==== ROUTING\n\ninterface ScrollToTopProps {\n  getScrollContainer: () => (HTMLElement | null)\n}\n\nexport const ScrollToTop: FC<ScrollToTopProps> = ({ getScrollContainer }) => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    getScrollContainer()?.scrollTo(0, 0);\n  }, [getScrollContainer, pathname]);\n\n  return null;\n}\n\n\n// ==== MISC\n\nexport function useInterval(callback: () => any, delay: number, shouldPause = false) {\n  const savedCallback = useRef(() => null);\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null && !shouldPause) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay, shouldPause]);\n}\n","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React from 'react'\nimport { Loader } from 'react-feather'\nimport styled from 'styled-components'\n\ninterface LoadingSpinnerProps {\n  size?: number;\n}\n\nconst LoadingSpinner: React.FC<LoadingSpinnerProps> = ({ size }) => (\n  <Spinner size={size} />\n)\n\nconst Spinner = styled(Loader)`\n  animation: spin 1s infinite;\n`\n\nexport default LoadingSpinner","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\n\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { useInterval } from '../utils/util'\nimport LoadingSpinner from './LoadingSpinner'\n\ninterface RefreshTimerProps {\n  lastRefreshTimestamp: number,\n  delay: number,\n  isLoading: boolean\n}\n\nconst RefreshTimer: React.FC<RefreshTimerProps> = ({ lastRefreshTimestamp, delay, isLoading }) => {\n  const [timeLeft, setTimeLeft] = useState(delay/1000)\n  \n  const updateTimeLeft = () => setTimeLeft(Math.round((lastRefreshTimestamp + delay - Date.now())/1000))\n  useInterval(updateTimeLeft, 1000)\n\n  return (\n    isLoading || timeLeft <= 0 ? <Timer><LoadingSpinner size={14} />Loading...</Timer>\n    : <Timer>Refreshing in {timeLeft}s...</Timer>\n  )\n}\n\nconst Timer = styled.span`\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n\n  svg {\n    margin-right: 5px;\n  }\n`\nexport default RefreshTimer","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { FC } from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport { useTheme } from 'styled-components'\n\ninterface TooltipProps {\n  id?: string\n}\n\nconst Tooltip: FC<TooltipProps> = ({ id }) => {\n  const theme = useTheme()\n\n  return (\n    <ReactTooltip backgroundColor={theme.tooltip} id={id} />\n  )\n}\n\n\nexport default Tooltip","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useEffect } from 'react'\nimport { FC } from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport Tooltip from './Tooltip'\n\nconst rebuildTooltips = () => {\n  ReactTooltip.rebuild()\n}\n\ninterface SectionContextType {\n  rebuildTooltips: () => void\n}\n\nexport const SectionContext = React.createContext<SectionContextType>({ rebuildTooltips: rebuildTooltips })\n\nconst Section: FC = ({ children }) => {\n  useEffect(() => {\n    rebuildTooltips()\n  })\n\n  return (\n    <section>\n      <SectionContext.Provider value={{ rebuildTooltips }}>\n        <Tooltip />\n        {children}\n      </SectionContext.Provider>\n    </section>\n  )\n}\n\nexport default Section","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport { AnimatePresence, motion } from 'framer-motion'\nimport React, { createContext, FC, useContext, useEffect } from 'react'\nimport { ChevronDown } from 'react-feather'\nimport styled, { css, DefaultTheme, FlattenInterpolation, ThemeProps } from 'styled-components'\nimport { SectionContext } from './Section'\nimport MiddleEllipsis from 'react-middle-ellipsis'\n\ninterface TableProps {\n  main?: boolean\n  hasDetails?: boolean\n  noBorder?: boolean\n  bodyOnly?: boolean\n}\n\nexport const Table: FC<TableProps> = ({ children, ...props }) => (\n  <TableWrapper>\n    <StyledTable {...props}>\n      {children}\n    </StyledTable>\n  </TableWrapper>\n)\n\ninterface TableHeaderProps {\n  headerTitles: string[]\n  columnWidths?: string[]\n  compact?: boolean\n  transparent?: boolean\n}\n\n\nexport const TableHeader: React.FC<TableHeaderProps> = ({ headerTitles, columnWidths, compact = false, transparent = false }) => (\n  <StyledTableHeader compact={compact} transparent={transparent}>\n    <tr>\n      {headerTitles.map((v, i) => <th key={i} style={{ width: columnWidths ? columnWidths[i] || 'auto' : 'auto'}}>{v}</th>)}\n    </tr>\n  </StyledTableHeader>\n)\n\n// == Row \n\ninterface RowProps {\n  isActive?: boolean\n}\n\nexport const Row = styled.tr<RowProps>`\n  background-color: ${({ theme, isActive }) => isActive ? theme.bgHighlight : '' };\n  border: none;\n`\n\n// == Details Row \n\ninterface DetailsRowProps {\n  openCondition: boolean\n}\n\nconst OpenConditionContext = createContext(false)\n\nexport const DetailsRow: FC<DetailsRowProps> = ({ children, openCondition }) => {\n  const rebuildTooltips = useContext(SectionContext).rebuildTooltips\n  useEffect(() => rebuildTooltips()) // Need to rebuild after lazy rendering\n\n  return (\n  <OpenConditionContext.Provider value={openCondition}>\n    <tr className=\"details\">\n      {children}\n    </tr>\n  </OpenConditionContext.Provider>\n  )\n}\n\ninterface AnimatedCellProps {\n  className?: string\n  colSpan?: number\n}\n\nexport const AnimatedCell: FC<AnimatedCellProps> = ({ children, className, colSpan }) => {\n  const condition = useContext(OpenConditionContext)\n\n  return (\n    <td colSpan={colSpan}>\n      <AnimatePresence>\n        {condition &&\n        <motion.div initial={{ height: 0 }} animate={{ height: 'auto' }} exit={{ height: 0 }} transition={{ duration: 0.15 }} className={className} >\n          <AnimatedCellContainer>\n            { children }\n          </AnimatedCellContainer>\n        </motion.div>\n        }\n      </AnimatePresence>\n    </td>\n  )\n}\n\n// == Details Toggle\n\nconst variants = {\n  closed: { rotate: 0 },\n  open: { rotate: 180 },\n}\n\ninterface DetailToggleProps {\n  isOpen: boolean\n  onClick: () => void\n}\n\nexport const DetailToggle: FC<DetailToggleProps> = ({ isOpen, onClick }) => {\n  return (\n    <td style={{ padding: 0, textAlign: 'center', overflow: 'hidden' }}>\n      <DetailToggleWrapper animate={isOpen ? 'open' : 'closed' } variants={variants} onClick={onClick} >\n        <ChevronDown size={20} />\n      </DetailToggleWrapper>\n    </td>\n  )\n}\n\nconst DetailToggleWrapper = styled(motion.div)`\n  cursor: pointer;\n`\n\n// == Highlighted cell (address, hash...)\n\nexport const HighlightedCell: FC = ({ children }) => {\n  return (\n    <StyledHighlightedCell>\n      <MiddleEllipsis>\n        <span>{children}</span>\n      </MiddleEllipsis>\n    </StyledHighlightedCell>\n  )\n}\n\n// === \n// === Styles ====\n// === \n\nconst TableWrapper = styled.div<TableProps>`\n  overflow-x: auto;\n`\n\nconst StyledTable = styled.table<TableProps>`\n  width: 100%;\n  text-align: left;\n  border-collapse: collapse; \n  table-layout: fixed;\n  vertical-align: middle;\n\n  ${({ bodyOnly, main }) => (!bodyOnly && main ? css`\n    min-width: 700px;\n  ` : '')}\n\n  td:nth-child(1) {\n    width: ${({ bodyOnly }) => bodyOnly ? '30%' : 'auto'}\n  }\n\n  tr:not(.details) td, th {\n    padding: 10px 5px;\n  }\n\n  svg {\n    vertical-align: middle;\n  }\n\n  tbody {\n    tr {\n      border-bottom: ${({ hasDetails, noBorder, theme }) => !hasDetails ? (noBorder ? 'none' : `2px solid ${theme.borderPrimary}`) : ''};\n    }\n\n    tr.details {\n      border-bottom: 2px solid ${({ theme }) => theme.borderPrimary};\n      background-color: ${({ theme }) => theme.bgHighlight};\n\n      td {\n        padding-top: 0;\n        padding-bottom: 0;\n      }\n    }\n  }\n`\n\ninterface StyledTableHeaderProps {\n  compact: boolean\n  transparent: boolean\n}\n\nexport const StyledTableHeader = styled.thead<StyledTableHeaderProps>`\n  font-weight: 400;\n  color: ${({theme}) => theme.textSecondary};\n  font-style: italic;\n\n  th {\n    position: sticky;\n    top: 0;\n    background-color: ${({theme, transparent}) => transparent ? 'transparent' : `${theme.bgPrimary}`};\n  }\n\n  tr {\n    height: ${({compact}) => compact ? '30px' : '60px'};\n  }\n`\n\nexport interface TDStyle {\n  tdPos: number\n  style: FlattenInterpolation<ThemeProps<DefaultTheme>>\n}\n\nexport interface TableBopyProps {\n  tdStyles?: TDStyle[]\n}\n\nexport const TableBody = styled.tbody<TableBopyProps>`\n  color: ${({theme}) => theme.textPrimary};\n  \n  &>tr {\n    ${props => props.tdStyles ? props.tdStyles.map(s => css`&>td:nth-child(${s.tdPos}) { ${s.style} }`) : ''}\n    \n    &.details div {\n      overflow: hidden;\n    }\n\n    &:hover td {\n      background-color: ${({ theme }) => theme.bgHighlight};\n    }\n  }\n`\n\nconst StyledHighlightedCell = styled.td`\n  font-weight: 600 !important;\n  color: ${({ theme }) => theme.textAccent };\n`\n\nexport const AnimatedCellContainer = styled(motion.div)`\n  padding: 10px 0;\n  text-align: left;\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n`","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { FC } from 'react'\nimport styled from 'styled-components'\n\n\nexport const TextButton: FC<React.ButtonHTMLAttributes<HTMLButtonElement>> = ({ children, ...props }) => (\n  <StyledTextButton {...props}>\n    { children }\n  </StyledTextButton>\n)\n\nconst StyledTextButton = styled.button`\n  background: transparent;\n  font-size: inherit;\n  color: ${({theme}) => theme.link};\n  display: flex;\n  align-items: center;\n  padding: 0;\n  border: 0;\n\n  &:hover {\n    color: ${({theme}) => theme.linkHighlight};\n  }\n`","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\nimport React, { FC } from 'react'\nimport { abbreviateAmount } from '../utils/util'\n\ninterface AmountProps {\n  value: number | undefined\n  className?: string\n}\n\nconst Amount: FC<AmountProps> = ({ value, className }) => {\n  if (value) {\n    return <span className={className}>{abbreviateAmount(value).toString()} </span>\n  } else {\n    return null\n  }\n}\n\nexport default Amount","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { FC } from 'react'\nimport { ExternalLink } from 'react-feather'\nimport { Link, LinkProps } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Amount from './Amount'\nimport MiddleEllipisis from 'react-middle-ellipsis'\n\ninterface TightLinkProps extends LinkProps {\n  maxWidth: string\n  text: string\n}\n\nexport const TightLink: React.FC<TightLinkProps> = ({maxWidth, text, ...props}) => {\n  return (\n    <div style={{ maxWidth: maxWidth, display: 'flex', overflow: 'hidden' }}>\n      <MiddleEllipisis><StyledLink {...props} data-tip={text}>{text}</StyledLink></MiddleEllipisis>\n    </div>\n  )\n}\n\ninterface AddressLinkProps {\n  maxWidth?: string\n  address: string\n  txHashRef?: string\n  amount?: number\n}\n\nexport const AddressLink: FC<AddressLinkProps> = ({ maxWidth = 'auto', address, txHashRef, amount }) => {\n  return (\n    <AddressWrapper>\n      <TightLink to={`/addresses/${address}`} maxWidth={maxWidth} text={address} className=\"ellipseMe\" />\n      {amount && <OutputValue>(<Amount value={amount} />)</OutputValue>}\n      {txHashRef && <TxLink to={`/transactions/${txHashRef}`} data-tip={txHashRef} ><ExternalLink size={12} /></TxLink>}\n    </AddressWrapper>\n  )\n}\n\nconst OutputValue = styled.span`\n  color: ${( {theme} ) => theme.textSecondary };\n  margin-left: 8px;\n`\n\nconst TxLink = styled(Link)`\n  margin-left: 8px;\n`\n\nconst StyledLink = styled(Link)`\n  white-space: nowrap;\n  font-family: 'Inconsolata';\n  font-weight: 600;\n`\n\nconst AddressWrapper = styled.div`\n  padding: 3px 0;\n  display: flex;\n  width: 100%;\n`","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react'\nimport dayjs from 'dayjs'\nimport _ from 'lodash'\nimport styled, { css } from 'styled-components'\nimport PageTitle from '../components/PageTitle'\nimport RefreshTimer from '../components/RefreshTimer'\nimport { Block } from '../types/api'\nimport { useInterval } from '../utils/util'\nimport blockIcon from '../images/block-icon.svg'\nimport { Plus } from 'react-feather'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport LoadingSpinner from '../components/LoadingSpinner'\nimport { APIContext } from '..'\nimport { Table, TableBody, TableHeader, TDStyle } from '../components/Table'\nimport { TextButton } from '../components/Buttons'\nimport { TightLink } from '../components/Links'\nimport Section from '../components/Section'\nimport { motion } from 'framer-motion'\n\ndayjs.extend(relativeTime)\n\nconst BlockSection = () => {\n  const [fetchTs, setFetchTs] = useState({ from: dayjs().subtract(5, 'm'), to: dayjs() })\n  const [displayFromTs, setDisplayFromTs] = useState(dayjs().subtract(5, 'm'))\n  const [blocks, setBlocks] = useState<Block[]>([]) // TODO: define blocks type\n  const [loading, setLoading] = useState(false)\n  const [lastPollingTime, setLastPollingTime] = useState(dayjs())\n\n  let client = useContext(APIContext).client\n\n  // Fetching Data\n  useEffect(() => {\n    const getBlocks = async () => {\n      const to = fetchTs.to\n      const from = fetchTs.from\n\n      console.log('Fetching blocks: ' + from.format() + ' -> ' + to.format() + ' (' + from + ' -> ' + to + ')')\n      \n      setLoading(true)\n      const fetchedBlocks: Block[] = await client.blocks(from.valueOf(), to.valueOf())\n      console.log('Number of block fetched: ' + fetchedBlocks.length)\n      \n      setBlocks(prev => _.unionBy(fetchedBlocks, prev, 'hash').sort((a: Block, b: Block) => b.timestamp - a.timestamp))\n      setLoading(false)\n    }\n\n    getBlocks()\n  }, [client, fetchTs])\n\n  // Polling\n  const fetchData = useCallback(() => {\n    if (blocks.length > 0) {\n      setFetchTs({ from: dayjs(blocks[0].timestamp).add(1), to: dayjs() })\n      setLastPollingTime(dayjs())\n    }\n  }, [blocks])\n\n  useInterval(fetchData, 20 * 1000)\n\n  // Load more\n  const loadMore = useCallback(() => {\n    const previousDisplayFromTs = displayFromTs\n    const newDisplayFromTs = dayjs(displayFromTs).subtract(5, 'm')\n    setDisplayFromTs(newDisplayFromTs)\n    setFetchTs({ from: newDisplayFromTs, to: previousDisplayFromTs })\n  }, [displayFromTs])\n\n  return (\n    <Section>\n      <PageTitle title=\"Blocks\" surtitle=\"Latest\" subtitle={<RefreshTimer lastRefreshTimestamp={lastPollingTime.valueOf()} delay={20 * 1000} isLoading={loading}/>} />\n      <Content>\n        <Table main>\n          <TableHeader headerTitles={['', 'Hash', 'Txn', 'Height', 'Chain index', 'Timestamp']} columnWidths={['50px', '25%', '10%', '10%', '', '20%']} />\n          <TableBody tdStyles={TableBodyCustomStyles}>\n            {blocks.filter(b => dayjs(b.timestamp).isAfter(displayFromTs)).map(b =>\n              <motion.tr key={b.hash} animate={{ opacity: 1 }} initial={{ opacity: 0 }} transition={{ duration: 0.8 }}>\n                <td><BlockIcon src={blockIcon} alt=\"Block\"/></td>\n                <td><TightLink to={`blocks/${b.hash}`} text={b.hash} maxWidth='150px'/></td>\n                <td>{b.transactions.length}</td>\n                <td>{b.height}</td>\n                <td>{b.chainFrom}  {b.chainTo}</td>\n                <td>{dayjs().to(b.timestamp)}</td>\n              </motion.tr>\n            )}\n          </TableBody>\n        </Table>\n        <LoadMore>{loading ? <span><LoadingSpinner size={12} /> Loading...</span> : <TextButton onClick={loadMore}><Plus />Load more...</TextButton>}</LoadMore>\n      </Content>\n    </Section>\n  )\n}\n\nconst Content = styled.div`\n  margin-top: 30px;\n`\n\nconst TableBodyCustomStyles: TDStyle[] = [\n  { \n    tdPos: 1,\n    style: css`\n      text-align: center;\n      text-align: -webkit-center;\n    `\n  },\n  { \n    tdPos: 3,\n    style: css`\n      color: ${({ theme }) => theme.textAccent};\n      font-weight: 600;`\n  },\n  { \n    tdPos: 6,\n    style: css`\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    `\n  }\n]\n\nconst BlockIcon = styled.img`\n  height: 25px;\n  width: 25px;\n`\n\nconst LoadMore = styled.span`\n  display: flex;\n  align-items: center;\n  margin-top: 25px;\n  height: 20px;\n\n  svg {\n    margin-right: 5px;\n  }\n`\n\nexport default BlockSection","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { FC } from 'react'\nimport styled, { DefaultTheme } from 'styled-components'\nimport Amount from './Amount'\n\ntype BadgeType = 'plus' | 'minus' | 'neutral' | 'neutralHighlight'\n\ninterface BadgeProps {\n  type: BadgeType\n  content: string | number | undefined\n  className?: string\n  amount?: boolean\n  prefix?: string\n}\n\nlet Badge: FC<BadgeProps> = ({ content, className, amount, prefix }) => (\n  <div className={className} data-tip={amount ? `${content} ` : null} >\n    {prefix && <span>{prefix}</span>}\n    {\n      amount && content ? <Amount value={parseFloat(content.toString())} />\n      : content\n    }\n  </div>\n)\n\nconst getBadgeColor = (badgeType: BadgeType, theme: DefaultTheme) => {\n  let backgroundColor\n  let color\n\n  switch (badgeType) {\n    case 'plus':\n      backgroundColor = 'rgba(93, 203, 126, 0.12)'\n      color = 'rgba(93, 203, 126, 1)'\n      break\n    case 'minus':\n      backgroundColor = 'rgba(243, 113, 93, 0.1)'\n      color = 'rgba(243, 113, 93, 1)'\n      break\n    case 'neutral':\n      backgroundColor = theme.name === 'dark' ? 'rgba(101, 16, 247, 0.28)' : 'rgba(101, 16, 247, 0.6)'\n      color = theme.name === 'dark' ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 1)'\n      break\n    case 'neutralHighlight':\n      backgroundColor = 'rgba(101, 16, 247, 1)'\n      color = 'rgba(255, 255, 255, 1)'\n  }\n\n  return { backgroundColor, color }\n}\n\nBadge = styled(Badge)`\n  background-color: ${( { type, theme } ) => getBadgeColor(type, theme).backgroundColor};\n  color: ${( { type, theme } ) => getBadgeColor(type, theme).color};\n  text-align: center;\n  padding: 5px 10px;\n  border-radius: 3px;\n  font-weight: 600;\n  float: left;\n  white-space: nowrap;\n`\n\nexport default Badge\n","import { useCallback, useEffect, useState } from \"react\"\nimport { useLocation } from \"react-router-dom\"\n\nconst useTableDetailsState = (defaultState: boolean) => {\n  const [detailOpen, setDetailOpen] = useState(defaultState)\n  \n  const { pathname } = useLocation()\n  \n  useEffect(() => {\n    // Close details when location is changing\n    // TODO: Store state in URL? Careful, can become complex when we'll have paging\n    setDetailOpen(false)\n  }, [pathname])\n  \n  const toggleDetail = useCallback(() => setDetailOpen(!detailOpen), [detailOpen])\n\n  return {detailOpen, setDetailOpen, toggleDetail}\n}\n\nexport default useTableDetailsState","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport dayjs from 'dayjs'\nimport React, { FC, useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport styled, { css } from 'styled-components'\nimport { APIContext } from '..'\nimport PageTitle, { SecondaryTitle } from '../components/PageTitle'\nimport { Table, TableHeader, TDStyle, TableBody, HighlightedCell, AnimatedCell, DetailsRow, Row, DetailToggle } from '../components/Table'\nimport { Block, Transaction } from '../types/api'\nimport transactionIcon from '../images/transaction-icon.svg'\nimport { AddressLink, TightLink } from '../components/Links'\nimport { ArrowRight } from 'react-feather'\nimport Badge from '../components/Badge'\nimport { APIError } from '../utils/client'\nimport Amount from '../components/Amount'\nimport Section from '../components/Section'\nimport useTableDetailsState from '../hooks/useTableDetailsState'\n\ninterface ParamTypes {\n  id: string\n}\n\nconst BlockInfoSection = () => {\n  const { id } = useParams<ParamTypes>()\n  const [blockInfo, setBlockInfo] = useState<Block & APIError>()\n  const client = useContext(APIContext).client\n\n  useEffect(() => {\n    (async () => {\n      setBlockInfo(await client.block(id))\n    })()\n  }, [id, client])\n\n  return (\n    <Section>\n      {!blockInfo?.status ? <>\n      <PageTitle title=\"Block\" />\n      <Table bodyOnly>\n        <TableBody tdStyles={BlockTableBodyCustomStyles}>\n          <tr><td>Hash</td><HighlightedCell>{blockInfo?.hash}</HighlightedCell></tr>\n          <tr><td>Height</td><td>{blockInfo?.height}</td></tr>\n          <tr><td>Chain Index</td><td>{blockInfo?.chainFrom}  {blockInfo?.chainTo}</td></tr>\n          <tr><td>Nb. of transactions</td><td>{blockInfo?.transactions.length}</td></tr>\n          <tr><td>Timestamp</td><td>{dayjs(blockInfo?.timestamp).format('YYYY/MM/DD HH:mm:ss')}</td></tr>\n        </TableBody>\n      </Table>\n      \n      <SecondaryTitle>Transactions</SecondaryTitle>\n      <Table main hasDetails>\n        <TableHeader headerTitles={[ '', 'Hash', 'Inputs', '', 'Outputs', 'Amount', '' ]} columnWidths={ ['50px', '', '15%', '50px', '', '130px', '50px'] }/>\n        <TableBody tdStyles={TXTableBodyCustomStyles}>\n          {blockInfo?.transactions.map((t, i) => (\n            <TransactionRow transaction={t} key={i} />\n          ))}\n        </TableBody>\n      </Table>\n      </> : <span>{blockInfo?.detail}</span>}\n    </Section>\n  )\n}\n\ninterface TransactionRowProps {\n  transaction: Transaction\n}\n\nconst TransactionRow: FC<TransactionRowProps> = ({ transaction }) => {\n  const t = transaction\n  const {detailOpen, toggleDetail} = useTableDetailsState(false)\n\n  return (\n    <>\n      <Row key={t.hash} isActive={detailOpen} >\n        <td><TransactionIcon /></td>\n        <td><TightLink to={`/transactions/${t.hash}`} text={t.hash} maxWidth='150px'/></td>\n        <td>{t.inputs.length} address{t.inputs.length > 1 ? 'es' : ''}</td>\n        <td><ArrowRight size={15} /></td>\n        <td>{t.outputs.length} address{t.outputs.length > 1 ? 'es' : ''}</td>\n        <td><Badge type={'neutral'} content={t.outputs.reduce<number>((acc, o) => (acc + o.amount), 0)} amount /></td>\n        <DetailToggle isOpen={detailOpen} onClick={toggleDetail} />\n      </Row> \n      <DetailsRow openCondition={detailOpen}>\n        <td/>\n        <td/>\n        <AnimatedCell>\n          {t.inputs.map((input, i) => <AddressLink key={i} address={input.address} txHashRef={input.txHashRef} /> )}\n        </AnimatedCell>\n        <td />\n        <AnimatedCell>{t.outputs.map((o, i) => <AddressLink address={o.address} key={i} />)}</AnimatedCell>\n        <AnimatedCell>{t.outputs.map((o, i) => <Amount value={o.amount} key={i} />)}</AnimatedCell>\n        <td />\n      </DetailsRow>      \n    </>\n  )\n}\n\n// TODO: make expandlable elements generic (in Table.tsx)\n\nconst TransactionIcon = styled.div`\n  background-image: url(${transactionIcon});\n  background-position: center;\n  background-repeat: no-repeat;\n  height: 25px;\n  width: 25px;\n`\n\nconst BlockTableBodyCustomStyles: TDStyle[] = [\n  { \n    tdPos: 2,\n    style: css`\n      font-weight: 600;\n    `\n  }\n]\n\nconst TXTableBodyCustomStyles: TDStyle[] = [\n  { \n    tdPos: 1,\n    style: css`\n      text-align: center;\n      text-align: -webkit-center;\n    `\n  },\n  { \n    tdPos: 3,\n    style: css`\n      color: ${({ theme }) => theme.textAccent};\n    `\n  },\n  { \n    tdPos: 4,\n    style: css`\n      text-align: center;\n      color: ${({ theme }) => theme.textSecondary};\n    `\n  },\n  { \n    tdPos: 5,\n    style: css`\n      color: ${({ theme }) => theme.textAccent};\n    `\n  }\n]\n\nexport default BlockInfoSection","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport dayjs from 'dayjs'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { APIContext } from '..'\nimport PageTitle from '../components/PageTitle'\nimport { Transaction } from '../types/api'\nimport { APIError } from '../utils/client'\nimport Badge from '../components/Badge'\nimport { Table, TableBody, HighlightedCell } from '../components/Table'\nimport { AddressLink } from '../components/Links'\nimport Section from '../components/Section'\n\ninterface ParamTypes {\n  id: string\n}\n\nconst TransactionInfoSection = () => {\n  const { id } = useParams<ParamTypes>()\n  const client = useContext(APIContext).client\n  const [txInfo, setTxInfo] = useState<Transaction & APIError>()\n\n  useEffect(() => {\n    (async () =>\n      setTxInfo(await client.transaction(id))\n    )()\n  }, [client, id])\n\n  return (\n    <Section>\n      {!txInfo?.status ? <>\n      <PageTitle title=\"Transaction\" />\n      <Table bodyOnly>\n        <TableBody>\n          <tr><td>Hash</td><HighlightedCell>{txInfo?.hash}</HighlightedCell></tr>\n          <tr><td>Timestamp</td><td>{dayjs(txInfo?.timestamp).format('YYYY/MM/DD HH:mm:ss')}</td></tr>\n          <tr><td>Inputs</td><td>{txInfo?.inputs.map((v, i) => <AddressLink address={v.address} txHashRef={v.txHashRef} key={i} amount={v.amount}/>)}</td></tr>\n          <tr><td>Outputs</td><td>{txInfo?.outputs.map((v, i) => <AddressLink address={v.address} key={i} amount={v.amount} txHashRef={v.spent} /> )}</td></tr>\n          <tr><td><b>Total value</b></td><td><Badge type={'neutral'} content={txInfo?.outputs.reduce<number>((acc, o) => (acc + o.amount), 0)} amount /></td></tr>\n        </TableBody>\n      </Table>\n      </> : <span>{txInfo?.detail}</span>}\n    </Section>\n  )\n}\n\nexport default TransactionInfoSection","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { FC, useContext, useEffect, useState } from 'react'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport { useParams } from 'react-router-dom'\nimport { APIContext } from '..'\nimport PageTitle, { SecondaryTitle } from '../components/PageTitle'\nimport { Address, Transaction } from '../types/api'\nimport { APIError } from '../utils/client'\nimport Badge from '../components/Badge'\nimport { Table, TableBody, HighlightedCell, TableHeader, AnimatedCell, DetailsRow, Row, DetailToggle, TDStyle } from '../components/Table'\nimport { AddressLink, TightLink } from '../components/Links'\nimport { ArrowRight } from 'react-feather'\nimport Section from '../components/Section'\nimport { css } from 'styled-components'\nimport _ from 'lodash'\nimport useTableDetailsState from '../hooks/useTableDetailsState'\n\ndayjs.extend(relativeTime)\n\ninterface ParamTypes {\n  id: string\n}\n\nconst TransactionInfoSection = () => {\n  const { id } = useParams<ParamTypes>()\n  const client = useContext(APIContext).client\n  const [addressInfo, setAddressInfo] = useState<Address & APIError>()\n\n  useEffect(() => {\n    (async () =>\n    setAddressInfo(await client.address(id))\n    )()\n  }, [client, id])\n\n  return (\n    <Section>\n      {!addressInfo?.status ? <>\n      <PageTitle title=\"Address\" />\n      <Table bodyOnly>\n        <TableBody tdStyles={AddressTableBodyCustomStyles}>\n          <tr><td>Address</td><HighlightedCell>{id}</HighlightedCell></tr>\n          <tr><td>Balance</td><td><Badge type={'neutralHighlight'} content={addressInfo?.balance} amount /></td></tr>\n        </TableBody>\n      </Table>\n      \n      <SecondaryTitle>History</SecondaryTitle>\n      <Table hasDetails main>\n        <TableHeader headerTitles={[ 'Hash', 'Timestamp', '', 'Account(s)', 'Amount', '' ]} columnWidths={[ '10%', '15%', '80px', '30%', '130px', '40px']} />\n        <TableBody>\n          {addressInfo?.transactions.sort((t1, t2) => t2.timestamp - t1.timestamp).map((t, i) => (\n            <AddressTransactionRow transaction={t} key={i} />\n          ))}\n        </TableBody>\n      </Table>\n\n      </> : <span>{addressInfo?.detail}</span>}\n    </Section>\n  )\n}\n\ninterface AddressTransactionRowProps {\n  transaction: Transaction\n}\n\nconst AddressTransactionRow: FC<AddressTransactionRowProps> = ({ transaction }) => {\n  const { id } = useParams<ParamTypes>()\n\n  const t = transaction\n  const {detailOpen, toggleDetail} = useTableDetailsState(false)\n\n  const isOut = t.inputs.findIndex(i => i.address === id) !== -1\n\n  const renderOutputAccounts = () => {\n    return _(t.outputs.filter(o => o.address !== id)).map(v => v.address).uniq().value().map((v, i) => <AddressLink key={i} address={v} maxWidth=\"250px\" />)\n  }\n\n  const renderInputAccounts = () => {\n    return _(t.inputs.filter(o => o.address !== id)).map(v => v.address).uniq().value().map((v, i) => <AddressLink key={i} address={v} maxWidth=\"250px\" />)\n  }\n\n  return (\n    <>\n      <Row key={t.hash} isActive={detailOpen} >\n        <td><TightLink to={`/transactions/${t.hash}`} text={t.hash} maxWidth='120px'/></td>\n        <td>{dayjs().to(t.timestamp)}</td>\n        <td><Badge type={isOut ? 'minus' : 'plus'} content={isOut ? \"To\" : \"From\"}/></td>\n        <td>{isOut ? renderOutputAccounts() : renderInputAccounts()}</td>\n        <td><Badge type={isOut ? 'minus' : 'plus'} amount prefix={isOut ? '- ' : '+ '} content={t.outputs.reduce<number>((acc, o) => (acc + o.amount), 0).toString()}/></td>\n        <DetailToggle isOpen={detailOpen} onClick={toggleDetail} />\n      </Row> \n      <DetailsRow openCondition={detailOpen}>\n        <td />\n        <td />\n        <AnimatedCell colSpan={4}>\n          <Table noBorder>\n            <TableHeader headerTitles={['Inputs', '', 'Outputs']} columnWidths={[ '', '50px', '']} compact transparent/>\n            <TableBody>\n              <Row>\n                <td>{t.inputs.map((input, i) => <AddressLink key={i} address={input.address} txHashRef={input.txHashRef} amount={input.amount} maxWidth=\"180px\" /> )}</td>\n                <td style={{ textAlign: 'center' }}><ArrowRight size={12}/></td>\n                <td>{t.outputs.map((output, i) => <AddressLink key={i} address={output.address} amount={output.amount} maxWidth=\"180px\" /> )}</td>\n              </Row>\n            </TableBody>\n          </Table>\n        </AnimatedCell>\n      </DetailsRow>      \n    </>\n  )\n}\n\nconst AddressTableBodyCustomStyles: TDStyle[] = [\n  { \n    tdPos: 2,\n    style: css`\n      font-weight: 600;\n    `\n  }\n]\n\nexport default TransactionInfoSection","// Copyright 2018 The Alephium Authors\n// This file is part of the alephium project.\n//\n// The library is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Lesser General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// The library is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU Lesser General Public License for more details.\n//\n// You should have received a copy of the GNU Lesser General Public License\n// along with the library. If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter as Router, Redirect, Route, useLocation } from 'react-router-dom'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { darkTheme, lightTheme, ThemeType } from './style/themes'\nimport GlobalStyle from './style/globalStyles'\nimport * as serviceWorker from './serviceWorker';\n\nimport ThemeSwitcher from './components/ThemeSwitcher'\nimport Sidebar from './components/Sidebar'\nimport SearchBar from './components/SearchBar';\nimport BlockSection from './sections/BlockSection';\nimport { createClient, ScrollToTop } from './utils/util';\nimport { AlephClient } from './utils/client';\nimport BlockInfoSection from './sections/BlockInfoSection';\nimport TransactionInfoSection from './sections/TransactionInfoSection';\nimport AddressInfoSection from './sections/AddressInfoSection'\n\ninterface APIContextType {\n  client: AlephClient\n}\n\nexport const APIContext = React.createContext<APIContextType>({ client: new AlephClient(\"\") })\n\nconst App = () => {\n\n  const [theme, setTheme] = useStateWithLocalStorage<ThemeType>('theme', 'light')\n  const [client, setClient] = useState<AlephClient>(new AlephClient(\"\"))\n\n  const contentRef = useRef(null)\n\n  const getContentRef = useCallback(() => contentRef.current, [])\n\n  const location = useLocation()\n\n  useEffect(() => { \n    const params = new URLSearchParams(location.search)\n    setClient(createClient(params.get(\"address\")))\n  }, [location])\n  \n  return (\n    <Router>\n      <ThemeProvider theme={theme === 'light' ? lightTheme : darkTheme} >\n        <GlobalStyle />\n        <APIContext.Provider value={{ client }}>\n          <MainContainer>\n            <Sidebar/>\n            <ContentWrapper ref={contentRef}>\n              <ScrollToTop getScrollContainer={getContentRef} />\n              <ThemeSwitcher currentTheme={theme as ThemeType} switchTheme={setTheme as (arg0: ThemeType) => void} />\n              <Content>\n                <SearchBar />\n                <SectionWrapper>\n                  <Route exact path=\"/\">\n                    <Redirect to=\"/blocks\" />\n                  </Route>\n                  <Route exact path=\"/blocks\">\n                    <BlockSection />\n                  </Route>\n                  <Route path=\"/blocks/:id\">\n                    <BlockInfoSection />\n                  </Route>\n                  <Route path=\"/addresses/:id\">\n                    <AddressInfoSection />\n                  </Route>\n                  <Route path=\"/transactions/:id\">\n                    <TransactionInfoSection />\n                  </Route>\n                </SectionWrapper>\n              </Content>\n            </ContentWrapper>\n          </MainContainer>\n        </APIContext.Provider>\n      </ThemeProvider>\n    </Router>\n  )\n}\n\n/* Custom hooks */\n// Local storage hook\n\nfunction useStateWithLocalStorage<T>(localStorageKey: string, defaultValue: T) {\n  const [value, setValue] = React.useState(\n    localStorage.getItem(localStorageKey) || defaultValue\n  )\n \n  React.useEffect(() => {\n    localStorage.setItem(localStorageKey, value as string);\n  }, [localStorageKey, value])\n \n  return [value, setValue]\n}\n\n/* Styles */\n\nconst MainContainer = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  overflow: hidden;\n`\n\nconst ContentWrapper = styled.main`\n  position: relative;\n  flex: 1;\n  overflow-y: auto;\n`\n\nconst Content = styled.div`\n  max-width: 1200px;\n  margin: 80px auto;\n  padding: 0 5vw;\n`\n\nconst SectionWrapper = styled.main`\n  padding-top: 105px;\n`\n\nReactDOM.render(<Router><App/></Router>, document.getElementById('root'));\n\n//\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}